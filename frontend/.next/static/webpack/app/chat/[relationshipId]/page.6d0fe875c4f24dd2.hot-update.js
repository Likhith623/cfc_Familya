"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[relationshipId]/page",{

/***/ "(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx":
/*!************************************************!*\
  !*** ./src/app/chat/[relationshipId]/page.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/info.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/flame.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gamepad-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/AuthContext */ \"(app-pages-browser)/./src/lib/AuthContext.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const relationshipId = params.relationshipId;\n    const { user } = (0,_lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [chatData, setChatData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showTranslation, setShowTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [showCulturalNote, setShowCulturalNote] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [translations, setTranslations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [translationApiStatus, setTranslationApiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('unknown');\n    const [translationApiError, setTranslationApiError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const loadChat = {\n                \"ChatPage.useEffect.loadChat\": async ()=>{\n                    try {\n                        setIsLoading(true);\n                        const [relData, msgData] = await Promise.all([\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getRelationship(relationshipId),\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50)\n                        ]);\n                        setChatData(relData);\n                        setMessages(msgData.messages || []);\n                    } catch (err) {\n                        console.error('Failed to load chat:', err);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to load chat');\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"ChatPage.useEffect.loadChat\"];\n            if (relationshipId && user) loadChat();\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!relationshipId || !user || isLoading) return;\n            const poll = {\n                \"ChatPage.useEffect.poll\": async ()=>{\n                    try {\n                        const msgData = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50);\n                        const fresh = msgData.messages || [];\n                        setMessages({\n                            \"ChatPage.useEffect.poll\": (prev)=>{\n                                var _fresh_, _prev_;\n                                if (fresh.length !== prev.length || fresh.length > 0 && prev.length > 0 && ((_fresh_ = fresh[fresh.length - 1]) === null || _fresh_ === void 0 ? void 0 : _fresh_.id) !== ((_prev_ = prev[prev.length - 1]) === null || _prev_ === void 0 ? void 0 : _prev_.id)) {\n                                    return fresh;\n                                }\n                                return prev;\n                            }\n                        }[\"ChatPage.useEffect.poll\"]);\n                    } catch (e) {}\n                }\n            }[\"ChatPage.useEffect.poll\"];\n            const id = setInterval(poll, 3000);\n            return ({\n                \"ChatPage.useEffect\": ()=>clearInterval(id)\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _inputRef_current;\n            if (!isLoading) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }[\"ChatPage.useEffect\"], [\n        isLoading\n    ]);\n    // Proactively validate Google Translate API key once on mount.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            if (!key) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError('Missing Google API key');\n                return;\n            }\n            ({\n                \"ChatPage.useEffect\": async ()=>{\n                    try {\n                        const r = await fetch(\"https://translation.googleapis.com/language/translate/v2/languages?key=\".concat(encodeURIComponent(key)));\n                        if (!r.ok) {\n                            const txt = await r.text().catch({\n                                \"ChatPage.useEffect\": ()=>''\n                            }[\"ChatPage.useEffect\"]);\n                            throw new Error(txt || \"status \".concat(r.status));\n                        }\n                        setTranslationApiStatus('ok');\n                        setTranslationApiError(null);\n                    } catch (err) {\n                        setTranslationApiStatus('bad');\n                        setTranslationApiError(err.message || 'Invalid API key');\n                    }\n                }\n            })[\"ChatPage.useEffect\"]();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], []);\n    // Auto-translate incoming partner messages when enabled\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!autoTranslate || !user) return;\n            for (const msg of messages){\n                var _translations_msg_id, _translations_msg_id1;\n                if (msg.sender_id === user.id) continue;\n                if (((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.text) || ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.loading)) continue;\n                void translateMessageById(msg.id);\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages,\n        autoTranslate,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const sendMessage = async ()=>{\n        if (!input.trim() || isSending || !user) return;\n        const text = input.trim();\n        setInput('');\n        setIsSending(true);\n        const temp = {\n            id: \"temp-\".concat(Date.now()),\n            relationship_id: relationshipId,\n            sender_id: user.id,\n            content_type: 'text',\n            original_text: text,\n            original_language: 'en',\n            has_idiom: false,\n            is_read: false,\n            created_at: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                temp\n            ]);\n        try {\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage({\n                relationship_id: relationshipId,\n                original_text: text,\n                content_type: 'text'\n            });\n            setMessages((prev)=>prev.map((m)=>m.id === temp.id ? res.message : m));\n        } catch (err) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to send');\n            setMessages((prev)=>prev.filter((m)=>m.id !== temp.id));\n            setInput(text);\n        } finally{\n            var _inputRef_current;\n            setIsSending(false);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    };\n    const toggleTranslation = (msgId)=>{\n        setShowTranslation((p)=>({\n                ...p,\n                [msgId]: !p[msgId]\n            }));\n        // If we don't have a cached translation, trigger one when user opens\n        if (!translations[msgId]) {\n            void translateMessageById(msgId);\n        }\n    };\n    // Map common language names to ISO codes (fallbacks).\n    const mapLanguageToCode = (lang)=>{\n        if (!lang) return 'en';\n        const l = lang.toLowerCase();\n        const map = {\n            english: 'en',\n            spanish: 'es',\n            french: 'fr',\n            german: 'de',\n            italian: 'it',\n            portuguese: 'pt',\n            russian: 'ru',\n            chinese: 'zh',\n            'simplified chinese': 'zh-CN',\n            hindi: 'hi',\n            arabic: 'ar',\n            japanese: 'ja',\n            korean: 'ko'\n        };\n        if (map[l]) return map[l];\n        // If already looks like a code (2 or 5 chars like zh-CN), return it\n        if (/^[a-z]{2}(-[A-Z]{2})?$/.test(lang)) return lang;\n        return 'en';\n    };\n    const translateMessageById = async (msgId)=>{\n        var _translations_msgId, _translations_msgId1, _user_languages;\n        const msg = messages.find((m)=>m.id === msgId);\n        if (!msg || !user) return;\n        // Avoid re-translation if already loading/translated\n        if (((_translations_msgId = translations[msgId]) === null || _translations_msgId === void 0 ? void 0 : _translations_msgId.loading) || ((_translations_msgId1 = translations[msgId]) === null || _translations_msgId1 === void 0 ? void 0 : _translations_msgId1.text)) return;\n        // Ensure API key works (checked once on mount); if unknown, perform a quick validation\n        const ensureKeyValid = async ()=>{\n            if (translationApiStatus !== 'unknown') return;\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            if (!key) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError('Missing Google API key');\n                return;\n            }\n            try {\n                const r = await fetch(\"https://translation.googleapis.com/language/translate/v2/languages?key=\".concat(encodeURIComponent(key)));\n                if (!r.ok) {\n                    const txt = await r.text().catch(()=>'');\n                    throw new Error(txt || \"status \".concat(r.status));\n                }\n                setTranslationApiStatus('ok');\n                setTranslationApiError(null);\n            } catch (err) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError(err.message || 'Invalid API key');\n            }\n        };\n        if (translationApiStatus === 'unknown') {\n            await ensureKeyValid();\n        }\n        if (translationApiStatus === 'bad') {\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: translationApiError || 'Translation API key invalid'\n                    }\n                }));\n            return;\n        }\n        // Determine target language: prefer explicit user.preferred_language, then first user.languages entry\n        const preferredLangRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]);\n        const target = mapLanguageToCode(preferredLangRaw) || 'en';\n        setTranslations((prev)=>({\n                ...prev,\n                [msgId]: {\n                    loading: true\n                }\n            }));\n        try {\n            var _data_data_translations_, _data_data_translations, _data_data;\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            const res = await fetch(\"https://translation.googleapis.com/language/translate/v2?key=\".concat(encodeURIComponent(key)), {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    q: msg.original_text,\n                    target\n                })\n            });\n            if (!res.ok) throw new Error(\"Translate API error \".concat(res.status));\n            const data = await res.json();\n            const translated = data === null || data === void 0 ? void 0 : (_data_data = data.data) === null || _data_data === void 0 ? void 0 : (_data_data_translations = _data_data.translations) === null || _data_data_translations === void 0 ? void 0 : (_data_data_translations_ = _data_data_translations[0]) === null || _data_data_translations_ === void 0 ? void 0 : _data_data_translations_.translatedText;\n            if (!translated) throw new Error('No translation returned');\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        text: translated\n                    }\n                }));\n        } catch (err) {\n            console.error('Translation failed:', err);\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: err.message || 'Translation failed'\n                    }\n                }));\n        }\n    };\n    const fmtTime = (s)=>new Date(s).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    const fmtDate = (s)=>{\n        const d = new Date(s), now = new Date();\n        const diff = Math.floor((now.getTime() - d.getTime()) / 86400000);\n        if (diff === 0) return 'Today';\n        if (diff === 1) return 'Yesterday';\n        return d.toLocaleDateString();\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-8 h-8 mx-auto animate-spin text-familia-400 mb-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 259,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm\",\n                            children: \"Loading conversation...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 260,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 258,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 257,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 256,\n            columnNumber: 7\n        }, this);\n    }\n    if (!chatData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center glass-card max-w-sm p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-10 h-10 mx-auto mb-3 text-muted opacity-30\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 272,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Not Found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 273,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm mb-4\",\n                            children: \"This conversation doesn't exist.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/chat\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-primary text-sm\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 32\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 275,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 271,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 269,\n            columnNumber: 7\n        }, this);\n    }\n    const { relationship, partner, my_role, partner_role } = chatData;\n    const isConsecutive = (i)=>{\n        if (i === 0) return false;\n        return messages[i].sender_id === messages[i - 1].sender_id;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-page-container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-wrapper\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"chat-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2.5 min-w-0 flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/chat\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                        className: \"p-1.5 -ml-1 rounded-lg hover:bg-white/5 transition\",\n                                        whileTap: {\n                                            scale: 0.9\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 rounded-full bg-gradient-to-br from-familia-500 to-bond-500 flex items-center justify-center text-lg shadow-md\",\n                                            children: _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role] || \"\\uD83E\\uDD1D\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-[var(--bg-primary)] \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-500' : 'bg-gray-500')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 306,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 302,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0 flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-[15px] truncate\",\n                                                    children: (partner === null || partner === void 0 ? void 0 : partner.display_name) || 'Partner'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 313,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (partner === null || partner === void 0 ? void 0 : partner.country) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-muted\",\n                                                    children: partner.country\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 312,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[11px] text-muted flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-400' : 'bg-gray-400')\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 318,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        (partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'Online' : 'Offline'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 317,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Your \",\n                                                        partner_role\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 322,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 323,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"badge-level !text-[9px] !px-1.5 !py-0\",\n                                                    children: [\n                                                        \"Lv.\",\n                                                        relationship.level,\n                                                        \" \",\n                                                        _types__WEBPACK_IMPORTED_MODULE_6__.LEVEL_NAMES[relationship.level]\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 316,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 311,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 295,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                            className: \"p-2 rounded-lg hover:bg-white/5 transition text-muted\",\n                            whileTap: {\n                                scale: 0.9\n                            },\n                            onClick: ()=>setShowInfo(!showInfo),\n                            children: showInfo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 53\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                animate: {\n                                    height: 'auto',\n                                    opacity: 1\n                                },\n                                exit: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                className: \"absolute left-0 right-0 top-full overflow-hidden border-t border-[var(--border-color)] bg-[var(--bg-card)] backdrop-blur-xl z-30\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-3 px-4 py-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-familia-400\",\n                                                    children: relationship.care_score || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 349,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Care\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 348,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-bond-400\",\n                                                    children: relationship.bond_points || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 353,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Bond\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 354,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 352,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-orange-400 flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                            className: \"w-3.5 h-3.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 358,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \" \",\n                                                        relationship.streak_days || 0\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 357,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Streak\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 360,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 356,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-muted\",\n                                                    children: relationship.messages_exchanged || messages.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 363,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Msgs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 364,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 362,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 341,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 339,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 294,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-messages-area\",\n                    children: [\n                        relationship.matched_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[10px] text-muted\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 text-heart-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 377,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Bond started \",\n                                    fmtDate(relationship.matched_at),\n                                    \" \\xb7 \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[my_role],\n                                    \" \",\n                                    my_role,\n                                    \" & \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role],\n                                    \" \",\n                                    partner_role\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 376,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 13\n                        }, this),\n                        messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12 px-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-familia-500/10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-8 h-8 text-familia-400 opacity-60\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 386,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 385,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold mb-1\",\n                                    children: \"Start chatting!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 388,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-muted text-xs\",\n                                    children: \"Say hello to your new family member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 389,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 384,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((msg, i)=>{\n                            var _translations_msg_id, _translations_msg_id1, _translations_msg_id2, _translations_msg_id3, _translations_msg_id4;\n                            const isMe = msg.sender_id === (user === null || user === void 0 ? void 0 : user.id);\n                            const showTrans = showTranslation[msg.id];\n                            const hasTranslation = msg.translated_text && msg.translated_text !== msg.original_text;\n                            const consecutive = isConsecutive(i);\n                            const prevMsg = i > 0 ? messages[i - 1] : null;\n                            const showDate = !prevMsg || fmtDate(msg.created_at) !== fmtDate(prevMsg.created_at);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center py-2 mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-3 py-0.5 rounded-full bg-[var(--bg-card)] text-[10px] text-muted border border-[var(--border-color)]\",\n                                            children: fmtDate(msg.created_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 404,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(isMe ? 'justify-end' : 'justify-start', \" \").concat(consecutive ? 'mt-[3px]' : 'mt-3'),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[80%]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative px-3 py-[7px] \".concat(isMe ? 'message-sent rounded-2xl rounded-br-[5px]' : 'message-received rounded-2xl rounded-bl-[5px]'),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-[13.5px] leading-[1.4] pr-14\",\n                                                            children: msg.original_text\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 418,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"absolute bottom-[5px] right-2.5 flex items-center gap-0.5 text-[10px] leading-none \".concat(isMe ? 'text-white/35' : 'text-[var(--text-muted)]'),\n                                                            style: {\n                                                                opacity: 0.6\n                                                            },\n                                                            children: [\n                                                                fmtTime(msg.created_at),\n                                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3.5 h-3.5 -mr-0.5 \".concat(msg.is_read ? 'text-blue-400' : '')\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 425,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 420,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>toggleTranslation(msg.id),\n                                                                            className: \"flex items-center gap-1 text-[10px] text-familia-400/60 hover:text-familia-400 transition\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                                    lineNumber: 437,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                showTranslation[msg.id] ? 'Hide' : 'Translate'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 433,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        ((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.loading) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-muted\",\n                                                                            children: \"Translating\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 441,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.error) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-rose-400\",\n                                                                            children: (_translations_msg_id2 = translations[msg.id]) === null || _translations_msg_id2 === void 0 ? void 0 : _translations_msg_id2.error\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 444,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 432,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                                    children: autoTranslate && ((_translations_msg_id3 = translations[msg.id]) === null || _translations_msg_id3 === void 0 ? void 0 : _translations_msg_id3.text) || showTranslation[msg.id] && ((_translations_msg_id4 = translations[msg.id]) === null || _translations_msg_id4 === void 0 ? void 0 : _translations_msg_id4.text) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                                        initial: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        animate: {\n                                                                            height: 'auto',\n                                                                            opacity: 1\n                                                                        },\n                                                                        exit: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        className: \"mt-1 pt-1 border-t border-white/10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-muted italic\",\n                                                                            children: translations[msg.id].text\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 456,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 450,\n                                                                        columnNumber: 31\n                                                                    }, this) : null\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 448,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 431,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setShowCulturalNote(showCulturalNote === msg.id ? null : msg.id),\n                                                            className: \"flex items-center gap-1 mt-1 text-[10px] text-amber-400/60 hover:text-amber-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 468,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" Culture tip\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 464,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 413,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                    children: showCulturalNote === msg.id && msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                        initial: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        animate: {\n                                                            opacity: 1,\n                                                            scale: 1\n                                                        },\n                                                        exit: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        className: \"mt-1 mx-0.5 p-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-[11px] leading-relaxed\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1 font-semibold text-amber-300 mb-0.5 text-[10px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 482,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" Cultural Note\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 481,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-amber-200/70\",\n                                                                children: msg.cultural_note\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 484,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                        lineNumber: 475,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 473,\n                                                    columnNumber: 21\n                                                }, this),\n                                                msg.has_idiom && msg.idiom_explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 mx-0.5 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[11px] text-purple-300\",\n                                                    children: msg.idiom_explanation\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 490,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 411,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 402,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 5\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0\n                                },\n                                className: \"flex items-end gap-1.5 mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"typing-indicator !py-2 !px-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 27\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 508,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 502,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 500,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messagesEndRef,\n                            className: \"h-1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 515,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"chat-footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-actions-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/contests?relationship=\".concat(relationshipId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-amber-500/10 text-amber-400 hover:bg-amber-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 523,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Challenge\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 522,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/games\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-purple-500/10 text-purple-400 hover:bg-purple-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 528,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Game\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 527,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 526,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill bg-heart-500/10 text-heart-400 hover:bg-heart-500/20\",\n                                    onClick: ()=>(0,react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('Coming soon!', {\n                                            icon: \"\\uD83C\\uDF81\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 535,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Gift\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 531,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill \".concat(autoTranslate ? 'bg-familia-500/15 text-familia-400' : 'bg-white/5 text-muted'),\n                                    onClick: ()=>setAutoTranslate(!autoTranslate),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 541,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" \",\n                                        autoTranslate ? 'Auto \\u2713' : 'Auto \\u2717'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-input-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    className: \"p-1.5 text-muted hover:text-[var(--text-primary)] transition\",\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 546,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>e.key === 'Enter' && !e.shiftKey && sendMessage(),\n                                            placeholder: \"Type a message...\",\n                                            className: \"chat-text-input\",\n                                            disabled: isSending\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 551,\n                                            columnNumber: 15\n                                        }, this),\n                                        autoTranslate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-muted/40 flex items-center gap-0.5 pointer-events-none\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 562,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 561,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 550,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    onClick: sendMessage,\n                                    disabled: !input.trim() || isSending,\n                                    className: \"p-2.5 rounded-full transition-all \".concat(input.trim() && !isSending ? 'bg-gradient-to-br from-familia-500 to-heart-500 text-white shadow-lg shadow-familia-500/30' : 'bg-white/5 text-muted'),\n                                    whileTap: {\n                                        scale: 0.85\n                                    },\n                                    children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-5 h-5 animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 75\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 567,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 545,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 519,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 291,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n        lineNumber: 290,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"F4aJR6sCf3NAu31TPJBGtivwJsM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9bcmVsYXRpb25zaGlwSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFd0Q7QUFDM0I7QUFDdUI7QUFDUjtBQUl0QjtBQUNVO0FBQ1k7QUFDdUQ7QUFDL0Q7QUFVckIsU0FBUzJCOztJQUN0QixNQUFNQyxTQUFTdEIsMERBQVNBO0lBQ3hCLE1BQU11QixpQkFBaUJELE9BQU9DLGNBQWM7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR1AseURBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1EsVUFBVUMsWUFBWSxHQUFHN0IsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUM4QixPQUFPQyxTQUFTLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxXQUFXQyxhQUFhLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQyxVQUFVQyxZQUFZLEdBQUd2QywrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDd0MsaUJBQWlCQyxtQkFBbUIsR0FBR3pDLCtDQUFRQSxDQUEwQixDQUFDO0lBQ2pGLE1BQU0sQ0FBQzBDLGtCQUFrQkMsb0JBQW9CLEdBQUczQywrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxDQUFDNEMsVUFBVUMsWUFBWSxHQUFHN0MsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDOEMsZUFBZUMsaUJBQWlCLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNnRCxjQUFjQyxnQkFBZ0IsR0FBR2pELCtDQUFRQSxDQUF1RSxDQUFDO0lBQ3hILE1BQU0sQ0FBQ2tELHNCQUFzQkMsd0JBQXdCLEdBQUduRCwrQ0FBUUEsQ0FB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OzRDQUN4Q0csV0FBVyxDQUFDRCxJQUFNQSxFQUFFaEksR0FBRyxLQUFLLFdBQVcsQ0FBQ2dJLEVBQUVFLFFBQVEsSUFBSWpIOzRDQUN0RGtILGFBQVk7NENBQ1poRCxXQUFVOzRDQUNWaUQsVUFBVWpMOzs7Ozs7d0NBRVhZLCtCQUNDLDhEQUFDbUg7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUN0SixxTEFBU0E7Z0RBQUNzSixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FLM0IsOERBQUNySyxrREFBTUEsQ0FBQ3dLLE1BQU07b0NBQ1pjLFNBQVNuRjtvQ0FDVG1ILFVBQVUsQ0FBQ3JMLE1BQU1tRSxJQUFJLE1BQU0vRDtvQ0FDM0JnSSxXQUFXLHFDQUlWLE9BSENwSSxNQUFNbUUsSUFBSSxNQUFNLENBQUMvRCxZQUNiLCtGQUNBO29DQUVOMkksVUFBVTt3Q0FBRUMsT0FBTztvQ0FBSzs4Q0FFdkI1SSwwQkFBWSw4REFBQ2xCLG9MQUFPQTt3Q0FBQ2tKLFdBQVU7Ozs7OzZEQUE0Qiw4REFBQzdKLHFMQUFJQTt3Q0FBQzZKLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPMUY7R0FoakJ3QjFJOztRQUNQckIsc0RBQVNBO1FBRVBpQixxREFBT0E7OztLQUhGSSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpa2hpdGguL2NmY19GYW1pbHlhXzEvZnJvbnRlbmQvc3JjL2FwcC9jaGF0L1tyZWxhdGlvbnNoaXBJZF0vcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQge1xuICBBcnJvd0xlZnQsIFNlbmQsIEdsb2JlLCBIZWFydCwgU21pbGUsIEdhbWVwYWQyLCBUcm9waHksIEluZm8sXG4gIExhbmd1YWdlcywgU3BhcmtsZXMsIEZsYW1lLCBHaWZ0LCBMb2FkZXIyLCBYLCBDaGVja0NoZWNrXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvbGliL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFJPTEVfRU1PSklTLCBMRVZFTF9OQU1FUywgTEVWRUxfRkVBVFVSRVMsIE1lc3NhZ2UsIFJlbGF0aW9uc2hpcCwgUHJvZmlsZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmludGVyZmFjZSBDaGF0RGF0YSB7XG4gIHJlbGF0aW9uc2hpcDogUmVsYXRpb25zaGlwO1xuICBwYXJ0bmVyOiBQcm9maWxlO1xuICBteV9yb2xlOiBzdHJpbmc7XG4gIHBhcnRuZXJfcm9sZTogc3RyaW5nO1xuICBmZWF0dXJlc191bmxvY2tlZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3QgcmVsYXRpb25zaGlwSWQgPSBwYXJhbXMucmVsYXRpb25zaGlwSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjaGF0RGF0YSwgc2V0Q2hhdERhdGFdID0gdXNlU3RhdGU8Q2hhdERhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dUcmFuc2xhdGlvbiwgc2V0U2hvd1RyYW5zbGF0aW9uXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtzaG93Q3VsdHVyYWxOb3RlLCBzZXRTaG93Q3VsdHVyYWxOb3RlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0luZm8sIHNldFNob3dJbmZvXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dG9UcmFuc2xhdGUsIHNldEF1dG9UcmFuc2xhdGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmFuc2xhdGlvbnMsIHNldFRyYW5zbGF0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB7IHRleHQ/OiBzdHJpbmc7IGxvYWRpbmc/OiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9Pj4oe30pO1xuICBjb25zdCBbdHJhbnNsYXRpb25BcGlTdGF0dXMsIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzXSA9IHVzZVN0YXRlPCd1bmtub3duJyB8ICdvaycgfCAnYmFkJz4oJ3Vua25vd24nKTtcbiAgY29uc3QgW3RyYW5zbGF0aW9uQXBpRXJyb3IsIHNldFRyYW5zbGF0aW9uQXBpRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkQ2hhdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgY29uc3QgW3JlbERhdGEsIG1zZ0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGFwaS5nZXRSZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwSWQpLFxuICAgICAgICAgIGFwaS5nZXRNZXNzYWdlcyhyZWxhdGlvbnNoaXBJZCwgNTApXG4gICAgICAgIF0pO1xuICAgICAgICBzZXRDaGF0RGF0YShyZWxEYXRhKTtcbiAgICAgICAgc2V0TWVzc2FnZXMobXNnRGF0YS5tZXNzYWdlcyB8fCBbXSk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBjaGF0OicsIGVycik7XG4gICAgICAgIHRvYXN0LmVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBjaGF0Jyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlbGF0aW9uc2hpcElkICYmIHVzZXIpIGxvYWRDaGF0KCk7XG4gIH0sIFtyZWxhdGlvbnNoaXBJZCwgdXNlcl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZWxhdGlvbnNoaXBJZCB8fCAhdXNlciB8fCBpc0xvYWRpbmcpIHJldHVybjtcbiAgICBjb25zdCBwb2xsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbXNnRGF0YSA9IGF3YWl0IGFwaS5nZXRNZXNzYWdlcyhyZWxhdGlvbnNoaXBJZCwgNTApO1xuICAgICAgICBjb25zdCBmcmVzaCA9IG1zZ0RhdGEubWVzc2FnZXMgfHwgW107XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICAgIGlmIChmcmVzaC5sZW5ndGggIT09IHByZXYubGVuZ3RoIHx8XG4gICAgICAgICAgICAgIChmcmVzaC5sZW5ndGggPiAwICYmIHByZXYubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgZnJlc2hbZnJlc2gubGVuZ3RoIC0gMV0/LmlkICE9PSBwcmV2W3ByZXYubGVuZ3RoIC0gMV0/LmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyZXNoO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHsgLyogc2lsZW50ICovIH1cbiAgICB9O1xuICAgIGNvbnN0IGlkID0gc2V0SW50ZXJ2YWwocG9sbCwgMzAwMCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xuICB9LCBbcmVsYXRpb25zaGlwSWQsIHVzZXIsIGlzTG9hZGluZ10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IHNjcm9sbFRvQm90dG9tKCk7IH0sIFttZXNzYWdlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4geyBpZiAoIWlzTG9hZGluZykgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTsgfSwgW2lzTG9hZGluZ10pO1xuXG4gIC8vIFByb2FjdGl2ZWx5IHZhbGlkYXRlIEdvb2dsZSBUcmFuc2xhdGUgQVBJIGtleSBvbmNlIG9uIG1vdW50LlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9BUElfS0VZO1xuICAgIGlmICgha2V5KSB7XG4gICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnYmFkJyk7XG4gICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKCdNaXNzaW5nIEdvb2dsZSBBUEkga2V5Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdHJhbnNsYXRpb24uZ29vZ2xlYXBpcy5jb20vbGFuZ3VhZ2UvdHJhbnNsYXRlL3YyL2xhbmd1YWdlcz9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gKTtcbiAgICAgICAgaWYgKCFyLm9rKSB7XG4gICAgICAgICAgY29uc3QgdHh0ID0gYXdhaXQgci50ZXh0KCkuY2F0Y2goKCkgPT4gJycpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eHQgfHwgYHN0YXR1cyAke3Iuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdvaycpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKG51bGwpO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKGVyci5tZXNzYWdlIHx8ICdJbnZhbGlkIEFQSSBrZXknKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIC8vIEF1dG8tdHJhbnNsYXRlIGluY29taW5nIHBhcnRuZXIgbWVzc2FnZXMgd2hlbiBlbmFibGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdXRvVHJhbnNsYXRlIHx8ICF1c2VyKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBtc2cgb2YgbWVzc2FnZXMpIHtcbiAgICAgIGlmIChtc2cuc2VuZGVyX2lkID09PSB1c2VyLmlkKSBjb250aW51ZTtcbiAgICAgIGlmICh0cmFuc2xhdGlvbnNbbXNnLmlkXT8udGV4dCB8fCB0cmFuc2xhdGlvbnNbbXNnLmlkXT8ubG9hZGluZykgY29udGludWU7XG4gICAgICB2b2lkIHRyYW5zbGF0ZU1lc3NhZ2VCeUlkKG1zZy5pZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW21lc3NhZ2VzLCBhdXRvVHJhbnNsYXRlLCB1c2VyPy5pZF0pO1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXQudHJpbSgpIHx8IGlzU2VuZGluZyB8fCAhdXNlcikgcmV0dXJuO1xuICAgIGNvbnN0IHRleHQgPSBpbnB1dC50cmltKCk7XG4gICAgc2V0SW5wdXQoJycpO1xuICAgIHNldElzU2VuZGluZyh0cnVlKTtcblxuICAgIGNvbnN0IHRlbXA6IE1lc3NhZ2UgPSB7XG4gICAgICBpZDogYHRlbXAtJHtEYXRlLm5vdygpfWAsXG4gICAgICByZWxhdGlvbnNoaXBfaWQ6IHJlbGF0aW9uc2hpcElkLFxuICAgICAgc2VuZGVyX2lkOiB1c2VyLmlkLFxuICAgICAgY29udGVudF90eXBlOiAndGV4dCcsXG4gICAgICBvcmlnaW5hbF90ZXh0OiB0ZXh0LFxuICAgICAgb3JpZ2luYWxfbGFuZ3VhZ2U6ICdlbicsXG4gICAgICBoYXNfaWRpb206IGZhbHNlLFxuICAgICAgaXNfcmVhZDogZmFsc2UsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB0ZW1wXSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgcmVsYXRpb25zaGlwX2lkOiByZWxhdGlvbnNoaXBJZCxcbiAgICAgICAgb3JpZ2luYWxfdGV4dDogdGV4dCxcbiAgICAgICAgY29udGVudF90eXBlOiAndGV4dCcsXG4gICAgICB9KTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobSA9PiBtLmlkID09PSB0ZW1wLmlkID8gcmVzLm1lc3NhZ2UgOiBtKSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHRvYXN0LmVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VuZCcpO1xuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2LmZpbHRlcihtID0+IG0uaWQgIT09IHRlbXAuaWQpKTtcbiAgICAgIHNldElucHV0KHRleHQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlbmRpbmcoZmFsc2UpO1xuICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVHJhbnNsYXRpb24gPSAobXNnSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFNob3dUcmFuc2xhdGlvbihwID0+ICh7IC4uLnAsIFttc2dJZF06ICFwW21zZ0lkXSB9KSk7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNhY2hlZCB0cmFuc2xhdGlvbiwgdHJpZ2dlciBvbmUgd2hlbiB1c2VyIG9wZW5zXG4gICAgaWYgKCF0cmFuc2xhdGlvbnNbbXNnSWRdKSB7XG4gICAgICB2b2lkIHRyYW5zbGF0ZU1lc3NhZ2VCeUlkKG1zZ0lkKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTWFwIGNvbW1vbiBsYW5ndWFnZSBuYW1lcyB0byBJU08gY29kZXMgKGZhbGxiYWNrcykuXG4gIGNvbnN0IG1hcExhbmd1YWdlVG9Db2RlID0gKGxhbmc6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghbGFuZykgcmV0dXJuICdlbic7XG4gICAgY29uc3QgbCA9IGxhbmcudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBlbmdsaXNoOiAnZW4nLCBzcGFuaXNoOiAnZXMnLCBmcmVuY2g6ICdmcicsIGdlcm1hbjogJ2RlJywgaXRhbGlhbjogJ2l0JywgcG9ydHVndWVzZTogJ3B0JywgcnVzc2lhbjogJ3J1JywgY2hpbmVzZTogJ3poJywgJ3NpbXBsaWZpZWQgY2hpbmVzZSc6ICd6aC1DTicsIGhpbmRpOiAnaGknLCBhcmFiaWM6ICdhcicsIGphcGFuZXNlOiAnamEnLCBrb3JlYW46ICdrbydcbiAgICB9O1xuICAgIGlmIChtYXBbbF0pIHJldHVybiBtYXBbbF07XG4gICAgLy8gSWYgYWxyZWFkeSBsb29rcyBsaWtlIGEgY29kZSAoMiBvciA1IGNoYXJzIGxpa2UgemgtQ04pLCByZXR1cm4gaXRcbiAgICBpZiAoL15bYS16XXsyfSgtW0EtWl17Mn0pPyQvLnRlc3QobGFuZykpIHJldHVybiBsYW5nO1xuICAgIHJldHVybiAnZW4nO1xuICB9O1xuXG4gIGNvbnN0IHRyYW5zbGF0ZU1lc3NhZ2VCeUlkID0gYXN5bmMgKG1zZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlcy5maW5kKG0gPT4gbS5pZCA9PT0gbXNnSWQpO1xuICAgIGlmICghbXNnIHx8ICF1c2VyKSByZXR1cm47XG4gICAgLy8gQXZvaWQgcmUtdHJhbnNsYXRpb24gaWYgYWxyZWFkeSBsb2FkaW5nL3RyYW5zbGF0ZWRcbiAgICBpZiAodHJhbnNsYXRpb25zW21zZ0lkXT8ubG9hZGluZyB8fCB0cmFuc2xhdGlvbnNbbXNnSWRdPy50ZXh0KSByZXR1cm47XG5cbiAgICAvLyBFbnN1cmUgQVBJIGtleSB3b3JrcyAoY2hlY2tlZCBvbmNlIG9uIG1vdW50KTsgaWYgdW5rbm93biwgcGVyZm9ybSBhIHF1aWNrIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbnN1cmVLZXlWYWxpZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0cmFuc2xhdGlvbkFwaVN0YXR1cyAhPT0gJ3Vua25vd24nKSByZXR1cm47XG4gICAgICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfQVBJX0tFWTtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdiYWQnKTtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlFcnJvcignTWlzc2luZyBHb29nbGUgQVBJIGtleScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdHJhbnNsYXRpb24uZ29vZ2xlYXBpcy5jb20vbGFuZ3VhZ2UvdHJhbnNsYXRlL3YyL2xhbmd1YWdlcz9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gKTtcbiAgICAgICAgaWYgKCFyLm9rKSB7XG4gICAgICAgICAgY29uc3QgdHh0ID0gYXdhaXQgci50ZXh0KCkuY2F0Y2goKCkgPT4gJycpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eHQgfHwgYHN0YXR1cyAke3Iuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdvaycpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKG51bGwpO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKGVyci5tZXNzYWdlIHx8ICdJbnZhbGlkIEFQSSBrZXknKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRyYW5zbGF0aW9uQXBpU3RhdHVzID09PSAndW5rbm93bicpIHtcbiAgICAgIGF3YWl0IGVuc3VyZUtleVZhbGlkKCk7XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zbGF0aW9uQXBpU3RhdHVzID09PSAnYmFkJykge1xuICAgICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyBlcnJvcjogdHJhbnNsYXRpb25BcGlFcnJvciB8fCAnVHJhbnNsYXRpb24gQVBJIGtleSBpbnZhbGlkJyB9IH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGFyZ2V0IGxhbmd1YWdlOiBwcmVmZXIgZXhwbGljaXQgdXNlci5wcmVmZXJyZWRfbGFuZ3VhZ2UsIHRoZW4gZmlyc3QgdXNlci5sYW5ndWFnZXMgZW50cnlcbiAgICBjb25zdCBwcmVmZXJyZWRMYW5nUmF3ID0gKHVzZXIgYXMgYW55KT8ucHJlZmVycmVkX2xhbmd1YWdlIHx8ICh1c2VyIGFzIGFueSk/Lmxhbmd1YWdlcz8uWzBdO1xuICAgIGNvbnN0IHRhcmdldCA9IG1hcExhbmd1YWdlVG9Db2RlKHByZWZlcnJlZExhbmdSYXcpIHx8ICdlbic7XG5cbiAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IGxvYWRpbmc6IHRydWUgfSB9KSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9BUElfS0VZIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL3RyYW5zbGF0aW9uLmdvb2dsZWFwaXMuY29tL2xhbmd1YWdlL3RyYW5zbGF0ZS92Mj9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBxOiBtc2cub3JpZ2luYWxfdGV4dCwgdGFyZ2V0IH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBUcmFuc2xhdGUgQVBJIGVycm9yICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc3QgdHJhbnNsYXRlZCA9IGRhdGE/LmRhdGE/LnRyYW5zbGF0aW9ucz8uWzBdPy50cmFuc2xhdGVkVGV4dDtcbiAgICAgIGlmICghdHJhbnNsYXRlZCkgdGhyb3cgbmV3IEVycm9yKCdObyB0cmFuc2xhdGlvbiByZXR1cm5lZCcpO1xuICAgICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyB0ZXh0OiB0cmFuc2xhdGVkIH0gfSkpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2xhdGlvbiBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdUcmFuc2xhdGlvbiBmYWlsZWQnIH0gfSkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmbXRUaW1lID0gKHM6IHN0cmluZykgPT4gbmV3IERhdGUocykudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSk7XG4gIGNvbnN0IGZtdERhdGUgPSAoczogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKHMpLCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRpZmYgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gZC5nZXRUaW1lKCkpIC8gODY0MDAwMDApO1xuICAgIGlmIChkaWZmID09PSAwKSByZXR1cm4gJ1RvZGF5JztcbiAgICBpZiAoZGlmZiA9PT0gMSkgcmV0dXJuICdZZXN0ZXJkYXknO1xuICAgIHJldHVybiBkLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXBhZ2UtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC13cmFwcGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggbXgtYXV0byBhbmltYXRlLXNwaW4gdGV4dC1mYW1pbGlhLTQwMCBtYi0zXCIgLz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC1zbVwiPkxvYWRpbmcgY29udmVyc2F0aW9uLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWNoYXREYXRhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtd3JhcHBlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgZ2xhc3MtY2FyZCBtYXgtdy1zbSBwLTZcIj5cbiAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgbXgtYXV0byBtYi0zIHRleHQtbXV0ZWQgb3BhY2l0eS0zMFwiIC8+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgbWItMVwiPk5vdCBGb3VuZDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQtc20gbWItNFwiPlRoaXMgY29udmVyc2F0aW9uIGRvZXNuJmFwb3M7dCBleGlzdC48L3A+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2NoYXRcIj48YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IHRleHQtc21cIj5CYWNrPC9idXR0b24+PC9MaW5rPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCB7IHJlbGF0aW9uc2hpcCwgcGFydG5lciwgbXlfcm9sZSwgcGFydG5lcl9yb2xlIH0gPSBjaGF0RGF0YTtcblxuICBjb25zdCBpc0NvbnNlY3V0aXZlID0gKGk6IG51bWJlcikgPT4ge1xuICAgIGlmIChpID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2VzW2ldLnNlbmRlcl9pZCA9PT0gbWVzc2FnZXNbaSAtIDFdLnNlbmRlcl9pZDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXdyYXBwZXJcIj5cblxuICAgICAgICB7Lyog4pSA4pSAIEhlYWRlciDilIDilIAgKi99XG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yLjUgbWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvY2hhdFwiPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvbiBjbGFzc05hbWU9XCJwLTEuNSAtbWwtMSByb3VuZGVkLWxnIGhvdmVyOmJnLXdoaXRlLzUgdHJhbnNpdGlvblwiIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX0+XG4gICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tZmFtaWxpYS01MDAgdG8tYm9uZC01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1sZyBzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgICAgICB7Uk9MRV9FTU9KSVNbcGFydG5lcl9yb2xlXSB8fCAnXFx1ezFGOTFEfSd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIC1ib3R0b20tMC41IC1yaWdodC0wLjUgdy0zIGgtMyByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLVt2YXIoLS1iZy1wcmltYXJ5KV0gJHtcbiAgICAgICAgICAgICAgICBwYXJ0bmVyPy5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2JnLWdyZWVuLTUwMCcgOiAnYmctZ3JheS01MDAnXG4gICAgICAgICAgICAgIH1gfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVsxNXB4XSB0cnVuY2F0ZVwiPntwYXJ0bmVyPy5kaXNwbGF5X25hbWUgfHwgJ1BhcnRuZXInfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7cGFydG5lcj8uY291bnRyeSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LW11dGVkXCI+e3BhcnRuZXIuY291bnRyeX08L3NwYW4+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LW11dGVkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdy0xLjUgaC0xLjUgcm91bmRlZC1mdWxsICR7cGFydG5lcj8uc3RhdHVzID09PSAnYWN0aXZlJyA/ICdiZy1ncmVlbi00MDAnIDogJ2JnLWdyYXktNDAwJ31gfSAvPlxuICAgICAgICAgICAgICAgICAge3BhcnRuZXI/LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnT25saW5lJyA6ICdPZmZsaW5lJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib3BhY2l0eS00MFwiPiZtaWRkb3Q7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPllvdXIge3BhcnRuZXJfcm9sZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib3BhY2l0eS00MFwiPiZtaWRkb3Q7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlLWxldmVsICF0ZXh0LVs5cHhdICFweC0xLjUgIXB5LTBcIj5cbiAgICAgICAgICAgICAgICAgIEx2LntyZWxhdGlvbnNoaXAubGV2ZWx9IHtMRVZFTF9OQU1FU1tyZWxhdGlvbnNoaXAubGV2ZWxdfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy13aGl0ZS81IHRyYW5zaXRpb24gdGV4dC1tdXRlZFwiXG4gICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mbyghc2hvd0luZm8pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzaG93SW5mbyA/IDxYIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiA6IDxJbmZvIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPn1cbiAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG5cbiAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAge3Nob3dJbmZvICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCByaWdodC0wIHRvcC1mdWxsIG92ZXJmbG93LWhpZGRlbiBib3JkZXItdCBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildIGJnLVt2YXIoLS1iZy1jYXJkKV0gYmFja2Ryb3AtYmx1ci14bCB6LTMwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMyBweC00IHB5LTMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LWZhbWlsaWEtNDAwXCI+e3JlbGF0aW9uc2hpcC5jYXJlX3Njb3JlIHx8IDB9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+Q2FyZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1ib25kLTQwMFwiPntyZWxhdGlvbnNoaXAuYm9uZF9wb2ludHMgfHwgMH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5Cb25kPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LW9yYW5nZS00MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RmxhbWUgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPiB7cmVsYXRpb25zaGlwLnN0cmVha19kYXlzIHx8IDB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPlN0cmVhazwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1tdXRlZFwiPntyZWxhdGlvbnNoaXAubWVzc2FnZXNfZXhjaGFuZ2VkIHx8IG1lc3NhZ2VzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5Nc2dzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgey8qIOKUgOKUgCBNZXNzYWdlcyDilIDilIAgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlcy1hcmVhXCI+XG4gICAgICAgICAge3JlbGF0aW9uc2hpcC5tYXRjaGVkX2F0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1iZy1jYXJkKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyLWNvbG9yKV0gdGV4dC1bMTBweF0gdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtaGVhcnQtNDAwXCIgLz5cbiAgICAgICAgICAgICAgICBCb25kIHN0YXJ0ZWQge2ZtdERhdGUocmVsYXRpb25zaGlwLm1hdGNoZWRfYXQpfSAmbWlkZG90OyB7Uk9MRV9FTU9KSVNbbXlfcm9sZV19IHtteV9yb2xlfSAmIHtST0xFX0VNT0pJU1twYXJ0bmVyX3JvbGVdfSB7cGFydG5lcl9yb2xlfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyIHB4LTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IHJvdW5kZWQtZnVsbCBiZy1mYW1pbGlhLTUwMC8xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZmFtaWxpYS00MDAgb3BhY2l0eS02MFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgbWItMVwiPlN0YXJ0IGNoYXR0aW5nITwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC14c1wiPlNheSBoZWxsbyB0byB5b3VyIG5ldyBmYW1pbHkgbWVtYmVyPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1zZywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNNZSA9IG1zZy5zZW5kZXJfaWQgPT09IHVzZXI/LmlkO1xuICAgICAgICAgICAgY29uc3Qgc2hvd1RyYW5zID0gc2hvd1RyYW5zbGF0aW9uW21zZy5pZF07XG4gICAgICAgICAgICBjb25zdCBoYXNUcmFuc2xhdGlvbiA9IG1zZy50cmFuc2xhdGVkX3RleHQgJiYgbXNnLnRyYW5zbGF0ZWRfdGV4dCAhPT0gbXNnLm9yaWdpbmFsX3RleHQ7XG4gICAgICAgICAgICBjb25zdCBjb25zZWN1dGl2ZSA9IGlzQ29uc2VjdXRpdmUoaSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2TXNnID0gaSA+IDAgPyBtZXNzYWdlc1tpIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgc2hvd0RhdGUgPSAhcHJldk1zZyB8fCBmbXREYXRlKG1zZy5jcmVhdGVkX2F0KSAhPT0gZm10RGF0ZShwcmV2TXNnLmNyZWF0ZWRfYXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfT5cbiAgICAgICAgICAgICAgICB7c2hvd0RhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIHB5LTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC0zIHB5LTAuNSByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWJnLWNhcmQpXSB0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2ZtdERhdGUobXNnLmNyZWF0ZWRfYXQpfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4ICR7aXNNZSA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9ICR7Y29uc2VjdXRpdmUgPyAnbXQtWzNweF0nIDogJ210LTMnfWB9PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1bODAlXVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHJlbGF0aXZlIHB4LTMgcHktWzdweF0gJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc01lXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdtZXNzYWdlLXNlbnQgcm91bmRlZC0yeGwgcm91bmRlZC1ici1bNXB4XSdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ21lc3NhZ2UtcmVjZWl2ZWQgcm91bmRlZC0yeGwgcm91bmRlZC1ibC1bNXB4XSdcbiAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEzLjVweF0gbGVhZGluZy1bMS40XSBwci0xNFwiPnttc2cub3JpZ2luYWxfdGV4dH08L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBib3R0b20tWzVweF0gcmlnaHQtMi41IGZsZXggaXRlbXMtY2VudGVyIGdhcC0wLjUgdGV4dC1bMTBweF0gbGVhZGluZy1ub25lICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc01lID8gJ3RleHQtd2hpdGUvMzUnIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSdcbiAgICAgICAgICAgICAgICAgICAgICB9YH0gc3R5bGU9e3sgb3BhY2l0eTogMC42IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAge2ZtdFRpbWUobXNnLmNyZWF0ZWRfYXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2lzTWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaGVjayBjbGFzc05hbWU9e2B3LTMuNSBoLTMuNSAtbXItMC41ICR7bXNnLmlzX3JlYWQgPyAndGV4dC1ibHVlLTQwMCcgOiAnJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogVHJhbnNsYXRpb24gVUk6IGFsd2F5cyBvZmZlciB0cmFuc2xhdGUgZm9yIHBhcnRuZXIgbWVzc2FnZXMuIFVzZSBjYWNoZWQgdHJhbnNsYXRpb25zLCBzaG93IGxvYWRpbmcvZXJyb3IsIHN1cHBvcnQgYXV0by10cmFuc2xhdGUuICovfVxuICAgICAgICAgICAgICAgICAgICAgIHshaXNNZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRyYW5zbGF0aW9uKG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsxMHB4XSB0ZXh0LWZhbWlsaWEtNDAwLzYwIGhvdmVyOnRleHQtZmFtaWxpYS00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93VHJhbnNsYXRpb25bbXNnLmlkXSA/ICdIaWRlJyA6ICdUcmFuc2xhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGlvbnNbbXNnLmlkXT8ubG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkXCI+VHJhbnNsYXRpbmfigKY8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRpb25zW21zZy5pZF0/LmVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtcm9zZS00MDBcIj57dHJhbnNsYXRpb25zW21zZy5pZF0/LmVycm9yfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoYXV0b1RyYW5zbGF0ZSAmJiB0cmFuc2xhdGlvbnNbbXNnLmlkXT8udGV4dCkgfHwgKHNob3dUcmFuc2xhdGlvblttc2cuaWRdICYmIHRyYW5zbGF0aW9uc1ttc2cuaWRdPy50ZXh0KSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBwdC0xIGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZCBpdGFsaWNcIj57dHJhbnNsYXRpb25zW21zZy5pZF0udGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDdWx0dXJhbE5vdGUoc2hvd0N1bHR1cmFsTm90ZSA9PT0gbXNnLmlkID8gbnVsbCA6IG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG10LTEgdGV4dC1bMTBweF0gdGV4dC1hbWJlci00MDAvNjAgaG92ZXI6dGV4dC1hbWJlci00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyZSB0aXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dDdWx0dXJhbE5vdGUgPT09IG1zZy5pZCAmJiBtc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC14bCBiZy1hbWJlci01MDAvMTAgYm9yZGVyIGJvcmRlci1hbWJlci01MDAvMjAgdGV4dC1bMTFweF0gbGVhZGluZy1yZWxheGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItMzAwIG1iLTAuNSB0ZXh0LVsxMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyYWwgTm90ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1hbWJlci0yMDAvNzBcIj57bXNnLmN1bHR1cmFsX25vdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICAgICAgICAgICAgICAgIHttc2cuaGFzX2lkaW9tICYmIG1zZy5pZGlvbV9leHBsYW5hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC1sZyBiZy1wdXJwbGUtNTAwLzEwIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8yMCB0ZXh0LVsxMXB4XSB0ZXh0LXB1cnBsZS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaWRpb21fZXhwbGFuYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1IH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgZ2FwLTEuNSBtdC0yXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwaW5nLWluZGljYXRvciAhcHktMiAhcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gLz48c3BhbiAvPjxzcGFuIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IGNsYXNzTmFtZT1cImgtMVwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDilIDilIAgRm9vdGVyIOKUgOKUgCAqL31cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJjaGF0LWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb25zLWJhclwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9jb250ZXN0cz9yZWxhdGlvbnNoaXA9JHtyZWxhdGlvbnNoaXBJZH1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTQwMCBob3ZlcjpiZy1hbWJlci01MDAvMjBcIj5cbiAgICAgICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDaGFsbGVuZ2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2dhbWVzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb24tcGlsbCBiZy1wdXJwbGUtNTAwLzEwIHRleHQtcHVycGxlLTQwMCBob3ZlcjpiZy1wdXJwbGUtNTAwLzIwXCI+XG4gICAgICAgICAgICAgICAgPEdhbWVwYWQyIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHYW1lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWhlYXJ0LTUwMC8xMCB0ZXh0LWhlYXJ0LTQwMCBob3ZlcjpiZy1oZWFydC01MDAvMjBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2FzdCgnQ29taW5nIHNvb24hJywgeyBpY29uOiAnXFx1ezFGMzgxfScgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHaWZ0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2hhdC1hY3Rpb24tcGlsbCAke2F1dG9UcmFuc2xhdGUgPyAnYmctZmFtaWxpYS01MDAvMTUgdGV4dC1mYW1pbGlhLTQwMCcgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ31gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBdXRvVHJhbnNsYXRlKCFhdXRvVHJhbnNsYXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiB7YXV0b1RyYW5zbGF0ZSA/ICdBdXRvIFxcdTI3MTMnIDogJ0F1dG8gXFx1MjcxNyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1pbnB1dC1iYXJcIj5cbiAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uIGNsYXNzTmFtZT1cInAtMS41IHRleHQtbXV0ZWQgaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1wcmltYXJ5KV0gdHJhbnNpdGlvblwiIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX0+XG4gICAgICAgICAgICAgIDxTbWlsZSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkgJiYgc2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgYSBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LXRleHQtaW5wdXRcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmd9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHthdXRvVHJhbnNsYXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIuNSB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1bMTBweF0gdGV4dC1tdXRlZC80MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMC41IHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgIDxMYW5ndWFnZXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaW5wdXQudHJpbSgpIHx8IGlzU2VuZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgaW5wdXQudHJpbSgpICYmICFpc1NlbmRpbmdcbiAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tZmFtaWxpYS01MDAgdG8taGVhcnQtNTAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1mYW1pbGlhLTUwMC8zMCdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlLzUgdGV4dC1tdXRlZCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjg1IH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1NlbmRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTUgaC01IGFuaW1hdGUtc3BpblwiIC8+IDogPFNlbmQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+fVxuICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsIkxpbmsiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVBhcmFtcyIsIkFycm93TGVmdCIsIlNlbmQiLCJHbG9iZSIsIkhlYXJ0IiwiU21pbGUiLCJHYW1lcGFkMiIsIlRyb3BoeSIsIkluZm8iLCJMYW5ndWFnZXMiLCJTcGFya2xlcyIsIkZsYW1lIiwiR2lmdCIsIkxvYWRlcjIiLCJYIiwiQ2hlY2tDaGVjayIsImFwaSIsInVzZUF1dGgiLCJST0xFX0VNT0pJUyIsIkxFVkVMX05BTUVTIiwidG9hc3QiLCJDaGF0UGFnZSIsInBhcmFtcyIsInJlbGF0aW9uc2hpcElkIiwidXNlciIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dCIsInNldElucHV0IiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImlzU2VuZGluZyIsInNldElzU2VuZGluZyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImNoYXREYXRhIiwic2V0Q2hhdERhdGEiLCJzaG93VHJhbnNsYXRpb24iLCJzZXRTaG93VHJhbnNsYXRpb24iLCJzaG93Q3VsdHVyYWxOb3RlIiwic2V0U2hvd0N1bHR1cmFsTm90ZSIsInNob3dJbmZvIiwic2V0U2hvd0luZm8iLCJhdXRvVHJhbnNsYXRlIiwic2V0QXV0b1RyYW5zbGF0ZSIsInRyYW5zbGF0aW9ucyIsInNldFRyYW5zbGF0aW9ucyIsInRyYW5zbGF0aW9uQXBpU3RhdHVzIiwic2V0VHJhbnNsYXRpb25BcGlTdGF0dXMiLCJ0cmFuc2xhdGlvbkFwaUVycm9yIiwic2V0VHJhbnNsYXRpb25BcGlFcnJvciIsIm1lc3NhZ2VzRW5kUmVmIiwiaW5wdXRSZWYiLCJzY3JvbGxUb0JvdHRvbSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwibG9hZENoYXQiLCJyZWxEYXRhIiwibXNnRGF0YSIsIlByb21pc2UiLCJhbGwiLCJnZXRSZWxhdGlvbnNoaXAiLCJnZXRNZXNzYWdlcyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJwb2xsIiwiZnJlc2giLCJwcmV2IiwibGVuZ3RoIiwiaWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJmb2N1cyIsImtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HT09HTEVfQVBJX0tFWSIsInIiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9rIiwidHh0IiwidGV4dCIsImNhdGNoIiwiRXJyb3IiLCJzdGF0dXMiLCJtc2ciLCJzZW5kZXJfaWQiLCJsb2FkaW5nIiwidHJhbnNsYXRlTWVzc2FnZUJ5SWQiLCJzZW5kTWVzc2FnZSIsInRyaW0iLCJ0ZW1wIiwiRGF0ZSIsIm5vdyIsInJlbGF0aW9uc2hpcF9pZCIsImNvbnRlbnRfdHlwZSIsIm9yaWdpbmFsX3RleHQiLCJvcmlnaW5hbF9sYW5ndWFnZSIsImhhc19pZGlvbSIsImlzX3JlYWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJyZXMiLCJtYXAiLCJtIiwiZmlsdGVyIiwidG9nZ2xlVHJhbnNsYXRpb24iLCJtc2dJZCIsInAiLCJtYXBMYW5ndWFnZVRvQ29kZSIsImxhbmciLCJsIiwidG9Mb3dlckNhc2UiLCJlbmdsaXNoIiwic3BhbmlzaCIsImZyZW5jaCIsImdlcm1hbiIsIml0YWxpYW4iLCJwb3J0dWd1ZXNlIiwicnVzc2lhbiIsImNoaW5lc2UiLCJoaW5kaSIsImFyYWJpYyIsImphcGFuZXNlIiwia29yZWFuIiwidGVzdCIsImZpbmQiLCJlbnN1cmVLZXlWYWxpZCIsInByZWZlcnJlZExhbmdSYXciLCJwcmVmZXJyZWRfbGFuZ3VhZ2UiLCJsYW5ndWFnZXMiLCJ0YXJnZXQiLCJkYXRhIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicSIsImpzb24iLCJ0cmFuc2xhdGVkIiwidHJhbnNsYXRlZFRleHQiLCJmbXRUaW1lIiwicyIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJmbXREYXRlIiwiZCIsImRpZmYiLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJocmVmIiwiYnV0dG9uIiwicmVsYXRpb25zaGlwIiwicGFydG5lciIsIm15X3JvbGUiLCJwYXJ0bmVyX3JvbGUiLCJpc0NvbnNlY3V0aXZlIiwiaSIsImhlYWRlciIsIndoaWxlVGFwIiwic2NhbGUiLCJzcGFuIiwiZGlzcGxheV9uYW1lIiwiY291bnRyeSIsImxldmVsIiwib25DbGljayIsImluaXRpYWwiLCJoZWlnaHQiLCJvcGFjaXR5IiwiYW5pbWF0ZSIsImV4aXQiLCJjYXJlX3Njb3JlIiwiYm9uZF9wb2ludHMiLCJzdHJlYWtfZGF5cyIsIm1lc3NhZ2VzX2V4Y2hhbmdlZCIsIm1hdGNoZWRfYXQiLCJoMyIsImlzTWUiLCJzaG93VHJhbnMiLCJoYXNUcmFuc2xhdGlvbiIsInRyYW5zbGF0ZWRfdGV4dCIsImNvbnNlY3V0aXZlIiwicHJldk1zZyIsInNob3dEYXRlIiwic3R5bGUiLCJjdWx0dXJhbF9ub3RlIiwiaWRpb21fZXhwbGFuYXRpb24iLCJ5IiwicmVmIiwiZm9vdGVyIiwiaWNvbiIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwib25LZXlEb3duIiwic2hpZnRLZXkiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx\n"));

/***/ })

});