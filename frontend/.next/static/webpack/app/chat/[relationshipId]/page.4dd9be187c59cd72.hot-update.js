"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[relationshipId]/page",{

/***/ "(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx":
/*!************************************************!*\
  !*** ./src/app/chat/[relationshipId]/page.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/info.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/flame.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gamepad-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/AuthContext */ \"(app-pages-browser)/./src/lib/AuthContext.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const relationshipId = params.relationshipId;\n    const { user } = (0,_lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [chatData, setChatData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showTranslation, setShowTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [showCulturalNote, setShowCulturalNote] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [translations, setTranslations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const loadChat = {\n                \"ChatPage.useEffect.loadChat\": async ()=>{\n                    try {\n                        setIsLoading(true);\n                        const [relData, msgData] = await Promise.all([\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getRelationship(relationshipId),\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50)\n                        ]);\n                        setChatData(relData);\n                        setMessages(msgData.messages || []);\n                    } catch (err) {\n                        console.error('Failed to load chat:', err);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to load chat');\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"ChatPage.useEffect.loadChat\"];\n            if (relationshipId && user) loadChat();\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!relationshipId || !user || isLoading) return;\n            const poll = {\n                \"ChatPage.useEffect.poll\": async ()=>{\n                    try {\n                        const msgData = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50);\n                        const fresh = msgData.messages || [];\n                        setMessages({\n                            \"ChatPage.useEffect.poll\": (prev)=>{\n                                var _fresh_, _prev_;\n                                if (fresh.length !== prev.length || fresh.length > 0 && prev.length > 0 && ((_fresh_ = fresh[fresh.length - 1]) === null || _fresh_ === void 0 ? void 0 : _fresh_.id) !== ((_prev_ = prev[prev.length - 1]) === null || _prev_ === void 0 ? void 0 : _prev_.id)) {\n                                    return fresh;\n                                }\n                                return prev;\n                            }\n                        }[\"ChatPage.useEffect.poll\"]);\n                    } catch (e) {}\n                }\n            }[\"ChatPage.useEffect.poll\"];\n            const id = setInterval(poll, 3000);\n            return ({\n                \"ChatPage.useEffect\": ()=>clearInterval(id)\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _inputRef_current;\n            if (!isLoading) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }[\"ChatPage.useEffect\"], [\n        isLoading\n    ]);\n    const sendMessage = async ()=>{\n        if (!input.trim() || isSending || !user) return;\n        const text = input.trim();\n        setInput('');\n        setIsSending(true);\n        const temp = {\n            id: \"temp-\".concat(Date.now()),\n            relationship_id: relationshipId,\n            sender_id: user.id,\n            content_type: 'text',\n            original_text: text,\n            original_language: 'en',\n            has_idiom: false,\n            is_read: false,\n            created_at: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                temp\n            ]);\n        try {\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage({\n                relationship_id: relationshipId,\n                original_text: text,\n                content_type: 'text'\n            });\n            setMessages((prev)=>prev.map((m)=>m.id === temp.id ? res.message : m));\n        } catch (err) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to send');\n            setMessages((prev)=>prev.filter((m)=>m.id !== temp.id));\n            setInput(text);\n        } finally{\n            var _inputRef_current;\n            setIsSending(false);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    };\n    const toggleTranslation = (msgId)=>{\n        setShowTranslation((p)=>({\n                ...p,\n                [msgId]: !p[msgId]\n            }));\n        // If we don't have a cached translation, trigger one when user opens\n        if (!translations[msgId]) {\n            void translateMessageById(msgId);\n        }\n    };\n    // Map common language names to ISO codes (fallbacks).\n    const mapLanguageToCode = (lang)=>{\n        if (!lang) return 'en';\n        const l = lang.toLowerCase();\n        const map = {\n            english: 'en',\n            spanish: 'es',\n            french: 'fr',\n            german: 'de',\n            italian: 'it',\n            portuguese: 'pt',\n            russian: 'ru',\n            chinese: 'zh',\n            'simplified chinese': 'zh-CN',\n            hindi: 'hi',\n            arabic: 'ar',\n            japanese: 'ja',\n            korean: 'ko'\n        };\n        if (map[l]) return map[l];\n        // If already looks like a code (2 or 5 chars like zh-CN), return it\n        if (/^[a-z]{2}(-[A-Z]{2})?$/.test(lang)) return lang;\n        return 'en';\n    };\n    const translateMessageById = async (msgId)=>{\n        var _translations_msgId, _translations_msgId1, _user_languages;\n        const msg = messages.find((m)=>m.id === msgId);\n        if (!msg || !user) return;\n        // Avoid re-translation if already loading/translated\n        if (((_translations_msgId = translations[msgId]) === null || _translations_msgId === void 0 ? void 0 : _translations_msgId.loading) || ((_translations_msgId1 = translations[msgId]) === null || _translations_msgId1 === void 0 ? void 0 : _translations_msgId1.text)) return;\n        const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n        if (!key) {\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: 'Missing Google API key'\n                    }\n                }));\n            return;\n        }\n        // Determine target language: prefer explicit user.preferred_language, then first user.languages entry\n        const preferredLangRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]);\n        const target = mapLanguageToCode(preferredLangRaw);\n        setTranslations((prev)=>({\n                ...prev,\n                [msgId]: {\n                    loading: true\n                }\n            }));\n        try {\n            var _data_data_translations_, _data_data_translations, _data_data;\n            const res = await fetch(\"https://translation.googleapis.com/language/translate/v2?key=\".concat(encodeURIComponent(key)), {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    q: msg.original_text,\n                    target\n                })\n            });\n            if (!res.ok) throw new Error(\"Translate API error \".concat(res.status));\n            const data = await res.json();\n            const translated = data === null || data === void 0 ? void 0 : (_data_data = data.data) === null || _data_data === void 0 ? void 0 : (_data_data_translations = _data_data.translations) === null || _data_data_translations === void 0 ? void 0 : (_data_data_translations_ = _data_data_translations[0]) === null || _data_data_translations_ === void 0 ? void 0 : _data_data_translations_.translatedText;\n            if (!translated) throw new Error('No translation returned');\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        text: translated\n                    }\n                }));\n        } catch (err) {\n            console.error('Translation failed:', err);\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: err.message || 'Translation failed'\n                    }\n                }));\n        }\n    };\n    const fmtTime = (s)=>new Date(s).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    const fmtDate = (s)=>{\n        const d = new Date(s), now = new Date();\n        const diff = Math.floor((now.getTime() - d.getTime()) / 86400000);\n        if (diff === 0) return 'Today';\n        if (diff === 1) return 'Yesterday';\n        return d.toLocaleDateString();\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-8 h-8 mx-auto animate-spin text-familia-400 mb-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 194,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm\",\n                            children: \"Loading conversation...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 192,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 191,\n            columnNumber: 7\n        }, this);\n    }\n    if (!chatData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center glass-card max-w-sm p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-10 h-10 mx-auto mb-3 text-muted opacity-30\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 207,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Not Found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 208,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm mb-4\",\n                            children: \"This conversation doesn't exist.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 209,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/chat\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-primary text-sm\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 210,\n                                columnNumber: 32\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 206,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 205,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 204,\n            columnNumber: 7\n        }, this);\n    }\n    const { relationship, partner, my_role, partner_role } = chatData;\n    const isConsecutive = (i)=>{\n        if (i === 0) return false;\n        return messages[i].sender_id === messages[i - 1].sender_id;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-page-container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-wrapper\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"chat-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2.5 min-w-0 flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/chat\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                        className: \"p-1.5 -ml-1 rounded-lg hover:bg-white/5 transition\",\n                                        whileTap: {\n                                            scale: 0.9\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 233,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 232,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 231,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 rounded-full bg-gradient-to-br from-familia-500 to-bond-500 flex items-center justify-center text-lg shadow-md\",\n                                            children: _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role] || \"\\uD83E\\uDD1D\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 238,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-[var(--bg-primary)] \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-500' : 'bg-gray-500')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 241,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 237,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0 flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-[15px] truncate\",\n                                                    children: (partner === null || partner === void 0 ? void 0 : partner.display_name) || 'Partner'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 248,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (partner === null || partner === void 0 ? void 0 : partner.country) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-muted\",\n                                                    children: partner.country\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 249,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 247,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[11px] text-muted flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-400' : 'bg-gray-400')\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 253,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        (partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'Online' : 'Offline'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 252,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 256,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Your \",\n                                                        partner_role\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 257,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 258,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"badge-level !text-[9px] !px-1.5 !py-0\",\n                                                    children: [\n                                                        \"Lv.\",\n                                                        relationship.level,\n                                                        \" \",\n                                                        _types__WEBPACK_IMPORTED_MODULE_6__.LEVEL_NAMES[relationship.level]\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 259,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 251,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 246,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 230,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                            className: \"p-2 rounded-lg hover:bg-white/5 transition text-muted\",\n                            whileTap: {\n                                scale: 0.9\n                            },\n                            onClick: ()=>setShowInfo(!showInfo),\n                            children: showInfo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 271,\n                                columnNumber: 53\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 266,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                animate: {\n                                    height: 'auto',\n                                    opacity: 1\n                                },\n                                exit: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                className: \"absolute left-0 right-0 top-full overflow-hidden border-t border-[var(--border-color)] bg-[var(--bg-card)] backdrop-blur-xl z-30\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-3 px-4 py-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-familia-400\",\n                                                    children: relationship.care_score || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 284,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Care\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 285,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 283,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-bond-400\",\n                                                    children: relationship.bond_points || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 288,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Bond\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 289,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 287,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-orange-400 flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                            className: \"w-3.5 h-3.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 293,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \" \",\n                                                        relationship.streak_days || 0\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 292,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Streak\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 295,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 291,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-muted\",\n                                                    children: relationship.messages_exchanged || messages.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 298,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Msgs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 299,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 282,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 276,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 229,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-messages-area\",\n                    children: [\n                        relationship.matched_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[10px] text-muted\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 text-heart-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 312,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Bond started \",\n                                    fmtDate(relationship.matched_at),\n                                    \" \\xb7 \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[my_role],\n                                    \" \",\n                                    my_role,\n                                    \" & \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role],\n                                    \" \",\n                                    partner_role\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 310,\n                            columnNumber: 13\n                        }, this),\n                        messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12 px-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-familia-500/10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-8 h-8 text-familia-400 opacity-60\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 321,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold mb-1\",\n                                    children: \"Start chatting!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 323,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-muted text-xs\",\n                                    children: \"Say hello to your new family member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 324,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((msg, i)=>{\n                            const isMe = msg.sender_id === (user === null || user === void 0 ? void 0 : user.id);\n                            const showTrans = showTranslation[msg.id];\n                            const hasTranslation = msg.translated_text && msg.translated_text !== msg.original_text;\n                            const consecutive = isConsecutive(i);\n                            const prevMsg = i > 0 ? messages[i - 1] : null;\n                            const showDate = !prevMsg || fmtDate(msg.created_at) !== fmtDate(prevMsg.created_at);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center py-2 mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-3 py-0.5 rounded-full bg-[var(--bg-card)] text-[10px] text-muted border border-[var(--border-color)]\",\n                                            children: fmtDate(msg.created_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 340,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 339,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(isMe ? 'justify-end' : 'justify-start', \" \").concat(consecutive ? 'mt-[3px]' : 'mt-3'),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[80%]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative px-3 py-[7px] \".concat(isMe ? 'message-sent rounded-2xl rounded-br-[5px]' : 'message-received rounded-2xl rounded-bl-[5px]'),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-[13.5px] leading-[1.4] pr-14\",\n                                                            children: msg.original_text\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 353,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"absolute bottom-[5px] right-2.5 flex items-center gap-0.5 text-[10px] leading-none \".concat(isMe ? 'text-white/35' : 'text-[var(--text-muted)]'),\n                                                            style: {\n                                                                opacity: 0.6\n                                                            },\n                                                            children: [\n                                                                fmtTime(msg.created_at),\n                                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3.5 h-3.5 -mr-0.5 \".concat(msg.is_read ? 'text-blue-400' : '')\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 360,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 355,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        hasTranslation && !isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>toggleTranslation(msg.id),\n                                                            className: \"flex items-center gap-1 mt-1.5 text-[10px] text-familia-400/60 hover:text-familia-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 369,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                showTrans ? 'Hide' : 'Translate'\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 365,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                            children: showTrans && hasTranslation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                                initial: {\n                                                                    height: 0,\n                                                                    opacity: 0\n                                                                },\n                                                                animate: {\n                                                                    height: 'auto',\n                                                                    opacity: 1\n                                                                },\n                                                                exit: {\n                                                                    height: 0,\n                                                                    opacity: 0\n                                                                },\n                                                                className: \"mt-1 pt-1 border-t border-white/10\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-muted italic\",\n                                                                    children: msg.translated_text\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 382,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 376,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 374,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setShowCulturalNote(showCulturalNote === msg.id ? null : msg.id),\n                                                            className: \"flex items-center gap-1 mt-1 text-[10px] text-amber-400/60 hover:text-amber-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 392,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" Culture tip\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 388,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 348,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                    children: showCulturalNote === msg.id && msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                        initial: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        animate: {\n                                                            opacity: 1,\n                                                            scale: 1\n                                                        },\n                                                        exit: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        className: \"mt-1 mx-0.5 p-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-[11px] leading-relaxed\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1 font-semibold text-amber-300 mb-0.5 text-[10px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 406,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" Cultural Note\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 405,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-amber-200/70\",\n                                                                children: msg.cultural_note\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 408,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                        lineNumber: 399,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 397,\n                                                    columnNumber: 21\n                                                }, this),\n                                                msg.has_idiom && msg.idiom_explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 mx-0.5 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[11px] text-purple-300\",\n                                                    children: msg.idiom_explanation\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 414,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 347,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 346,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 337,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 5\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0\n                                },\n                                className: \"flex items-end gap-1.5 mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"typing-indicator !py-2 !px-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 27\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 433,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 432,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 426,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 424,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messagesEndRef,\n                            className: \"h-1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 439,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 308,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"chat-footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-actions-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/contests?relationship=\".concat(relationshipId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-amber-500/10 text-amber-400 hover:bg-amber-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 447,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Challenge\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 446,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/games\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-purple-500/10 text-purple-400 hover:bg-purple-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 452,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Game\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 450,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill bg-heart-500/10 text-heart-400 hover:bg-heart-500/20\",\n                                    onClick: ()=>(0,react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('Coming soon!', {\n                                            icon: \"\\uD83C\\uDF81\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 459,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Gift\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 455,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill \".concat(autoTranslate ? 'bg-familia-500/15 text-familia-400' : 'bg-white/5 text-muted'),\n                                    onClick: ()=>setAutoTranslate(!autoTranslate),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 465,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" \",\n                                        autoTranslate ? 'Auto \\u2713' : 'Auto \\u2717'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 461,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 444,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-input-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    className: \"p-1.5 text-muted hover:text-[var(--text-primary)] transition\",\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 471,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>e.key === 'Enter' && !e.shiftKey && sendMessage(),\n                                            placeholder: \"Type a message...\",\n                                            className: \"chat-text-input\",\n                                            disabled: isSending\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 475,\n                                            columnNumber: 15\n                                        }, this),\n                                        autoTranslate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-muted/40 flex items-center gap-0.5 pointer-events-none\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 486,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 485,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 474,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    onClick: sendMessage,\n                                    disabled: !input.trim() || isSending,\n                                    className: \"p-2.5 rounded-full transition-all \".concat(input.trim() && !isSending ? 'bg-gradient-to-br from-familia-500 to-heart-500 text-white shadow-lg shadow-familia-500/30' : 'bg-white/5 text-muted'),\n                                    whileTap: {\n                                        scale: 0.85\n                                    },\n                                    children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-5 h-5 animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 75\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 491,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 469,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 443,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 226,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n        lineNumber: 225,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"QVJK0d45P2RSLUaKC3SnghS4Lac=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9bcmVsYXRpb25zaGlwSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFd0Q7QUFDM0I7QUFDdUI7QUFDUjtBQUl0QjtBQUNVO0FBQ1k7QUFDdUQ7QUFDL0Q7QUFVckIsU0FBUzJCOztJQUN0QixNQUFNQyxTQUFTdEIsMERBQVNBO0lBQ3hCLE1BQU11QixpQkFBaUJELE9BQU9DLGNBQWM7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR1AseURBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1EsVUFBVUMsWUFBWSxHQUFHN0IsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUM4QixPQUFPQyxTQUFTLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxXQUFXQyxhQUFhLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQyxVQUFVQyxZQUFZLEdBQUd2QywrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDd0MsaUJBQWlCQyxtQkFBbUIsR0FBR3pDLCtDQUFRQSxDQUEwQixDQUFDO0lBQ2pGLE1BQU0sQ0FBQzBDLGtCQUFrQkMsb0JBQW9CLEdBQUczQywrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxDQUFDNEMsVUFBVUMsWUFBWSxHQUFHN0MsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDOEMsZUFBZUMsaUJBQWlCLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNnRCxjQUFjQyxnQkFBZ0IsR0FBR2pELCtDQUFRQSxDQUF1RSxDQUFDO0lBQ3hILE1BQU1rRCxpQkFBaUJoRCw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTWlELFdB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QUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzFGO0dBcGV3QmxJOztRQUNQckIsc0RBQVNBO1FBRVBpQixxREFBT0E7OztLQUhGSSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpa2hpdGguL2NmY19GYW1pbHlhXzEvZnJvbnRlbmQvc3JjL2FwcC9jaGF0L1tyZWxhdGlvbnNoaXBJZF0vcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQge1xuICBBcnJvd0xlZnQsIFNlbmQsIEdsb2JlLCBIZWFydCwgU21pbGUsIEdhbWVwYWQyLCBUcm9waHksIEluZm8sXG4gIExhbmd1YWdlcywgU3BhcmtsZXMsIEZsYW1lLCBHaWZ0LCBMb2FkZXIyLCBYLCBDaGVja0NoZWNrXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvbGliL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFJPTEVfRU1PSklTLCBMRVZFTF9OQU1FUywgTEVWRUxfRkVBVFVSRVMsIE1lc3NhZ2UsIFJlbGF0aW9uc2hpcCwgUHJvZmlsZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmludGVyZmFjZSBDaGF0RGF0YSB7XG4gIHJlbGF0aW9uc2hpcDogUmVsYXRpb25zaGlwO1xuICBwYXJ0bmVyOiBQcm9maWxlO1xuICBteV9yb2xlOiBzdHJpbmc7XG4gIHBhcnRuZXJfcm9sZTogc3RyaW5nO1xuICBmZWF0dXJlc191bmxvY2tlZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3QgcmVsYXRpb25zaGlwSWQgPSBwYXJhbXMucmVsYXRpb25zaGlwSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjaGF0RGF0YSwgc2V0Q2hhdERhdGFdID0gdXNlU3RhdGU8Q2hhdERhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dUcmFuc2xhdGlvbiwgc2V0U2hvd1RyYW5zbGF0aW9uXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtzaG93Q3VsdHVyYWxOb3RlLCBzZXRTaG93Q3VsdHVyYWxOb3RlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0luZm8sIHNldFNob3dJbmZvXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dG9UcmFuc2xhdGUsIHNldEF1dG9UcmFuc2xhdGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmFuc2xhdGlvbnMsIHNldFRyYW5zbGF0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB7IHRleHQ/OiBzdHJpbmc7IGxvYWRpbmc/OiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9Pj4oe30pO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZENoYXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IFtyZWxEYXRhLCBtc2dEYXRhXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICBhcGkuZ2V0UmVsYXRpb25zaGlwKHJlbGF0aW9uc2hpcElkKSxcbiAgICAgICAgICBhcGkuZ2V0TWVzc2FnZXMocmVsYXRpb25zaGlwSWQsIDUwKVxuICAgICAgICBdKTtcbiAgICAgICAgc2V0Q2hhdERhdGEocmVsRGF0YSk7XG4gICAgICAgIHNldE1lc3NhZ2VzKG1zZ0RhdGEubWVzc2FnZXMgfHwgW10pO1xuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY2hhdDonLCBlcnIpO1xuICAgICAgICB0b2FzdC5lcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGxvYWQgY2hhdCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChyZWxhdGlvbnNoaXBJZCAmJiB1c2VyKSBsb2FkQ2hhdCgpO1xuICB9LCBbcmVsYXRpb25zaGlwSWQsIHVzZXJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcmVsYXRpb25zaGlwSWQgfHwgIXVzZXIgfHwgaXNMb2FkaW5nKSByZXR1cm47XG4gICAgY29uc3QgcG9sbCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1zZ0RhdGEgPSBhd2FpdCBhcGkuZ2V0TWVzc2FnZXMocmVsYXRpb25zaGlwSWQsIDUwKTtcbiAgICAgICAgY29uc3QgZnJlc2ggPSBtc2dEYXRhLm1lc3NhZ2VzIHx8IFtdO1xuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHtcbiAgICAgICAgICBpZiAoZnJlc2gubGVuZ3RoICE9PSBwcmV2Lmxlbmd0aCB8fFxuICAgICAgICAgICAgICAoZnJlc2gubGVuZ3RoID4gMCAmJiBwcmV2Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgIGZyZXNoW2ZyZXNoLmxlbmd0aCAtIDFdPy5pZCAhPT0gcHJldltwcmV2Lmxlbmd0aCAtIDFdPy5pZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcmVzaDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCB7IC8qIHNpbGVudCAqLyB9XG4gICAgfTtcbiAgICBjb25zdCBpZCA9IHNldEludGVydmFsKHBvbGwsIDMwMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGlkKTtcbiAgfSwgW3JlbGF0aW9uc2hpcElkLCB1c2VyLCBpc0xvYWRpbmddKTtcblxuICB1c2VFZmZlY3QoKCkgPT4geyBzY3JvbGxUb0JvdHRvbSgpOyB9LCBbbWVzc2FnZXNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHsgaWYgKCFpc0xvYWRpbmcpIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7IH0sIFtpc0xvYWRpbmddKTtcblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlucHV0LnRyaW0oKSB8fCBpc1NlbmRpbmcgfHwgIXVzZXIpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRJc1NlbmRpbmcodHJ1ZSk7XG5cbiAgICBjb25zdCB0ZW1wOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IGB0ZW1wLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgcmVsYXRpb25zaGlwX2lkOiByZWxhdGlvbnNoaXBJZCxcbiAgICAgIHNlbmRlcl9pZDogdXNlci5pZCxcbiAgICAgIGNvbnRlbnRfdHlwZTogJ3RleHQnLFxuICAgICAgb3JpZ2luYWxfdGV4dDogdGV4dCxcbiAgICAgIG9yaWdpbmFsX2xhbmd1YWdlOiAnZW4nLFxuICAgICAgaGFzX2lkaW9tOiBmYWxzZSxcbiAgICAgIGlzX3JlYWQ6IGZhbHNlLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdGVtcF0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHJlbGF0aW9uc2hpcF9pZDogcmVsYXRpb25zaGlwSWQsXG4gICAgICAgIG9yaWdpbmFsX3RleHQ6IHRleHQsXG4gICAgICAgIGNvbnRlbnRfdHlwZTogJ3RleHQnLFxuICAgICAgfSk7XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG0gPT4gbS5pZCA9PT0gdGVtcC5pZCA/IHJlcy5tZXNzYWdlIDogbSkpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0b2FzdC5lcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQnKTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIobSA9PiBtLmlkICE9PSB0ZW1wLmlkKSk7XG4gICAgICBzZXRJbnB1dCh0ZXh0KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVRyYW5zbGF0aW9uID0gKG1zZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTaG93VHJhbnNsYXRpb24ocCA9PiAoeyAuLi5wLCBbbXNnSWRdOiAhcFttc2dJZF0gfSkpO1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjYWNoZWQgdHJhbnNsYXRpb24sIHRyaWdnZXIgb25lIHdoZW4gdXNlciBvcGVuc1xuICAgIGlmICghdHJhbnNsYXRpb25zW21zZ0lkXSkge1xuICAgICAgdm9pZCB0cmFuc2xhdGVNZXNzYWdlQnlJZChtc2dJZCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1hcCBjb21tb24gbGFuZ3VhZ2UgbmFtZXMgdG8gSVNPIGNvZGVzIChmYWxsYmFja3MpLlxuICBjb25zdCBtYXBMYW5ndWFnZVRvQ29kZSA9IChsYW5nOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIWxhbmcpIHJldHVybiAnZW4nO1xuICAgIGNvbnN0IGwgPSBsYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgZW5nbGlzaDogJ2VuJywgc3BhbmlzaDogJ2VzJywgZnJlbmNoOiAnZnInLCBnZXJtYW46ICdkZScsIGl0YWxpYW46ICdpdCcsIHBvcnR1Z3Vlc2U6ICdwdCcsIHJ1c3NpYW46ICdydScsIGNoaW5lc2U6ICd6aCcsICdzaW1wbGlmaWVkIGNoaW5lc2UnOiAnemgtQ04nLCBoaW5kaTogJ2hpJywgYXJhYmljOiAnYXInLCBqYXBhbmVzZTogJ2phJywga29yZWFuOiAna28nXG4gICAgfTtcbiAgICBpZiAobWFwW2xdKSByZXR1cm4gbWFwW2xdO1xuICAgIC8vIElmIGFscmVhZHkgbG9va3MgbGlrZSBhIGNvZGUgKDIgb3IgNSBjaGFycyBsaWtlIHpoLUNOKSwgcmV0dXJuIGl0XG4gICAgaWYgKC9eW2Etel17Mn0oLVtBLVpdezJ9KT8kLy50ZXN0KGxhbmcpKSByZXR1cm4gbGFuZztcbiAgICByZXR1cm4gJ2VuJztcbiAgfTtcblxuICBjb25zdCB0cmFuc2xhdGVNZXNzYWdlQnlJZCA9IGFzeW5jIChtc2dJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZXMuZmluZChtID0+IG0uaWQgPT09IG1zZ0lkKTtcbiAgICBpZiAoIW1zZyB8fCAhdXNlcikgcmV0dXJuO1xuICAgIC8vIEF2b2lkIHJlLXRyYW5zbGF0aW9uIGlmIGFscmVhZHkgbG9hZGluZy90cmFuc2xhdGVkXG4gICAgaWYgKHRyYW5zbGF0aW9uc1ttc2dJZF0/LmxvYWRpbmcgfHwgdHJhbnNsYXRpb25zW21zZ0lkXT8udGV4dCkgcmV0dXJuO1xuXG4gICAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX0FQSV9LRVk7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgZXJyb3I6ICdNaXNzaW5nIEdvb2dsZSBBUEkga2V5JyB9IH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGFyZ2V0IGxhbmd1YWdlOiBwcmVmZXIgZXhwbGljaXQgdXNlci5wcmVmZXJyZWRfbGFuZ3VhZ2UsIHRoZW4gZmlyc3QgdXNlci5sYW5ndWFnZXMgZW50cnlcbiAgICBjb25zdCBwcmVmZXJyZWRMYW5nUmF3ID0gKHVzZXIgYXMgYW55KT8ucHJlZmVycmVkX2xhbmd1YWdlIHx8ICh1c2VyIGFzIGFueSk/Lmxhbmd1YWdlcz8uWzBdO1xuICAgIGNvbnN0IHRhcmdldCA9IG1hcExhbmd1YWdlVG9Db2RlKHByZWZlcnJlZExhbmdSYXcpO1xuXG4gICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyBsb2FkaW5nOiB0cnVlIH0gfSkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly90cmFuc2xhdGlvbi5nb29nbGVhcGlzLmNvbS9sYW5ndWFnZS90cmFuc2xhdGUvdjI/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcTogbXNnLm9yaWdpbmFsX3RleHQsIHRhcmdldCB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihgVHJhbnNsYXRlIEFQSSBlcnJvciAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZWQgPSBkYXRhPy5kYXRhPy50cmFuc2xhdGlvbnM/LlswXT8udHJhbnNsYXRlZFRleHQ7XG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHRocm93IG5ldyBFcnJvcignTm8gdHJhbnNsYXRpb24gcmV0dXJuZWQnKTtcbiAgICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgdGV4dDogdHJhbnNsYXRlZCB9IH0pKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignVHJhbnNsYXRpb24gZmFpbGVkOicsIGVycik7XG4gICAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IGVycm9yOiBlcnIubWVzc2FnZSB8fCAnVHJhbnNsYXRpb24gZmFpbGVkJyB9IH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm10VGltZSA9IChzOiBzdHJpbmcpID0+IG5ldyBEYXRlKHMpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICBjb25zdCBmbXREYXRlID0gKHM6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShzKSwgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGQuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTtcbiAgICBpZiAoZGlmZiA9PT0gMCkgcmV0dXJuICdUb2RheSc7XG4gICAgaWYgKGRpZmYgPT09IDEpIHJldHVybiAnWWVzdGVyZGF5JztcbiAgICByZXR1cm4gZC50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgfTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtd3JhcHBlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IG14LWF1dG8gYW5pbWF0ZS1zcGluIHRleHQtZmFtaWxpYS00MDAgbWItM1wiIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQtc21cIj5Mb2FkaW5nIGNvbnZlcnNhdGlvbi4uLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFjaGF0RGF0YSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFnZS1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXdyYXBwZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGdsYXNzLWNhcmQgbWF4LXctc20gcC02XCI+XG4gICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy0xMCBoLTEwIG14LWF1dG8gbWItMyB0ZXh0LW11dGVkIG9wYWNpdHktMzBcIiAvPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIG1iLTFcIj5Ob3QgRm91bmQ8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCB0ZXh0LXNtIG1iLTRcIj5UaGlzIGNvbnZlcnNhdGlvbiBkb2VzbiZhcG9zO3QgZXhpc3QuPC9wPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9jaGF0XCI+PGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSB0ZXh0LXNtXCI+QmFjazwvYnV0dG9uPjwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgeyByZWxhdGlvbnNoaXAsIHBhcnRuZXIsIG15X3JvbGUsIHBhcnRuZXJfcm9sZSB9ID0gY2hhdERhdGE7XG5cbiAgY29uc3QgaXNDb25zZWN1dGl2ZSA9IChpOiBudW1iZXIpID0+IHtcbiAgICBpZiAoaSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlc1tpXS5zZW5kZXJfaWQgPT09IG1lc3NhZ2VzW2kgLSAxXS5zZW5kZXJfaWQ7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFnZS1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC13cmFwcGVyXCI+XG5cbiAgICAgICAgey8qIOKUgOKUgCBIZWFkZXIg4pSA4pSAICovfVxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMi41IG1pbi13LTAgZmxleC0xXCI+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2NoYXRcIj5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b24gY2xhc3NOYW1lPVwicC0xLjUgLW1sLTEgcm91bmRlZC1sZyBob3ZlcjpiZy13aGl0ZS81IHRyYW5zaXRpb25cIiB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19PlxuICAgICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLWZhbWlsaWEtNTAwIHRvLWJvbmQtNTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbGcgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgICAge1JPTEVfRU1PSklTW3BhcnRuZXJfcm9sZV0gfHwgJ1xcdXsxRjkxRH0nfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSAtYm90dG9tLTAuNSAtcmlnaHQtMC41IHctMyBoLTMgcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmctcHJpbWFyeSldICR7XG4gICAgICAgICAgICAgICAgcGFydG5lcj8uc3RhdHVzID09PSAnYWN0aXZlJyA/ICdiZy1ncmVlbi01MDAnIDogJ2JnLWdyYXktNTAwJ1xuICAgICAgICAgICAgICB9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTAgZmxleC0xXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1bMTVweF0gdHJ1bmNhdGVcIj57cGFydG5lcj8uZGlzcGxheV9uYW1lIHx8ICdQYXJ0bmVyJ308L3NwYW4+XG4gICAgICAgICAgICAgICAge3BhcnRuZXI/LmNvdW50cnkgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1tdXRlZFwiPntwYXJ0bmVyLmNvdW50cnl9PC9zcGFuPn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1tdXRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHctMS41IGgtMS41IHJvdW5kZWQtZnVsbCAke3BhcnRuZXI/LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmctZ3JlZW4tNDAwJyA6ICdiZy1ncmF5LTQwMCd9YH0gLz5cbiAgICAgICAgICAgICAgICAgIHtwYXJ0bmVyPy5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ09ubGluZScgOiAnT2ZmbGluZSd9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9wYWNpdHktNDBcIj4mbWlkZG90Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Zb3VyIHtwYXJ0bmVyX3JvbGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9wYWNpdHktNDBcIj4mbWlkZG90Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZS1sZXZlbCAhdGV4dC1bOXB4XSAhcHgtMS41ICFweS0wXCI+XG4gICAgICAgICAgICAgICAgICBMdi57cmVsYXRpb25zaGlwLmxldmVsfSB7TEVWRUxfTkFNRVNbcmVsYXRpb25zaGlwLmxldmVsXX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6Ymctd2hpdGUvNSB0cmFuc2l0aW9uIHRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0luZm8oIXNob3dJbmZvKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c2hvd0luZm8gPyA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz4gOiA8SW5mbyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtzaG93SW5mbyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgcmlnaHQtMCB0b3AtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1ib3JkZXItY29sb3IpXSBiZy1bdmFyKC0tYmctY2FyZCldIGJhY2tkcm9wLWJsdXIteGwgei0zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTQgZ2FwLTMgcHgtNCBweS0zIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1mYW1pbGlhLTQwMFwiPntyZWxhdGlvbnNoaXAuY2FyZV9zY29yZSB8fCAwfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPkNhcmU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtYm9uZC00MDBcIj57cmVsYXRpb25zaGlwLmJvbmRfcG9pbnRzIHx8IDB9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+Qm9uZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1vcmFuZ2UtNDAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZsYW1lIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz4ge3JlbGF0aW9uc2hpcC5zdHJlYWtfZGF5cyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5TdHJlYWs8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtbXV0ZWRcIj57cmVsYXRpb25zaGlwLm1lc3NhZ2VzX2V4Y2hhbmdlZCB8fCBtZXNzYWdlcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+TXNnczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIHsvKiDilIDilIAgTWVzc2FnZXMg4pSA4pSAICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbWVzc2FnZXMtYXJlYVwiPlxuICAgICAgICAgIHtyZWxhdGlvbnNoaXAubWF0Y2hlZF9hdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBiZy1bdmFyKC0tYmctY2FyZCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildIHRleHQtWzEwcHhdIHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWhlYXJ0LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgQm9uZCBzdGFydGVkIHtmbXREYXRlKHJlbGF0aW9uc2hpcC5tYXRjaGVkX2F0KX0gJm1pZGRvdDsge1JPTEVfRU1PSklTW215X3JvbGVdfSB7bXlfcm9sZX0gJiB7Uk9MRV9FTU9KSVNbcGFydG5lcl9yb2xlXX0ge3BhcnRuZXJfcm9sZX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMiBweC02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCByb3VuZGVkLWZ1bGwgYmctZmFtaWxpYS01MDAvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWZhbWlsaWEtNDAwIG9wYWNpdHktNjBcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIG1iLTFcIj5TdGFydCBjaGF0dGluZyE8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQteHNcIj5TYXkgaGVsbG8gdG8geW91ciBuZXcgZmFtaWx5IG1lbWJlcjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2csIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzTWUgPSBtc2cuc2VuZGVyX2lkID09PSB1c2VyPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHNob3dUcmFucyA9IHNob3dUcmFuc2xhdGlvblttc2cuaWRdO1xuICAgICAgICAgICAgY29uc3QgaGFzVHJhbnNsYXRpb24gPSBtc2cudHJhbnNsYXRlZF90ZXh0ICYmIG1zZy50cmFuc2xhdGVkX3RleHQgIT09IG1zZy5vcmlnaW5hbF90ZXh0O1xuICAgICAgICAgICAgY29uc3QgY29uc2VjdXRpdmUgPSBpc0NvbnNlY3V0aXZlKGkpO1xuICAgICAgICAgICAgY29uc3QgcHJldk1zZyA9IGkgPiAwID8gbWVzc2FnZXNbaSAtIDFdIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNob3dEYXRlID0gIXByZXZNc2cgfHwgZm10RGF0ZShtc2cuY3JlYXRlZF9hdCkgIT09IGZtdERhdGUocHJldk1zZy5jcmVhdGVkX2F0KTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e21zZy5pZH0+XG4gICAgICAgICAgICAgICAge3Nob3dEYXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBweS0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMyBweS0wLjUgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1iZy1jYXJkKV0gdGV4dC1bMTBweF0gdGV4dC1tdXRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXItY29sb3IpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmbXREYXRlKG1zZy5jcmVhdGVkX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke2lzTWUgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSAke2NvbnNlY3V0aXZlID8gJ210LVszcHhdJyA6ICdtdC0zJ31gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctWzgwJV1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSBweC0zIHB5LVs3cHhdICR7XG4gICAgICAgICAgICAgICAgICAgICAgaXNNZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnbWVzc2FnZS1zZW50IHJvdW5kZWQtMnhsIHJvdW5kZWQtYnItWzVweF0nXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdtZXNzYWdlLXJlY2VpdmVkIHJvdW5kZWQtMnhsIHJvdW5kZWQtYmwtWzVweF0nXG4gICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMy41cHhdIGxlYWRpbmctWzEuNF0gcHItMTRcIj57bXNnLm9yaWdpbmFsX3RleHR9PC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYWJzb2x1dGUgYm90dG9tLVs1cHhdIHJpZ2h0LTIuNSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMC41IHRleHQtWzEwcHhdIGxlYWRpbmctbm9uZSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNNZSA/ICd0ZXh0LXdoaXRlLzM1JyA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nXG4gICAgICAgICAgICAgICAgICAgICAgfWB9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmbXRUaW1lKG1zZy5jcmVhdGVkX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc01lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2hlY2sgY2xhc3NOYW1lPXtgdy0zLjUgaC0zLjUgLW1yLTAuNSAke21zZy5pc19yZWFkID8gJ3RleHQtYmx1ZS00MDAnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgICAgICAgICAge2hhc1RyYW5zbGF0aW9uICYmICFpc01lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVHJhbnNsYXRpb24obXNnLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbXQtMS41IHRleHQtWzEwcHhdIHRleHQtZmFtaWxpYS00MDAvNjAgaG92ZXI6dGV4dC1mYW1pbGlhLTQwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dUcmFucyA/ICdIaWRlJyA6ICdUcmFuc2xhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1RyYW5zICYmIGhhc1RyYW5zbGF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgcHQtMSBib3JkZXItdCBib3JkZXItd2hpdGUvMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkIGl0YWxpY1wiPnttc2cudHJhbnNsYXRlZF90ZXh0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDdWx0dXJhbE5vdGUoc2hvd0N1bHR1cmFsTm90ZSA9PT0gbXNnLmlkID8gbnVsbCA6IG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG10LTEgdGV4dC1bMTBweF0gdGV4dC1hbWJlci00MDAvNjAgaG92ZXI6dGV4dC1hbWJlci00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyZSB0aXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dDdWx0dXJhbE5vdGUgPT09IG1zZy5pZCAmJiBtc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC14bCBiZy1hbWJlci01MDAvMTAgYm9yZGVyIGJvcmRlci1hbWJlci01MDAvMjAgdGV4dC1bMTFweF0gbGVhZGluZy1yZWxheGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItMzAwIG1iLTAuNSB0ZXh0LVsxMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyYWwgTm90ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1hbWJlci0yMDAvNzBcIj57bXNnLmN1bHR1cmFsX25vdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICAgICAgICAgICAgICAgIHttc2cuaGFzX2lkaW9tICYmIG1zZy5pZGlvbV9leHBsYW5hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC1sZyBiZy1wdXJwbGUtNTAwLzEwIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8yMCB0ZXh0LVsxMXB4XSB0ZXh0LXB1cnBsZS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaWRpb21fZXhwbGFuYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1IH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgZ2FwLTEuNSBtdC0yXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwaW5nLWluZGljYXRvciAhcHktMiAhcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gLz48c3BhbiAvPjxzcGFuIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IGNsYXNzTmFtZT1cImgtMVwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDilIDilIAgRm9vdGVyIOKUgOKUgCAqL31cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJjaGF0LWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb25zLWJhclwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9jb250ZXN0cz9yZWxhdGlvbnNoaXA9JHtyZWxhdGlvbnNoaXBJZH1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTQwMCBob3ZlcjpiZy1hbWJlci01MDAvMjBcIj5cbiAgICAgICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDaGFsbGVuZ2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2dhbWVzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb24tcGlsbCBiZy1wdXJwbGUtNTAwLzEwIHRleHQtcHVycGxlLTQwMCBob3ZlcjpiZy1wdXJwbGUtNTAwLzIwXCI+XG4gICAgICAgICAgICAgICAgPEdhbWVwYWQyIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHYW1lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWhlYXJ0LTUwMC8xMCB0ZXh0LWhlYXJ0LTQwMCBob3ZlcjpiZy1oZWFydC01MDAvMjBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2FzdCgnQ29taW5nIHNvb24hJywgeyBpY29uOiAnXFx1ezFGMzgxfScgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHaWZ0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2hhdC1hY3Rpb24tcGlsbCAke2F1dG9UcmFuc2xhdGUgPyAnYmctZmFtaWxpYS01MDAvMTUgdGV4dC1mYW1pbGlhLTQwMCcgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ31gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBdXRvVHJhbnNsYXRlKCFhdXRvVHJhbnNsYXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiB7YXV0b1RyYW5zbGF0ZSA/ICdBdXRvIFxcdTI3MTMnIDogJ0F1dG8gXFx1MjcxNyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1pbnB1dC1iYXJcIj5cbiAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uIGNsYXNzTmFtZT1cInAtMS41IHRleHQtbXV0ZWQgaG92ZXI6dGV4dC1bdmFyKC0tdGV4dC1wcmltYXJ5KV0gdHJhbnNpdGlvblwiIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX0+XG4gICAgICAgICAgICAgIDxTbWlsZSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkgJiYgc2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgYSBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LXRleHQtaW5wdXRcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmd9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHthdXRvVHJhbnNsYXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTIuNSB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1bMTBweF0gdGV4dC1tdXRlZC80MCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMC41IHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgIDxMYW5ndWFnZXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaW5wdXQudHJpbSgpIHx8IGlzU2VuZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgaW5wdXQudHJpbSgpICYmICFpc1NlbmRpbmdcbiAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tZmFtaWxpYS01MDAgdG8taGVhcnQtNTAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1mYW1pbGlhLTUwMC8zMCdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlLzUgdGV4dC1tdXRlZCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjg1IH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1NlbmRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTUgaC01IGFuaW1hdGUtc3BpblwiIC8+IDogPFNlbmQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+fVxuICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsIkxpbmsiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVBhcmFtcyIsIkFycm93TGVmdCIsIlNlbmQiLCJHbG9iZSIsIkhlYXJ0IiwiU21pbGUiLCJHYW1lcGFkMiIsIlRyb3BoeSIsIkluZm8iLCJMYW5ndWFnZXMiLCJTcGFya2xlcyIsIkZsYW1lIiwiR2lmdCIsIkxvYWRlcjIiLCJYIiwiQ2hlY2tDaGVjayIsImFwaSIsInVzZUF1dGgiLCJST0xFX0VNT0pJUyIsIkxFVkVMX05BTUVTIiwidG9hc3QiLCJDaGF0UGFnZSIsInBhcmFtcyIsInJlbGF0aW9uc2hpcElkIiwidXNlciIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dCIsInNldElucHV0IiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImlzU2VuZGluZyIsInNldElzU2VuZGluZyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImNoYXREYXRhIiwic2V0Q2hhdERhdGEiLCJzaG93VHJhbnNsYXRpb24iLCJzZXRTaG93VHJhbnNsYXRpb24iLCJzaG93Q3VsdHVyYWxOb3RlIiwic2V0U2hvd0N1bHR1cmFsTm90ZSIsInNob3dJbmZvIiwic2V0U2hvd0luZm8iLCJhdXRvVHJhbnNsYXRlIiwic2V0QXV0b1RyYW5zbGF0ZSIsInRyYW5zbGF0aW9ucyIsInNldFRyYW5zbGF0aW9ucyIsIm1lc3NhZ2VzRW5kUmVmIiwiaW5wdXRSZWYiLCJzY3JvbGxUb0JvdHRvbSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwibG9hZENoYXQiLCJyZWxEYXRhIiwibXNnRGF0YSIsIlByb21pc2UiLCJhbGwiLCJnZXRSZWxhdGlvbnNoaXAiLCJnZXRNZXNzYWdlcyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJwb2xsIiwiZnJlc2giLCJwcmV2IiwibGVuZ3RoIiwiaWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJmb2N1cyIsInNlbmRNZXNzYWdlIiwidHJpbSIsInRleHQiLCJ0ZW1wIiwiRGF0ZSIsIm5vdyIsInJlbGF0aW9uc2hpcF9pZCIsInNlbmRlcl9pZCIsImNvbnRlbnRfdHlwZSIsIm9yaWdpbmFsX3RleHQiLCJvcmlnaW5hbF9sYW5ndWFnZSIsImhhc19pZGlvbSIsImlzX3JlYWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJyZXMiLCJtYXAiLCJtIiwiZmlsdGVyIiwidG9nZ2xlVHJhbnNsYXRpb24iLCJtc2dJZCIsInAiLCJ0cmFuc2xhdGVNZXNzYWdlQnlJZCIsIm1hcExhbmd1YWdlVG9Db2RlIiwibGFuZyIsImwiLCJ0b0xvd2VyQ2FzZSIsImVuZ2xpc2giLCJzcGFuaXNoIiwiZnJlbmNoIiwiZ2VybWFuIiwiaXRhbGlhbiIsInBvcnR1Z3Vlc2UiLCJydXNzaWFuIiwiY2hpbmVzZSIsImhpbmRpIiwiYXJhYmljIiwiamFwYW5lc2UiLCJrb3JlYW4iLCJ0ZXN0IiwibXNnIiwiZmluZCIsImxvYWRpbmciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX0FQSV9LRVkiLCJwcmVmZXJyZWRMYW5nUmF3IiwicHJlZmVycmVkX2xhbmd1YWdlIiwibGFuZ3VhZ2VzIiwidGFyZ2V0IiwiZGF0YSIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwidHJhbnNsYXRlZCIsInRyYW5zbGF0ZWRUZXh0IiwiZm10VGltZSIsInMiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiZm10RGF0ZSIsImQiLCJkaWZmIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiaHJlZiIsImJ1dHRvbiIsInJlbGF0aW9uc2hpcCIsInBhcnRuZXIiLCJteV9yb2xlIiwicGFydG5lcl9yb2xlIiwiaXNDb25zZWN1dGl2ZSIsImkiLCJoZWFkZXIiLCJ3aGlsZVRhcCIsInNjYWxlIiwic3BhbiIsImRpc3BsYXlfbmFtZSIsImNvdW50cnkiLCJsZXZlbCIsIm9uQ2xpY2siLCJpbml0aWFsIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImFuaW1hdGUiLCJleGl0IiwiY2FyZV9zY29yZSIsImJvbmRfcG9pbnRzIiwic3RyZWFrX2RheXMiLCJtZXNzYWdlc19leGNoYW5nZWQiLCJtYXRjaGVkX2F0IiwiaDMiLCJpc01lIiwic2hvd1RyYW5zIiwiaGFzVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVkX3RleHQiLCJjb25zZWN1dGl2ZSIsInByZXZNc2ciLCJzaG93RGF0ZSIsInN0eWxlIiwiY3VsdHVyYWxfbm90ZSIsImlkaW9tX2V4cGxhbmF0aW9uIiwieSIsInJlZiIsImZvb3RlciIsImljb24iLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsIm9uS2V5RG93biIsInNoaWZ0S2V5IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx\n"));

/***/ })

});