"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[relationshipId]/page",{

/***/ "(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx":
/*!************************************************!*\
  !*** ./src/app/chat/[relationshipId]/page.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/info.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/flame.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gamepad-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/AuthContext */ \"(app-pages-browser)/./src/lib/AuthContext.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    var _user_languages, _supportedLanguages_find;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const relationshipId = params.relationshipId;\n    const { user } = (0,_lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [chatData, setChatData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showTranslation, setShowTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [showCulturalNote, setShowCulturalNote] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [translations, setTranslations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [translationApiStatus, setTranslationApiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('unknown');\n    const [translationApiError, setTranslationApiError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [supportedLanguages, setSupportedLanguages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const loadChat = {\n                \"ChatPage.useEffect.loadChat\": async ()=>{\n                    try {\n                        setIsLoading(true);\n                        const [relData, msgData] = await Promise.all([\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getRelationship(relationshipId),\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50)\n                        ]);\n                        setChatData(relData);\n                        setMessages(msgData.messages || []);\n                    } catch (err) {\n                        console.error('Failed to load chat:', err);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to load chat');\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"ChatPage.useEffect.loadChat\"];\n            if (relationshipId && user) loadChat();\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!relationshipId || !user || isLoading) return;\n            const poll = {\n                \"ChatPage.useEffect.poll\": async ()=>{\n                    try {\n                        const msgData = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50);\n                        const fresh = msgData.messages || [];\n                        setMessages({\n                            \"ChatPage.useEffect.poll\": (prev)=>{\n                                var _fresh_, _prev_;\n                                if (fresh.length !== prev.length || fresh.length > 0 && prev.length > 0 && ((_fresh_ = fresh[fresh.length - 1]) === null || _fresh_ === void 0 ? void 0 : _fresh_.id) !== ((_prev_ = prev[prev.length - 1]) === null || _prev_ === void 0 ? void 0 : _prev_.id)) {\n                                    return fresh;\n                                }\n                                return prev;\n                            }\n                        }[\"ChatPage.useEffect.poll\"]);\n                    } catch (e) {}\n                }\n            }[\"ChatPage.useEffect.poll\"];\n            const id = setInterval(poll, 3000);\n            return ({\n                \"ChatPage.useEffect\": ()=>clearInterval(id)\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _inputRef_current;\n            if (!isLoading) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }[\"ChatPage.useEffect\"], [\n        isLoading\n    ]);\n    // Proactively validate translation backend (which uses the server-side Google key) once on mount.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            ({\n                \"ChatPage.useEffect\": async ()=>{\n                    try {\n                        const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getLanguages();\n                        if (res && res.languages) {\n                            setSupportedLanguages(res.languages || []);\n                            setTranslationApiStatus('ok');\n                            setTranslationApiError(null);\n                        } else {\n                            setTranslationApiStatus('bad');\n                            setTranslationApiError('Translation service unavailable');\n                        }\n                    } catch (err) {\n                        setTranslationApiStatus('bad');\n                        setTranslationApiError(err.message || 'Translation service error');\n                    }\n                }\n            })[\"ChatPage.useEffect\"]();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], []);\n    // Auto-translate incoming partner messages when enabled\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!autoTranslate || !user) return;\n            for (const msg of messages){\n                var _translations_msg_id, _translations_msg_id1;\n                if (msg.sender_id === user.id) continue;\n                if (((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.text) || ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.loading)) continue;\n                void translateMessageById(msg.id);\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages,\n        autoTranslate,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const sendMessage = async ()=>{\n        if (!input.trim() || isSending || !user) return;\n        const text = input.trim();\n        setInput('');\n        setIsSending(true);\n        const temp = {\n            id: \"temp-\".concat(Date.now()),\n            relationship_id: relationshipId,\n            sender_id: user.id,\n            content_type: 'text',\n            original_text: text,\n            original_language: 'en',\n            has_idiom: false,\n            is_read: false,\n            created_at: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                temp\n            ]);\n        try {\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage({\n                relationship_id: relationshipId,\n                original_text: text,\n                content_type: 'text'\n            });\n            setMessages((prev)=>prev.map((m)=>m.id === temp.id ? res.message : m));\n        } catch (err) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to send');\n            setMessages((prev)=>prev.filter((m)=>m.id !== temp.id));\n            setInput(text);\n        } finally{\n            var _inputRef_current;\n            setIsSending(false);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    };\n    const toggleTranslation = (msgId)=>{\n        setShowTranslation((p)=>({\n                ...p,\n                [msgId]: !p[msgId]\n            }));\n        // If we don't have a cached translation, trigger one when user opens\n        if (!translations[msgId]) {\n            void translateMessageById(msgId);\n        }\n    };\n    // Preferred translation target derived from user settings (default English)\n    const preferredLangSettingRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]) || 'English';\n    const preferredLangCode = mapLanguageToCode(preferredLangSettingRaw) || 'en';\n    const preferredLangName = ((_supportedLanguages_find = supportedLanguages.find((s)=>s.code === preferredLangCode)) === null || _supportedLanguages_find === void 0 ? void 0 : _supportedLanguages_find.name) || preferredLangSettingRaw || 'English';\n    // Map common language names to ISO codes (fallbacks).\n    const mapLanguageToCode = (lang)=>{\n        if (!lang) return 'en';\n        const l = lang.toLowerCase();\n        const map = {\n            english: 'en',\n            spanish: 'es',\n            french: 'fr',\n            german: 'de',\n            italian: 'it',\n            portuguese: 'pt',\n            russian: 'ru',\n            chinese: 'zh',\n            'simplified chinese': 'zh-CN',\n            hindi: 'hi',\n            arabic: 'ar',\n            japanese: 'ja',\n            korean: 'ko'\n        };\n        if (map[l]) return map[l];\n        // If already looks like a code (2 or 5 chars like zh-CN), return it\n        if (/^[a-z]{2}(-[A-Z]{2})?$/.test(lang)) return lang;\n        return 'en';\n    };\n    const translateMessageById = async (msgId)=>{\n        var _translations_msgId, _translations_msgId1, _user_languages;\n        const msg = messages.find((m)=>m.id === msgId);\n        if (!msg || !user) return;\n        // Avoid re-translation if already loading/translated\n        if (((_translations_msgId = translations[msgId]) === null || _translations_msgId === void 0 ? void 0 : _translations_msgId.loading) || ((_translations_msgId1 = translations[msgId]) === null || _translations_msgId1 === void 0 ? void 0 : _translations_msgId1.text)) return;\n        // Ensure backend translation service is available\n        if (translationApiStatus === 'unknown') {\n            try {\n                const langs = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getLanguages();\n                if (langs && langs.languages) {\n                    setTranslationApiStatus('ok');\n                    setTranslationApiError(null);\n                } else {\n                    setTranslationApiStatus('bad');\n                    setTranslationApiError('Translation service unavailable');\n                }\n            } catch (err) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError(err.message || 'Translation service error');\n            }\n        }\n        if (translationApiStatus === 'bad') {\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: translationApiError || 'Translation API unavailable'\n                    }\n                }));\n            return;\n        }\n        // Determine target language: prefer explicit user.preferred_language, then first user.languages entry\n        const preferredLangRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]);\n        const target = mapLanguageToCode(preferredLangRaw) || 'en';\n        setTranslations((prev)=>({\n                ...prev,\n                [msgId]: {\n                    loading: true\n                }\n            }));\n        try {\n            var _res_data_translations_, _res_data_translations, _res_data;\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.translate(msg.original_text, undefined, target);\n            const translated = (res === null || res === void 0 ? void 0 : res.translated_text) || (res === null || res === void 0 ? void 0 : res.translatedText) || (res === null || res === void 0 ? void 0 : (_res_data = res.data) === null || _res_data === void 0 ? void 0 : (_res_data_translations = _res_data.translations) === null || _res_data_translations === void 0 ? void 0 : (_res_data_translations_ = _res_data_translations[0]) === null || _res_data_translations_ === void 0 ? void 0 : _res_data_translations_.translatedText);\n            const cultural_note = (res === null || res === void 0 ? void 0 : res.cultural_note) || (res === null || res === void 0 ? void 0 : res.culturalNote) || null;\n            const has_idiom = (res === null || res === void 0 ? void 0 : res.has_idiom) || false;\n            const idiom_explanation = (res === null || res === void 0 ? void 0 : res.idiom_explanation) || (res === null || res === void 0 ? void 0 : res.idiomExplanation) || null;\n            if (!translated) throw new Error('No translation returned');\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        text: translated\n                    }\n                }));\n            // Merge translated fields back into message state so existing UI (cultural note, idiom) works\n            setMessages((prev)=>prev.map((m)=>m.id === msgId ? {\n                        ...m,\n                        translated_text: translated,\n                        cultural_note,\n                        has_idiom,\n                        idiom_explanation\n                    } : m));\n        } catch (err) {\n            console.error('Translation failed:', err);\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: err.message || 'Translation failed'\n                    }\n                }));\n        }\n    };\n    const fmtTime = (s)=>new Date(s).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    const fmtDate = (s)=>{\n        const d = new Date(s), now = new Date();\n        const diff = Math.floor((now.getTime() - d.getTime()) / 86400000);\n        if (diff === 0) return 'Today';\n        if (diff === 1) return 'Yesterday';\n        return d.toLocaleDateString();\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-8 h-8 mx-auto animate-spin text-familia-400 mb-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 251,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm\",\n                            children: \"Loading conversation...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 252,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 250,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 248,\n            columnNumber: 7\n        }, this);\n    }\n    if (!chatData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center glass-card max-w-sm p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-10 h-10 mx-auto mb-3 text-muted opacity-30\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 264,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Not Found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 265,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm mb-4\",\n                            children: \"This conversation doesn't exist.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 266,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/chat\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-primary text-sm\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 267,\n                                columnNumber: 32\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 267,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 263,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 262,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 261,\n            columnNumber: 7\n        }, this);\n    }\n    const { relationship, partner, my_role, partner_role } = chatData;\n    const isConsecutive = (i)=>{\n        if (i === 0) return false;\n        return messages[i].sender_id === messages[i - 1].sender_id;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-page-container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-wrapper\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"chat-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2.5 min-w-0 flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/chat\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                        className: \"p-1.5 -ml-1 rounded-lg hover:bg-white/5 transition\",\n                                        whileTap: {\n                                            scale: 0.9\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 289,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 288,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 rounded-full bg-gradient-to-br from-familia-500 to-bond-500 flex items-center justify-center text-lg shadow-md\",\n                                            children: _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role] || \"\\uD83E\\uDD1D\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 295,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-[var(--bg-primary)] \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-500' : 'bg-gray-500')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0 flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-[15px] truncate\",\n                                                    children: (partner === null || partner === void 0 ? void 0 : partner.display_name) || 'Partner'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 305,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (partner === null || partner === void 0 ? void 0 : partner.country) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-muted\",\n                                                    children: partner.country\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 306,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 304,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[11px] text-muted flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-400' : 'bg-gray-400')\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 310,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        (partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'Online' : 'Offline'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 309,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 313,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Your \",\n                                                        partner_role\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 315,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"badge-level !text-[9px] !px-1.5 !py-0\",\n                                                    children: [\n                                                        \"Lv.\",\n                                                        relationship.level,\n                                                        \" \",\n                                                        _types__WEBPACK_IMPORTED_MODULE_6__.LEVEL_NAMES[relationship.level]\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 316,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 308,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 303,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 287,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                            className: \"p-2 rounded-lg hover:bg-white/5 transition text-muted\",\n                            whileTap: {\n                                scale: 0.9\n                            },\n                            onClick: ()=>setShowInfo(!showInfo),\n                            children: showInfo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 53\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 323,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                animate: {\n                                    height: 'auto',\n                                    opacity: 1\n                                },\n                                exit: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                className: \"absolute left-0 right-0 top-full overflow-hidden border-t border-[var(--border-color)] bg-[var(--bg-card)] backdrop-blur-xl z-30\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-3 px-4 py-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-familia-400\",\n                                                    children: relationship.care_score || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 341,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Care\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 342,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 340,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-bond-400\",\n                                                    children: relationship.bond_points || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 345,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Bond\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 346,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 344,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-orange-400 flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                            className: \"w-3.5 h-3.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 350,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \" \",\n                                                        relationship.streak_days || 0\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 349,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Streak\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 352,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 348,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-muted\",\n                                                    children: relationship.messages_exchanged || messages.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 355,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Msgs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 356,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 354,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 339,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-messages-area\",\n                    children: [\n                        relationship.matched_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[10px] text-muted\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 text-heart-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 369,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Bond started \",\n                                    fmtDate(relationship.matched_at),\n                                    \" \\xb7 \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[my_role],\n                                    \" \",\n                                    my_role,\n                                    \" & \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role],\n                                    \" \",\n                                    partner_role\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 368,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 367,\n                            columnNumber: 13\n                        }, this),\n                        messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12 px-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-familia-500/10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-8 h-8 text-familia-400 opacity-60\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 378,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold mb-1\",\n                                    children: \"Start chatting!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 380,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-muted text-xs\",\n                                    children: \"Say hello to your new family member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 381,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 376,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((msg, i)=>{\n                            var _translations_msg_id, _translations_msg_id1, _translations_msg_id2, _translations_msg_id3, _translations_msg_id4;\n                            const isMe = msg.sender_id === (user === null || user === void 0 ? void 0 : user.id);\n                            const showTrans = showTranslation[msg.id];\n                            const hasTranslation = msg.translated_text && msg.translated_text !== msg.original_text;\n                            const consecutive = isConsecutive(i);\n                            const prevMsg = i > 0 ? messages[i - 1] : null;\n                            const showDate = !prevMsg || fmtDate(msg.created_at) !== fmtDate(prevMsg.created_at);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center py-2 mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-3 py-0.5 rounded-full bg-[var(--bg-card)] text-[10px] text-muted border border-[var(--border-color)]\",\n                                            children: fmtDate(msg.created_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 397,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(isMe ? 'justify-end' : 'justify-start', \" \").concat(consecutive ? 'mt-[3px]' : 'mt-3'),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[80%]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative px-3 py-[7px] \".concat(isMe ? 'message-sent rounded-2xl rounded-br-[5px]' : 'message-received rounded-2xl rounded-bl-[5px]'),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-[13.5px] leading-[1.4] pr-14\",\n                                                            children: msg.original_text\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 410,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"absolute bottom-[5px] right-2.5 flex items-center gap-0.5 text-[10px] leading-none \".concat(isMe ? 'text-white/35' : 'text-[var(--text-muted)]'),\n                                                            style: {\n                                                                opacity: 0.6\n                                                            },\n                                                            children: [\n                                                                fmtTime(msg.created_at),\n                                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3.5 h-3.5 -mr-0.5 \".concat(msg.is_read ? 'text-blue-400' : '')\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 417,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 412,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>toggleTranslation(msg.id),\n                                                                            className: \"flex items-center gap-1 text-[10px] text-familia-400/60 hover:text-familia-400 transition\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                                    lineNumber: 429,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                showTranslation[msg.id] ? 'Hide' : 'Translate'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 425,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        ((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.loading) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-muted\",\n                                                                            children: \"Translating\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 433,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.error) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-rose-400\",\n                                                                            children: (_translations_msg_id2 = translations[msg.id]) === null || _translations_msg_id2 === void 0 ? void 0 : _translations_msg_id2.error\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 436,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 424,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                                    children: autoTranslate && ((_translations_msg_id3 = translations[msg.id]) === null || _translations_msg_id3 === void 0 ? void 0 : _translations_msg_id3.text) || showTranslation[msg.id] && ((_translations_msg_id4 = translations[msg.id]) === null || _translations_msg_id4 === void 0 ? void 0 : _translations_msg_id4.text) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                                        initial: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        animate: {\n                                                                            height: 'auto',\n                                                                            opacity: 1\n                                                                        },\n                                                                        exit: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        className: \"mt-1 pt-1 border-t border-white/10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-muted italic\",\n                                                                            children: translations[msg.id].text\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 448,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 442,\n                                                                        columnNumber: 31\n                                                                    }, this) : null\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 440,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 423,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setShowCulturalNote(showCulturalNote === msg.id ? null : msg.id),\n                                                            className: \"flex items-center gap-1 mt-1 text-[10px] text-amber-400/60 hover:text-amber-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 460,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" Culture tip\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 456,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 405,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                    children: showCulturalNote === msg.id && msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                        initial: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        animate: {\n                                                            opacity: 1,\n                                                            scale: 1\n                                                        },\n                                                        exit: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        className: \"mt-1 mx-0.5 p-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-[11px] leading-relaxed\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1 font-semibold text-amber-300 mb-0.5 text-[10px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 474,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" Cultural Note\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 473,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-amber-200/70\",\n                                                                children: msg.cultural_note\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 476,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                        lineNumber: 467,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 465,\n                                                    columnNumber: 21\n                                                }, this),\n                                                msg.has_idiom && msg.idiom_explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 mx-0.5 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[11px] text-purple-300\",\n                                                    children: msg.idiom_explanation\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 482,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 404,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 403,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 5\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0\n                                },\n                                className: \"flex items-end gap-1.5 mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"typing-indicator !py-2 !px-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 501,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 501,\n                                            columnNumber: 27\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 501,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 494,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 492,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messagesEndRef,\n                            className: \"h-1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 365,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"chat-footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-actions-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/contests?relationship=\".concat(relationshipId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-amber-500/10 text-amber-400 hover:bg-amber-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 515,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Challenge\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 513,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/games\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-purple-500/10 text-purple-400 hover:bg-purple-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 520,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Game\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 518,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill bg-heart-500/10 text-heart-400 hover:bg-heart-500/20\",\n                                    onClick: ()=>(0,react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('Coming soon!', {\n                                            icon: \"\\uD83C\\uDF81\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 527,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Gift\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 523,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill \".concat(autoTranslate ? 'bg-familia-500/15 text-familia-400' : 'bg-white/5 text-muted'),\n                                    onClick: ()=>setAutoTranslate(!autoTranslate),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 533,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" \",\n                                        autoTranslate ? 'Auto \\u2713' : 'Auto \\u2717'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 529,\n                                    columnNumber: 13\n                                }, this),\n                                translationApiStatus === 'bad' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-rose-400 text-[11px] ml-2\",\n                                    children: \"Translate key invalid\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 536,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 512,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-input-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    className: \"p-1.5 text-muted hover:text-[var(--text-primary)] transition\",\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 542,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 541,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>e.key === 'Enter' && !e.shiftKey && sendMessage(),\n                                            placeholder: \"Type a message...\",\n                                            className: \"chat-text-input\",\n                                            disabled: isSending\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 546,\n                                            columnNumber: 15\n                                        }, this),\n                                        autoTranslate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-muted/40 flex items-center gap-0.5 pointer-events-none\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 556,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 545,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    onClick: sendMessage,\n                                    disabled: !input.trim() || isSending,\n                                    className: \"p-2.5 rounded-full transition-all \".concat(input.trim() && !isSending ? 'bg-gradient-to-br from-familia-500 to-heart-500 text-white shadow-lg shadow-familia-500/30' : 'bg-white/5 text-muted'),\n                                    whileTap: {\n                                        scale: 0.85\n                                    },\n                                    children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-5 h-5 animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 572,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 572,\n                                        columnNumber: 75\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 562,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 540,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 511,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 283,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n        lineNumber: 282,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"0Az1FiFYSx9bemcerOQBOhH8McI=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9bcmVsYXRpb25zaGlwSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV3RDtBQUMzQjtBQUN1QjtBQUNSO0FBSXRCO0FBQ1U7QUFDWTtBQUN1RDtBQUMvRDtBQVVyQixTQUFTMkI7UUFpSitDLGlCQUUzQ0M7O0lBbEoxQixNQUFNQyxTQUFTdkIsMERBQVNBO0lBQ3hCLE1BQU13QixpQkFBaUJELE9BQU9DLGNBQWM7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR1IseURBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1MsVUFBVUMsWUFBWSxHQUFHOUIsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUMrQixPQUFPQyxTQUFTLEdBQUdoQywrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNpQyxVQUFVQyxZQUFZLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNtQyxXQUFXQyxhQUFhLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNxQyxXQUFXQyxhQUFhLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN1QyxVQUFVQyxZQUFZLEdBQUd4QywrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDeUMsaUJBQWlCQyxtQkFBbUIsR0FBRzFDLCtDQUFRQSxDQUEwQixDQUFDO0lBQ2pGLE1BQU0sQ0FBQzJDLGtCQUFrQkMsb0JBQW9CLEdBQUc1QywrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxDQUFDNkMsVUFBVUMsWUFBWSxHQUFHOUMsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDK0MsZUFBZUMsaUJBQWlCLEdBQUdoRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNpRCxjQUFjQyxnQkFBZ0IsR0FBR2xELCtDQUFRQSxDQUF1RSxDQUFDO0lBQ3hILE1BQU0sQ0FBQ21ELHNCQUFzQkMsd0JBQXdCLEdB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Q0FBQ0gsV0FBVTtvQ0FBK0RXLFVBQVU7d0NBQUVDLE9BQU87b0NBQUk7OENBQzdHLDRFQUFDbksscUxBQUtBO3dDQUFDdUosV0FBVTs7Ozs7Ozs7Ozs7OENBR25CLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNoSTs0Q0FDQ3NLLEtBQUs1STs0Q0FDTCtJLE9BQU96Szs0Q0FDUDBLLFVBQVUsQ0FBQ0MsSUFBTTFLLFNBQVMwSyxFQUFFbkUsTUFBTSxDQUFDaUUsS0FBSzs0Q0FDeENHLFdBQVcsQ0FBQ0QsSUFBTUEsRUFBRUUsR0FBRyxLQUFLLFdBQVcsQ0FBQ0YsRUFBRUcsUUFBUSxJQUFJcEg7NENBQ3REcUgsYUFBWTs0Q0FDWi9DLFdBQVU7NENBQ1ZnRCxVQUFVNUs7Ozs7Ozt3Q0FFWFksK0JBQ0MsOERBQUMrRzs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ25KLHFMQUFTQTtnREFBQ21KLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQUszQiw4REFBQ2xLLGtEQUFNQSxDQUFDcUssTUFBTTtvQ0FDWmUsU0FBU3hGO29DQUNUc0gsVUFBVSxDQUFDaEwsTUFBTTJELElBQUksTUFBTXZEO29DQUMzQjRILFdBQVcscUNBSVYsT0FIQ2hJLE1BQU0yRCxJQUFJLE1BQU0sQ0FBQ3ZELFlBQ2IsK0ZBQ0E7b0NBRU51SSxVQUFVO3dDQUFFQyxPQUFPO29DQUFLOzhDQUV2QnhJLDBCQUFZLDhEQUFDbkIsb0xBQU9BO3dDQUFDK0ksV0FBVTs7Ozs7NkRBQTRCLDhEQUFDMUoscUxBQUlBO3dDQUFDMEosV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU8xRjtHQTNpQndCdkk7O1FBQ1ByQixzREFBU0E7UUFFUGlCLHFEQUFPQTs7O0tBSEZJIiwic291cmNlcyI6WyIvVXNlcnMvbGlraGl0aC4vY2ZjX0ZhbWlseWFfMS9mcm9udGVuZC9zcmMvYXBwL2NoYXQvW3JlbGF0aW9uc2hpcElkXS9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7XG4gIEFycm93TGVmdCwgU2VuZCwgR2xvYmUsIEhlYXJ0LCBTbWlsZSwgR2FtZXBhZDIsIFRyb3BoeSwgSW5mbyxcbiAgTGFuZ3VhZ2VzLCBTcGFya2xlcywgRmxhbWUsIEdpZnQsIExvYWRlcjIsIFgsIENoZWNrQ2hlY2tcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGFwaSB9IGZyb20gJ0AvbGliL2FwaSc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9saWIvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgUk9MRV9FTU9KSVMsIExFVkVMX05BTUVTLCBMRVZFTF9GRUFUVVJFUywgTWVzc2FnZSwgUmVsYXRpb25zaGlwLCBQcm9maWxlIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgdG9hc3QgZnJvbSAncmVhY3QtaG90LXRvYXN0JztcblxuaW50ZXJmYWNlIENoYXREYXRhIHtcbiAgcmVsYXRpb25zaGlwOiBSZWxhdGlvbnNoaXA7XG4gIHBhcnRuZXI6IFByb2ZpbGU7XG4gIG15X3JvbGU6IHN0cmluZztcbiAgcGFydG5lcl9yb2xlOiBzdHJpbmc7XG4gIGZlYXR1cmVzX3VubG9ja2VkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByZWxhdGlvbnNoaXBJZCA9IHBhcmFtcy5yZWxhdGlvbnNoaXBJZCBhcyBzdHJpbmc7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzVHlwaW5nLCBzZXRJc1R5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2NoYXREYXRhLCBzZXRDaGF0RGF0YV0gPSB1c2VTdGF0ZTxDaGF0RGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1RyYW5zbGF0aW9uLCBzZXRTaG93VHJhbnNsYXRpb25dID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcbiAgY29uc3QgW3Nob3dDdWx0dXJhbE5vdGUsIHNldFNob3dDdWx0dXJhbE5vdGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93SW5mbywgc2V0U2hvd0luZm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXV0b1RyYW5zbGF0ZSwgc2V0QXV0b1RyYW5zbGF0ZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyYW5zbGF0aW9ucywgc2V0VHJhbnNsYXRpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHsgdGV4dD86IHN0cmluZzsgbG9hZGluZz86IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+Pih7fSk7XG4gIGNvbnN0IFt0cmFuc2xhdGlvbkFwaVN0YXR1cywgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXNdID0gdXNlU3RhdGU8J3Vua25vd24nIHwgJ29rJyB8ICdiYWQnPigndW5rbm93bicpO1xuICBjb25zdCBbdHJhbnNsYXRpb25BcGlFcnJvciwgc2V0VHJhbnNsYXRpb25BcGlFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3N1cHBvcnRlZExhbmd1YWdlcywgc2V0U3VwcG9ydGVkTGFuZ3VhZ2VzXSA9IHVzZVN0YXRlPEFycmF5PHsgY29kZTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGZsYWc/OiBzdHJpbmcgfT4+KFtdKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRDaGF0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCBbcmVsRGF0YSwgbXNnRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgYXBpLmdldFJlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXBJZCksXG4gICAgICAgICAgYXBpLmdldE1lc3NhZ2VzKHJlbGF0aW9uc2hpcElkLCA1MClcbiAgICAgICAgXSk7XG4gICAgICAgIHNldENoYXREYXRhKHJlbERhdGEpO1xuICAgICAgICBzZXRNZXNzYWdlcyhtc2dEYXRhLm1lc3NhZ2VzIHx8IFtdKTtcbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNoYXQ6JywgZXJyKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGNoYXQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocmVsYXRpb25zaGlwSWQgJiYgdXNlcikgbG9hZENoYXQoKTtcbiAgfSwgW3JlbGF0aW9uc2hpcElkLCB1c2VyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJlbGF0aW9uc2hpcElkIHx8ICF1c2VyIHx8IGlzTG9hZGluZykgcmV0dXJuO1xuICAgIGNvbnN0IHBvbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtc2dEYXRhID0gYXdhaXQgYXBpLmdldE1lc3NhZ2VzKHJlbGF0aW9uc2hpcElkLCA1MCk7XG4gICAgICAgIGNvbnN0IGZyZXNoID0gbXNnRGF0YS5tZXNzYWdlcyB8fCBbXTtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgaWYgKGZyZXNoLmxlbmd0aCAhPT0gcHJldi5sZW5ndGggfHxcbiAgICAgICAgICAgICAgKGZyZXNoLmxlbmd0aCA+IDAgJiYgcHJldi5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICBmcmVzaFtmcmVzaC5sZW5ndGggLSAxXT8uaWQgIT09IHByZXZbcHJldi5sZW5ndGggLSAxXT8uaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJlc2g7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBzaWxlbnQgKi8gfVxuICAgIH07XG4gICAgY29uc3QgaWQgPSBzZXRJbnRlcnZhbChwb2xsLCAzMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpZCk7XG4gIH0sIFtyZWxhdGlvbnNoaXBJZCwgdXNlciwgaXNMb2FkaW5nXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgc2Nyb2xsVG9Cb3R0b20oKTsgfSwgW21lc3NhZ2VzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7IGlmICghaXNMb2FkaW5nKSBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpOyB9LCBbaXNMb2FkaW5nXSk7XG5cbiAgLy8gUHJvYWN0aXZlbHkgdmFsaWRhdGUgdHJhbnNsYXRpb24gYmFja2VuZCAod2hpY2ggdXNlcyB0aGUgc2VydmVyLXNpZGUgR29vZ2xlIGtleSkgb25jZSBvbiBtb3VudC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLmdldExhbmd1YWdlcygpO1xuICAgICAgICBpZiAocmVzICYmIHJlcy5sYW5ndWFnZXMpIHtcbiAgICAgICAgICBzZXRTdXBwb3J0ZWRMYW5ndWFnZXMocmVzLmxhbmd1YWdlcyB8fCBbXSk7XG4gICAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ29rJyk7XG4gICAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlFcnJvcihudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnYmFkJyk7XG4gICAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlFcnJvcignVHJhbnNsYXRpb24gc2VydmljZSB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnYmFkJyk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ1RyYW5zbGF0aW9uIHNlcnZpY2UgZXJyb3InKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIC8vIEF1dG8tdHJhbnNsYXRlIGluY29taW5nIHBhcnRuZXIgbWVzc2FnZXMgd2hlbiBlbmFibGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdXRvVHJhbnNsYXRlIHx8ICF1c2VyKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBtc2cgb2YgbWVzc2FnZXMpIHtcbiAgICAgIGlmIChtc2cuc2VuZGVyX2lkID09PSB1c2VyLmlkKSBjb250aW51ZTtcbiAgICAgIGlmICh0cmFuc2xhdGlvbnNbbXNnLmlkXT8udGV4dCB8fCB0cmFuc2xhdGlvbnNbbXNnLmlkXT8ubG9hZGluZykgY29udGludWU7XG4gICAgICB2b2lkIHRyYW5zbGF0ZU1lc3NhZ2VCeUlkKG1zZy5pZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW21lc3NhZ2VzLCBhdXRvVHJhbnNsYXRlLCB1c2VyPy5pZF0pO1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXQudHJpbSgpIHx8IGlzU2VuZGluZyB8fCAhdXNlcikgcmV0dXJuO1xuICAgIGNvbnN0IHRleHQgPSBpbnB1dC50cmltKCk7XG4gICAgc2V0SW5wdXQoJycpO1xuICAgIHNldElzU2VuZGluZyh0cnVlKTtcblxuICAgIGNvbnN0IHRlbXA6IE1lc3NhZ2UgPSB7XG4gICAgICBpZDogYHRlbXAtJHtEYXRlLm5vdygpfWAsXG4gICAgICByZWxhdGlvbnNoaXBfaWQ6IHJlbGF0aW9uc2hpcElkLFxuICAgICAgc2VuZGVyX2lkOiB1c2VyLmlkLFxuICAgICAgY29udGVudF90eXBlOiAndGV4dCcsXG4gICAgICBvcmlnaW5hbF90ZXh0OiB0ZXh0LFxuICAgICAgb3JpZ2luYWxfbGFuZ3VhZ2U6ICdlbicsXG4gICAgICBoYXNfaWRpb206IGZhbHNlLFxuICAgICAgaXNfcmVhZDogZmFsc2UsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB0ZW1wXSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgcmVsYXRpb25zaGlwX2lkOiByZWxhdGlvbnNoaXBJZCxcbiAgICAgICAgb3JpZ2luYWxfdGV4dDogdGV4dCxcbiAgICAgICAgY29udGVudF90eXBlOiAndGV4dCcsXG4gICAgICB9KTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobSA9PiBtLmlkID09PSB0ZW1wLmlkID8gcmVzLm1lc3NhZ2UgOiBtKSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHRvYXN0LmVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VuZCcpO1xuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2LmZpbHRlcihtID0+IG0uaWQgIT09IHRlbXAuaWQpKTtcbiAgICAgIHNldElucHV0KHRleHQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlbmRpbmcoZmFsc2UpO1xuICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVHJhbnNsYXRpb24gPSAobXNnSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFNob3dUcmFuc2xhdGlvbihwID0+ICh7IC4uLnAsIFttc2dJZF06ICFwW21zZ0lkXSB9KSk7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNhY2hlZCB0cmFuc2xhdGlvbiwgdHJpZ2dlciBvbmUgd2hlbiB1c2VyIG9wZW5zXG4gICAgaWYgKCF0cmFuc2xhdGlvbnNbbXNnSWRdKSB7XG4gICAgICB2b2lkIHRyYW5zbGF0ZU1lc3NhZ2VCeUlkKG1zZ0lkKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJlZmVycmVkIHRyYW5zbGF0aW9uIHRhcmdldCBkZXJpdmVkIGZyb20gdXNlciBzZXR0aW5ncyAoZGVmYXVsdCBFbmdsaXNoKVxuICBjb25zdCBwcmVmZXJyZWRMYW5nU2V0dGluZ1JhdyA9ICh1c2VyIGFzIGFueSk/LnByZWZlcnJlZF9sYW5ndWFnZSB8fCAodXNlciBhcyBhbnkpPy5sYW5ndWFnZXM/LlswXSB8fCAnRW5nbGlzaCc7XG4gIGNvbnN0IHByZWZlcnJlZExhbmdDb2RlID0gbWFwTGFuZ3VhZ2VUb0NvZGUocHJlZmVycmVkTGFuZ1NldHRpbmdSYXcpIHx8ICdlbic7XG4gIGNvbnN0IHByZWZlcnJlZExhbmdOYW1lID0gc3VwcG9ydGVkTGFuZ3VhZ2VzLmZpbmQocyA9PiBzLmNvZGUgPT09IHByZWZlcnJlZExhbmdDb2RlKT8ubmFtZSB8fCBwcmVmZXJyZWRMYW5nU2V0dGluZ1JhdyB8fCAnRW5nbGlzaCc7XG5cbiAgLy8gTWFwIGNvbW1vbiBsYW5ndWFnZSBuYW1lcyB0byBJU08gY29kZXMgKGZhbGxiYWNrcykuXG4gIGNvbnN0IG1hcExhbmd1YWdlVG9Db2RlID0gKGxhbmc6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghbGFuZykgcmV0dXJuICdlbic7XG4gICAgY29uc3QgbCA9IGxhbmcudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBlbmdsaXNoOiAnZW4nLCBzcGFuaXNoOiAnZXMnLCBmcmVuY2g6ICdmcicsIGdlcm1hbjogJ2RlJywgaXRhbGlhbjogJ2l0JywgcG9ydHVndWVzZTogJ3B0JywgcnVzc2lhbjogJ3J1JywgY2hpbmVzZTogJ3poJywgJ3NpbXBsaWZpZWQgY2hpbmVzZSc6ICd6aC1DTicsIGhpbmRpOiAnaGknLCBhcmFiaWM6ICdhcicsIGphcGFuZXNlOiAnamEnLCBrb3JlYW46ICdrbydcbiAgICB9O1xuICAgIGlmIChtYXBbbF0pIHJldHVybiBtYXBbbF07XG4gICAgLy8gSWYgYWxyZWFkeSBsb29rcyBsaWtlIGEgY29kZSAoMiBvciA1IGNoYXJzIGxpa2UgemgtQ04pLCByZXR1cm4gaXRcbiAgICBpZiAoL15bYS16XXsyfSgtW0EtWl17Mn0pPyQvLnRlc3QobGFuZykpIHJldHVybiBsYW5nO1xuICAgIHJldHVybiAnZW4nO1xuICB9O1xuXG4gIGNvbnN0IHRyYW5zbGF0ZU1lc3NhZ2VCeUlkID0gYXN5bmMgKG1zZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlcy5maW5kKG0gPT4gbS5pZCA9PT0gbXNnSWQpO1xuICAgIGlmICghbXNnIHx8ICF1c2VyKSByZXR1cm47XG4gICAgLy8gQXZvaWQgcmUtdHJhbnNsYXRpb24gaWYgYWxyZWFkeSBsb2FkaW5nL3RyYW5zbGF0ZWRcbiAgICBpZiAodHJhbnNsYXRpb25zW21zZ0lkXT8ubG9hZGluZyB8fCB0cmFuc2xhdGlvbnNbbXNnSWRdPy50ZXh0KSByZXR1cm47XG5cbiAgICAvLyBFbnN1cmUgYmFja2VuZCB0cmFuc2xhdGlvbiBzZXJ2aWNlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh0cmFuc2xhdGlvbkFwaVN0YXR1cyA9PT0gJ3Vua25vd24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsYW5ncyA9IGF3YWl0IGFwaS5nZXRMYW5ndWFnZXMoKTtcbiAgICAgICAgaWYgKGxhbmdzICYmIGxhbmdzLmxhbmd1YWdlcykge1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdvaycpO1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoJ1RyYW5zbGF0aW9uIHNlcnZpY2UgdW5hdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKGVyci5tZXNzYWdlIHx8ICdUcmFuc2xhdGlvbiBzZXJ2aWNlIGVycm9yJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zbGF0aW9uQXBpU3RhdHVzID09PSAnYmFkJykge1xuICAgICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyBlcnJvcjogdHJhbnNsYXRpb25BcGlFcnJvciB8fCAnVHJhbnNsYXRpb24gQVBJIHVuYXZhaWxhYmxlJyB9IH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgdGFyZ2V0IGxhbmd1YWdlOiBwcmVmZXIgZXhwbGljaXQgdXNlci5wcmVmZXJyZWRfbGFuZ3VhZ2UsIHRoZW4gZmlyc3QgdXNlci5sYW5ndWFnZXMgZW50cnlcbiAgICBjb25zdCBwcmVmZXJyZWRMYW5nUmF3ID0gKHVzZXIgYXMgYW55KT8ucHJlZmVycmVkX2xhbmd1YWdlIHx8ICh1c2VyIGFzIGFueSk/Lmxhbmd1YWdlcz8uWzBdO1xuICAgIGNvbnN0IHRhcmdldCA9IG1hcExhbmd1YWdlVG9Db2RlKHByZWZlcnJlZExhbmdSYXcpIHx8ICdlbic7XG5cbiAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IGxvYWRpbmc6IHRydWUgfSB9KSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS50cmFuc2xhdGUobXNnLm9yaWdpbmFsX3RleHQsIHVuZGVmaW5lZCwgdGFyZ2V0KTtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZWQgPSByZXM/LnRyYW5zbGF0ZWRfdGV4dCB8fCByZXM/LnRyYW5zbGF0ZWRUZXh0IHx8IHJlcz8uZGF0YT8udHJhbnNsYXRpb25zPy5bMF0/LnRyYW5zbGF0ZWRUZXh0O1xuICAgICAgY29uc3QgY3VsdHVyYWxfbm90ZSA9IHJlcz8uY3VsdHVyYWxfbm90ZSB8fCByZXM/LmN1bHR1cmFsTm90ZSB8fCBudWxsO1xuICAgICAgY29uc3QgaGFzX2lkaW9tID0gcmVzPy5oYXNfaWRpb20gfHwgZmFsc2U7XG4gICAgICBjb25zdCBpZGlvbV9leHBsYW5hdGlvbiA9IHJlcz8uaWRpb21fZXhwbGFuYXRpb24gfHwgcmVzPy5pZGlvbUV4cGxhbmF0aW9uIHx8IG51bGw7XG5cbiAgICAgIGlmICghdHJhbnNsYXRlZCkgdGhyb3cgbmV3IEVycm9yKCdObyB0cmFuc2xhdGlvbiByZXR1cm5lZCcpO1xuXG4gICAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IHRleHQ6IHRyYW5zbGF0ZWQgfSB9KSk7XG4gICAgICAvLyBNZXJnZSB0cmFuc2xhdGVkIGZpZWxkcyBiYWNrIGludG8gbWVzc2FnZSBzdGF0ZSBzbyBleGlzdGluZyBVSSAoY3VsdHVyYWwgbm90ZSwgaWRpb20pIHdvcmtzXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG0gPT4gbS5pZCA9PT0gbXNnSWQgPyB7IC4uLm0sIHRyYW5zbGF0ZWRfdGV4dDogdHJhbnNsYXRlZCwgY3VsdHVyYWxfbm90ZSwgaGFzX2lkaW9tLCBpZGlvbV9leHBsYW5hdGlvbiB9IDogbSkpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2xhdGlvbiBmYWlsZWQ6JywgZXJyKTtcbiAgICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdUcmFuc2xhdGlvbiBmYWlsZWQnIH0gfSkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmbXRUaW1lID0gKHM6IHN0cmluZykgPT4gbmV3IERhdGUocykudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSk7XG4gIGNvbnN0IGZtdERhdGUgPSAoczogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKHMpLCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRpZmYgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gZC5nZXRUaW1lKCkpIC8gODY0MDAwMDApO1xuICAgIGlmIChkaWZmID09PSAwKSByZXR1cm4gJ1RvZGF5JztcbiAgICBpZiAoZGlmZiA9PT0gMSkgcmV0dXJuICdZZXN0ZXJkYXknO1xuICAgIHJldHVybiBkLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXBhZ2UtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC13cmFwcGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctOCBoLTggbXgtYXV0byBhbmltYXRlLXNwaW4gdGV4dC1mYW1pbGlhLTQwMCBtYi0zXCIgLz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC1zbVwiPkxvYWRpbmcgY29udmVyc2F0aW9uLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWNoYXREYXRhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtd3JhcHBlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgZ2xhc3MtY2FyZCBtYXgtdy1zbSBwLTZcIj5cbiAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgbXgtYXV0byBtYi0zIHRleHQtbXV0ZWQgb3BhY2l0eS0zMFwiIC8+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgbWItMVwiPk5vdCBGb3VuZDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQtc20gbWItNFwiPlRoaXMgY29udmVyc2F0aW9uIGRvZXNuJmFwb3M7dCBleGlzdC48L3A+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2NoYXRcIj48YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IHRleHQtc21cIj5CYWNrPC9idXR0b24+PC9MaW5rPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCB7IHJlbGF0aW9uc2hpcCwgcGFydG5lciwgbXlfcm9sZSwgcGFydG5lcl9yb2xlIH0gPSBjaGF0RGF0YTtcblxuICBjb25zdCBpc0NvbnNlY3V0aXZlID0gKGk6IG51bWJlcikgPT4ge1xuICAgIGlmIChpID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG1lc3NhZ2VzW2ldLnNlbmRlcl9pZCA9PT0gbWVzc2FnZXNbaSAtIDFdLnNlbmRlcl9pZDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXdyYXBwZXJcIj5cblxuICAgICAgICB7Lyog4pSA4pSAIEhlYWRlciDilIDilIAgKi99XG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yLjUgbWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvY2hhdFwiPlxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvbiBjbGFzc05hbWU9XCJwLTEuNSAtbWwtMSByb3VuZGVkLWxnIGhvdmVyOmJnLXdoaXRlLzUgdHJhbnNpdGlvblwiIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX0+XG4gICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tZmFtaWxpYS01MDAgdG8tYm9uZC01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1sZyBzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgICAgICB7Uk9MRV9FTU9KSVNbcGFydG5lcl9yb2xlXSB8fCAnXFx1ezFGOTFEfSd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIC1ib3R0b20tMC41IC1yaWdodC0wLjUgdy0zIGgtMyByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLVt2YXIoLS1iZy1wcmltYXJ5KV0gJHtcbiAgICAgICAgICAgICAgICBwYXJ0bmVyPy5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2JnLWdyZWVuLTUwMCcgOiAnYmctZ3JheS01MDAnXG4gICAgICAgICAgICAgIH1gfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LVsxNXB4XSB0cnVuY2F0ZVwiPntwYXJ0bmVyPy5kaXNwbGF5X25hbWUgfHwgJ1BhcnRuZXInfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7cGFydG5lcj8uY291bnRyeSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LW11dGVkXCI+e3BhcnRuZXIuY291bnRyeX08L3NwYW4+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMXB4XSB0ZXh0LW11dGVkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdy0xLjUgaC0xLjUgcm91bmRlZC1mdWxsICR7cGFydG5lcj8uc3RhdHVzID09PSAnYWN0aXZlJyA/ICdiZy1ncmVlbi00MDAnIDogJ2JnLWdyYXktNDAwJ31gfSAvPlxuICAgICAgICAgICAgICAgICAge3BhcnRuZXI/LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnT25saW5lJyA6ICdPZmZsaW5lJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib3BhY2l0eS00MFwiPiZtaWRkb3Q7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPllvdXIge3BhcnRuZXJfcm9sZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib3BhY2l0eS00MFwiPiZtaWRkb3Q7PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlLWxldmVsICF0ZXh0LVs5cHhdICFweC0xLjUgIXB5LTBcIj5cbiAgICAgICAgICAgICAgICAgIEx2LntyZWxhdGlvbnNoaXAubGV2ZWx9IHtMRVZFTF9OQU1FU1tyZWxhdGlvbnNoaXAubGV2ZWxdfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy13aGl0ZS81IHRyYW5zaXRpb24gdGV4dC1tdXRlZFwiXG4gICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mbyghc2hvd0luZm8pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzaG93SW5mbyA/IDxYIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiA6IDxJbmZvIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPn1cbiAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG5cbiAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAge3Nob3dJbmZvICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCByaWdodC0wIHRvcC1mdWxsIG92ZXJmbG93LWhpZGRlbiBib3JkZXItdCBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildIGJnLVt2YXIoLS1iZy1jYXJkKV0gYmFja2Ryb3AtYmx1ci14bCB6LTMwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMyBweC00IHB5LTMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LWZhbWlsaWEtNDAwXCI+e3JlbGF0aW9uc2hpcC5jYXJlX3Njb3JlIHx8IDB9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+Q2FyZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1ib25kLTQwMFwiPntyZWxhdGlvbnNoaXAuYm9uZF9wb2ludHMgfHwgMH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5Cb25kPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LW9yYW5nZS00MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RmxhbWUgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiAvPiB7cmVsYXRpb25zaGlwLnN0cmVha19kYXlzIHx8IDB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPlN0cmVhazwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1tdXRlZFwiPntyZWxhdGlvbnNoaXAubWVzc2FnZXNfZXhjaGFuZ2VkIHx8IG1lc3NhZ2VzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5Nc2dzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgey8qIOKUgOKUgCBNZXNzYWdlcyDilIDilIAgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tZXNzYWdlcy1hcmVhXCI+XG4gICAgICAgICAge3JlbGF0aW9uc2hpcC5tYXRjaGVkX2F0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1iZy1jYXJkKV0gYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyLWNvbG9yKV0gdGV4dC1bMTBweF0gdGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgIDxIZWFydCBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtaGVhcnQtNDAwXCIgLz5cbiAgICAgICAgICAgICAgICBCb25kIHN0YXJ0ZWQge2ZtdERhdGUocmVsYXRpb25zaGlwLm1hdGNoZWRfYXQpfSAmbWlkZG90OyB7Uk9MRV9FTU9KSVNbbXlfcm9sZV19IHtteV9yb2xlfSAmIHtST0xFX0VNT0pJU1twYXJ0bmVyX3JvbGVdfSB7cGFydG5lcl9yb2xlfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyIHB4LTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IHJvdW5kZWQtZnVsbCBiZy1mYW1pbGlhLTUwMC8xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZmFtaWxpYS00MDAgb3BhY2l0eS02MFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgbWItMVwiPlN0YXJ0IGNoYXR0aW5nITwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC14c1wiPlNheSBoZWxsbyB0byB5b3VyIG5ldyBmYW1pbHkgbWVtYmVyPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1zZywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNNZSA9IG1zZy5zZW5kZXJfaWQgPT09IHVzZXI/LmlkO1xuICAgICAgICAgICAgY29uc3Qgc2hvd1RyYW5zID0gc2hvd1RyYW5zbGF0aW9uW21zZy5pZF07XG4gICAgICAgICAgICBjb25zdCBoYXNUcmFuc2xhdGlvbiA9IG1zZy50cmFuc2xhdGVkX3RleHQgJiYgbXNnLnRyYW5zbGF0ZWRfdGV4dCAhPT0gbXNnLm9yaWdpbmFsX3RleHQ7XG4gICAgICAgICAgICBjb25zdCBjb25zZWN1dGl2ZSA9IGlzQ29uc2VjdXRpdmUoaSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2TXNnID0gaSA+IDAgPyBtZXNzYWdlc1tpIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgc2hvd0RhdGUgPSAhcHJldk1zZyB8fCBmbXREYXRlKG1zZy5jcmVhdGVkX2F0KSAhPT0gZm10RGF0ZShwcmV2TXNnLmNyZWF0ZWRfYXQpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfT5cbiAgICAgICAgICAgICAgICB7c2hvd0RhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIHB5LTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC0zIHB5LTAuNSByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWJnLWNhcmQpXSB0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2ZtdERhdGUobXNnLmNyZWF0ZWRfYXQpfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4ICR7aXNNZSA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9ICR7Y29uc2VjdXRpdmUgPyAnbXQtWzNweF0nIDogJ210LTMnfWB9PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1bODAlXVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHJlbGF0aXZlIHB4LTMgcHktWzdweF0gJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc01lXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdtZXNzYWdlLXNlbnQgcm91bmRlZC0yeGwgcm91bmRlZC1ici1bNXB4XSdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ21lc3NhZ2UtcmVjZWl2ZWQgcm91bmRlZC0yeGwgcm91bmRlZC1ibC1bNXB4XSdcbiAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEzLjVweF0gbGVhZGluZy1bMS40XSBwci0xNFwiPnttc2cub3JpZ2luYWxfdGV4dH08L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBib3R0b20tWzVweF0gcmlnaHQtMi41IGZsZXggaXRlbXMtY2VudGVyIGdhcC0wLjUgdGV4dC1bMTBweF0gbGVhZGluZy1ub25lICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc01lID8gJ3RleHQtd2hpdGUvMzUnIDogJ3RleHQtW3ZhcigtLXRleHQtbXV0ZWQpXSdcbiAgICAgICAgICAgICAgICAgICAgICB9YH0gc3R5bGU9e3sgb3BhY2l0eTogMC42IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAge2ZtdFRpbWUobXNnLmNyZWF0ZWRfYXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAge2lzTWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaGVjayBjbGFzc05hbWU9e2B3LTMuNSBoLTMuNSAtbXItMC41ICR7bXNnLmlzX3JlYWQgPyAndGV4dC1ibHVlLTQwMCcgOiAnJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogVHJhbnNsYXRpb24gVUk6IGFsd2F5cyBvZmZlciB0cmFuc2xhdGUgZm9yIHBhcnRuZXIgbWVzc2FnZXMuIFVzZSBjYWNoZWQgdHJhbnNsYXRpb25zLCBzaG93IGxvYWRpbmcvZXJyb3IsIHN1cHBvcnQgYXV0by10cmFuc2xhdGUuICovfVxuICAgICAgICAgICAgICAgICAgICAgIHshaXNNZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRyYW5zbGF0aW9uKG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsxMHB4XSB0ZXh0LWZhbWlsaWEtNDAwLzYwIGhvdmVyOnRleHQtZmFtaWxpYS00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93VHJhbnNsYXRpb25bbXNnLmlkXSA/ICdIaWRlJyA6ICdUcmFuc2xhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGlvbnNbbXNnLmlkXT8ubG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkXCI+VHJhbnNsYXRpbmfigKY8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRpb25zW21zZy5pZF0/LmVycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtcm9zZS00MDBcIj57dHJhbnNsYXRpb25zW21zZy5pZF0/LmVycm9yfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoYXV0b1RyYW5zbGF0ZSAmJiB0cmFuc2xhdGlvbnNbbXNnLmlkXT8udGV4dCkgfHwgKHNob3dUcmFuc2xhdGlvblttc2cuaWRdICYmIHRyYW5zbGF0aW9uc1ttc2cuaWRdPy50ZXh0KSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBwdC0xIGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZCBpdGFsaWNcIj57dHJhbnNsYXRpb25zW21zZy5pZF0udGV4dH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDdWx0dXJhbE5vdGUoc2hvd0N1bHR1cmFsTm90ZSA9PT0gbXNnLmlkID8gbnVsbCA6IG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG10LTEgdGV4dC1bMTBweF0gdGV4dC1hbWJlci00MDAvNjAgaG92ZXI6dGV4dC1hbWJlci00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyZSB0aXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dDdWx0dXJhbE5vdGUgPT09IG1zZy5pZCAmJiBtc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC14bCBiZy1hbWJlci01MDAvMTAgYm9yZGVyIGJvcmRlci1hbWJlci01MDAvMjAgdGV4dC1bMTFweF0gbGVhZGluZy1yZWxheGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItMzAwIG1iLTAuNSB0ZXh0LVsxMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyYWwgTm90ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1hbWJlci0yMDAvNzBcIj57bXNnLmN1bHR1cmFsX25vdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICAgICAgICAgICAgICAgIHttc2cuaGFzX2lkaW9tICYmIG1zZy5pZGlvbV9leHBsYW5hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC1sZyBiZy1wdXJwbGUtNTAwLzEwIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8yMCB0ZXh0LVsxMXB4XSB0ZXh0LXB1cnBsZS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaWRpb21fZXhwbGFuYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1IH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgZ2FwLTEuNSBtdC0yXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwaW5nLWluZGljYXRvciAhcHktMiAhcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gLz48c3BhbiAvPjxzcGFuIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IGNsYXNzTmFtZT1cImgtMVwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDilIDilIAgRm9vdGVyIOKUgOKUgCAqL31cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJjaGF0LWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb25zLWJhclwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9jb250ZXN0cz9yZWxhdGlvbnNoaXA9JHtyZWxhdGlvbnNoaXBJZH1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTQwMCBob3ZlcjpiZy1hbWJlci01MDAvMjBcIj5cbiAgICAgICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDaGFsbGVuZ2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2dhbWVzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb24tcGlsbCBiZy1wdXJwbGUtNTAwLzEwIHRleHQtcHVycGxlLTQwMCBob3ZlcjpiZy1wdXJwbGUtNTAwLzIwXCI+XG4gICAgICAgICAgICAgICAgPEdhbWVwYWQyIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHYW1lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWhlYXJ0LTUwMC8xMCB0ZXh0LWhlYXJ0LTQwMCBob3ZlcjpiZy1oZWFydC01MDAvMjBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2FzdCgnQ29taW5nIHNvb24hJywgeyBpY29uOiAnXFx1ezFGMzgxfScgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHaWZ0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2hhdC1hY3Rpb24tcGlsbCAke2F1dG9UcmFuc2xhdGUgPyAnYmctZmFtaWxpYS01MDAvMTUgdGV4dC1mYW1pbGlhLTQwMCcgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ31gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBdXRvVHJhbnNsYXRlKCFhdXRvVHJhbnNsYXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiB7YXV0b1RyYW5zbGF0ZSA/ICdBdXRvIFxcdTI3MTMnIDogJ0F1dG8gXFx1MjcxNyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIHt0cmFuc2xhdGlvbkFwaVN0YXR1cyA9PT0gJ2JhZCcgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJvc2UtNDAwIHRleHQtWzExcHhdIG1sLTJcIj5UcmFuc2xhdGUga2V5IGludmFsaWQ8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWlucHV0LWJhclwiPlxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b24gY2xhc3NOYW1lPVwicC0xLjUgdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LXByaW1hcnkpXSB0cmFuc2l0aW9uXCIgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fT5cbiAgICAgICAgICAgICAgPFNtaWxlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiBlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSAmJiBzZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBhIG1lc3NhZ2UuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtdGV4dC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge2F1dG9UcmFuc2xhdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMi41IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkLzQwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0wLjUgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtzZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dC50cmltKCkgfHwgaXNTZW5kaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICBpbnB1dC50cmltKCkgJiYgIWlzU2VuZGluZ1xuICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1mYW1pbGlhLTUwMCB0by1oZWFydC01MDAgdGV4dC13aGl0ZSBzaGFkb3ctbGcgc2hhZG93LWZhbWlsaWEtNTAwLzMwJ1xuICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuODUgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzU2VuZGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNSBoLTUgYW5pbWF0ZS1zcGluXCIgLz4gOiA8U2VuZCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsibW90aW9uIiwiQW5pbWF0ZVByZXNlbmNlIiwiTGluayIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUGFyYW1zIiwiQXJyb3dMZWZ0IiwiU2VuZCIsIkdsb2JlIiwiSGVhcnQiLCJTbWlsZSIsIkdhbWVwYWQyIiwiVHJvcGh5IiwiSW5mbyIsIkxhbmd1YWdlcyIsIlNwYXJrbGVzIiwiRmxhbWUiLCJHaWZ0IiwiTG9hZGVyMiIsIlgiLCJDaGVja0NoZWNrIiwiYXBpIiwidXNlQXV0aCIsIlJPTEVfRU1PSklTIiwiTEVWRUxfTkFNRVMiLCJ0b2FzdCIsIkNoYXRQYWdlIiwic3VwcG9ydGVkTGFuZ3VhZ2VzIiwicGFyYW1zIiwicmVsYXRpb25zaGlwSWQiLCJ1c2VyIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlucHV0Iiwic2V0SW5wdXQiLCJpc1R5cGluZyIsInNldElzVHlwaW5nIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiY2hhdERhdGEiLCJzZXRDaGF0RGF0YSIsInNob3dUcmFuc2xhdGlvbiIsInNldFNob3dUcmFuc2xhdGlvbiIsInNob3dDdWx0dXJhbE5vdGUiLCJzZXRTaG93Q3VsdHVyYWxOb3RlIiwic2hvd0luZm8iLCJzZXRTaG93SW5mbyIsImF1dG9UcmFuc2xhdGUiLCJzZXRBdXRvVHJhbnNsYXRlIiwidHJhbnNsYXRpb25zIiwic2V0VHJhbnNsYXRpb25zIiwidHJhbnNsYXRpb25BcGlTdGF0dXMiLCJzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cyIsInRyYW5zbGF0aW9uQXBpRXJyb3IiLCJzZXRUcmFuc2xhdGlvbkFwaUVycm9yIiwic2V0U3VwcG9ydGVkTGFuZ3VhZ2VzIiwibWVzc2FnZXNFbmRSZWYiLCJpbnB1dFJlZiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJsb2FkQ2hhdCIsInJlbERhdGEiLCJtc2dEYXRhIiwiUHJvbWlzZSIsImFsbCIsImdldFJlbGF0aW9uc2hpcCIsImdldE1lc3NhZ2VzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsInBvbGwiLCJmcmVzaCIsInByZXYiLCJsZW5ndGgiLCJpZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImZvY3VzIiwicmVzIiwiZ2V0TGFuZ3VhZ2VzIiwibGFuZ3VhZ2VzIiwibXNnIiwic2VuZGVyX2lkIiwidGV4dCIsImxvYWRpbmciLCJ0cmFuc2xhdGVNZXNzYWdlQnlJZCIsInNlbmRNZXNzYWdlIiwidHJpbSIsInRlbXAiLCJEYXRlIiwibm93IiwicmVsYXRpb25zaGlwX2lkIiwiY29udGVudF90eXBlIiwib3JpZ2luYWxfdGV4dCIsIm9yaWdpbmFsX2xhbmd1YWdlIiwiaGFzX2lkaW9tIiwiaXNfcmVhZCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsIm1hcCIsIm0iLCJmaWx0ZXIiLCJ0b2dnbGVUcmFuc2xhdGlvbiIsIm1zZ0lkIiwicCIsInByZWZlcnJlZExhbmdTZXR0aW5nUmF3IiwicHJlZmVycmVkX2xhbmd1YWdlIiwicHJlZmVycmVkTGFuZ0NvZGUiLCJtYXBMYW5ndWFnZVRvQ29kZSIsInByZWZlcnJlZExhbmdOYW1lIiwiZmluZCIsInMiLCJjb2RlIiwibmFtZSIsImxhbmciLCJsIiwidG9Mb3dlckNhc2UiLCJlbmdsaXNoIiwic3BhbmlzaCIsImZyZW5jaCIsImdlcm1hbiIsIml0YWxpYW4iLCJwb3J0dWd1ZXNlIiwicnVzc2lhbiIsImNoaW5lc2UiLCJoaW5kaSIsImFyYWJpYyIsImphcGFuZXNlIiwia29yZWFuIiwidGVzdCIsImxhbmdzIiwicHJlZmVycmVkTGFuZ1JhdyIsInRhcmdldCIsInRyYW5zbGF0ZSIsInVuZGVmaW5lZCIsInRyYW5zbGF0ZWQiLCJ0cmFuc2xhdGVkX3RleHQiLCJ0cmFuc2xhdGVkVGV4dCIsImRhdGEiLCJjdWx0dXJhbF9ub3RlIiwiY3VsdHVyYWxOb3RlIiwiaWRpb21fZXhwbGFuYXRpb24iLCJpZGlvbUV4cGxhbmF0aW9uIiwiRXJyb3IiLCJmbXRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImZtdERhdGUiLCJkIiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImhyZWYiLCJidXR0b24iLCJyZWxhdGlvbnNoaXAiLCJwYXJ0bmVyIiwibXlfcm9sZSIsInBhcnRuZXJfcm9sZSIsImlzQ29uc2VjdXRpdmUiLCJpIiwiaGVhZGVyIiwid2hpbGVUYXAiLCJzY2FsZSIsInN0YXR1cyIsInNwYW4iLCJkaXNwbGF5X25hbWUiLCJjb3VudHJ5IiwibGV2ZWwiLCJvbkNsaWNrIiwiaW5pdGlhbCIsImhlaWdodCIsIm9wYWNpdHkiLCJhbmltYXRlIiwiZXhpdCIsImNhcmVfc2NvcmUiLCJib25kX3BvaW50cyIsInN0cmVha19kYXlzIiwibWVzc2FnZXNfZXhjaGFuZ2VkIiwibWF0Y2hlZF9hdCIsImgzIiwiaXNNZSIsInNob3dUcmFucyIsImhhc1RyYW5zbGF0aW9uIiwiY29uc2VjdXRpdmUiLCJwcmV2TXNnIiwic2hvd0RhdGUiLCJzdHlsZSIsInkiLCJyZWYiLCJmb290ZXIiLCJpY29uIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJvbktleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx\n"));

/***/ })

});