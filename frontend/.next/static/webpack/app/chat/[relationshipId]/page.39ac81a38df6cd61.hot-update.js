"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[relationshipId]/page",{

/***/ "(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx":
/*!************************************************!*\
  !*** ./src/app/chat/[relationshipId]/page.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/info.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/flame.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gamepad-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/AuthContext */ \"(app-pages-browser)/./src/lib/AuthContext.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    var _user_languages, _supportedLanguages_find;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const relationshipId = params.relationshipId;\n    const { user } = (0,_lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [chatData, setChatData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showTranslation, setShowTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [showCulturalNote, setShowCulturalNote] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [translations, setTranslations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [translationApiStatus, setTranslationApiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('unknown');\n    const [translationApiError, setTranslationApiError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [supportedLanguages, setSupportedLanguages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const loadChat = {\n                \"ChatPage.useEffect.loadChat\": async ()=>{\n                    try {\n                        setIsLoading(true);\n                        const [relData, msgData] = await Promise.all([\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getRelationship(relationshipId),\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50)\n                        ]);\n                        setChatData(relData);\n                        setMessages(msgData.messages || []);\n                    } catch (err) {\n                        console.error('Failed to load chat:', err);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to load chat');\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"ChatPage.useEffect.loadChat\"];\n            if (relationshipId && user) loadChat();\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!relationshipId || !user || isLoading) return;\n            const poll = {\n                \"ChatPage.useEffect.poll\": async ()=>{\n                    try {\n                        const msgData = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50);\n                        const fresh = msgData.messages || [];\n                        setMessages({\n                            \"ChatPage.useEffect.poll\": (prev)=>{\n                                var _fresh_, _prev_;\n                                if (fresh.length !== prev.length || fresh.length > 0 && prev.length > 0 && ((_fresh_ = fresh[fresh.length - 1]) === null || _fresh_ === void 0 ? void 0 : _fresh_.id) !== ((_prev_ = prev[prev.length - 1]) === null || _prev_ === void 0 ? void 0 : _prev_.id)) {\n                                    return fresh;\n                                }\n                                return prev;\n                            }\n                        }[\"ChatPage.useEffect.poll\"]);\n                    } catch (e) {}\n                }\n            }[\"ChatPage.useEffect.poll\"];\n            const id = setInterval(poll, 3000);\n            return ({\n                \"ChatPage.useEffect\": ()=>clearInterval(id)\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _inputRef_current;\n            if (!isLoading) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }[\"ChatPage.useEffect\"], [\n        isLoading\n    ]);\n    // Proactively validate translation backend (which uses the server-side Google key) once on mount.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            ({\n                \"ChatPage.useEffect\": async ()=>{\n                    try {\n                        const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getLanguages();\n                        if (res && res.languages) {\n                            setSupportedLanguages(res.languages || []);\n                            setTranslationApiStatus('ok');\n                            setTranslationApiError(null);\n                        } else {\n                            setTranslationApiStatus('bad');\n                            setTranslationApiError('Translation service unavailable');\n                        }\n                    } catch (err) {\n                        setTranslationApiStatus('bad');\n                        setTranslationApiError(err.message || 'Translation service error');\n                    }\n                }\n            })[\"ChatPage.useEffect\"]();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], []);\n    // Auto-translate incoming partner messages when enabled\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!autoTranslate || !user) return;\n            for (const msg of messages){\n                var _translations_msg_id, _translations_msg_id1;\n                if (msg.sender_id === user.id) continue;\n                if (((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.text) || ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.loading)) continue;\n                void translateMessageById(msg.id);\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages,\n        autoTranslate,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const sendMessage = async ()=>{\n        if (!input.trim() || isSending || !user) return;\n        const text = input.trim();\n        setInput('');\n        setIsSending(true);\n        const temp = {\n            id: \"temp-\".concat(Date.now()),\n            relationship_id: relationshipId,\n            sender_id: user.id,\n            content_type: 'text',\n            original_text: text,\n            original_language: 'en',\n            has_idiom: false,\n            is_read: false,\n            created_at: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                temp\n            ]);\n        try {\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage({\n                relationship_id: relationshipId,\n                original_text: text,\n                content_type: 'text'\n            });\n            setMessages((prev)=>prev.map((m)=>m.id === temp.id ? res.message : m));\n        } catch (err) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to send');\n            setMessages((prev)=>prev.filter((m)=>m.id !== temp.id));\n            setInput(text);\n        } finally{\n            var _inputRef_current;\n            setIsSending(false);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    };\n    const toggleTranslation = (msgId)=>{\n        setShowTranslation((p)=>({\n                ...p,\n                [msgId]: !p[msgId]\n            }));\n        // If we don't have a cached translation, trigger one when user opens\n        if (!translations[msgId]) {\n            void translateMessageById(msgId);\n        }\n    };\n    // Preferred translation target derived from user settings (default English)\n    const preferredLangSettingRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]) || 'English';\n    const preferredLangCode = mapLanguageToCode(preferredLangSettingRaw) || 'en';\n    const preferredLangName = ((_supportedLanguages_find = supportedLanguages.find((s)=>s.code === preferredLangCode)) === null || _supportedLanguages_find === void 0 ? void 0 : _supportedLanguages_find.name) || preferredLangSettingRaw || 'English';\n    // Map common language names to ISO codes (fallbacks).\n    const mapLanguageToCode = (lang)=>{\n        if (!lang) return 'en';\n        const l = lang.toLowerCase();\n        const map = {\n            english: 'en',\n            spanish: 'es',\n            french: 'fr',\n            german: 'de',\n            italian: 'it',\n            portuguese: 'pt',\n            russian: 'ru',\n            chinese: 'zh',\n            'simplified chinese': 'zh-CN',\n            hindi: 'hi',\n            arabic: 'ar',\n            japanese: 'ja',\n            korean: 'ko'\n        };\n        if (map[l]) return map[l];\n        // If already looks like a code (2 or 5 chars like zh-CN), return it\n        if (/^[a-z]{2}(-[A-Z]{2})?$/.test(lang)) return lang;\n        return 'en';\n    };\n    const translateMessageById = async (msgId)=>{\n        var _translations_msgId, _translations_msgId1, _user_languages;\n        const msg = messages.find((m)=>m.id === msgId);\n        if (!msg || !user) return;\n        // Avoid re-translation if already loading/translated\n        if (((_translations_msgId = translations[msgId]) === null || _translations_msgId === void 0 ? void 0 : _translations_msgId.loading) || ((_translations_msgId1 = translations[msgId]) === null || _translations_msgId1 === void 0 ? void 0 : _translations_msgId1.text)) return;\n        // Ensure backend translation service is available\n        if (translationApiStatus === 'unknown') {\n            try {\n                const langs = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getLanguages();\n                if (langs && langs.languages) {\n                    setTranslationApiStatus('ok');\n                    setTranslationApiError(null);\n                } else {\n                    setTranslationApiStatus('bad');\n                    setTranslationApiError('Translation service unavailable');\n                }\n            } catch (err) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError(err.message || 'Translation service error');\n            }\n        }\n        if (translationApiStatus === 'bad') {\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: translationApiError || 'Translation API unavailable'\n                    }\n                }));\n            return;\n        }\n        // Determine target language: prefer explicit user.preferred_language, then first user.languages entry\n        const preferredLangRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]);\n        const target = mapLanguageToCode(preferredLangRaw) || 'en';\n        setTranslations((prev)=>({\n                ...prev,\n                [msgId]: {\n                    loading: true\n                }\n            }));\n        try {\n            var _res_data_translations_, _res_data_translations, _res_data;\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.translate(msg.original_text, undefined, target);\n            const translated = (res === null || res === void 0 ? void 0 : res.translated_text) || (res === null || res === void 0 ? void 0 : res.translatedText) || (res === null || res === void 0 ? void 0 : (_res_data = res.data) === null || _res_data === void 0 ? void 0 : (_res_data_translations = _res_data.translations) === null || _res_data_translations === void 0 ? void 0 : (_res_data_translations_ = _res_data_translations[0]) === null || _res_data_translations_ === void 0 ? void 0 : _res_data_translations_.translatedText);\n            const cultural_note = (res === null || res === void 0 ? void 0 : res.cultural_note) || (res === null || res === void 0 ? void 0 : res.culturalNote) || null;\n            const has_idiom = (res === null || res === void 0 ? void 0 : res.has_idiom) || false;\n            const idiom_explanation = (res === null || res === void 0 ? void 0 : res.idiom_explanation) || (res === null || res === void 0 ? void 0 : res.idiomExplanation) || null;\n            if (!translated) throw new Error('No translation returned');\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        text: translated\n                    }\n                }));\n            // Merge translated fields back into message state so existing UI (cultural note, idiom) works\n            setMessages((prev)=>prev.map((m)=>m.id === msgId ? {\n                        ...m,\n                        translated_text: translated,\n                        cultural_note,\n                        has_idiom,\n                        idiom_explanation\n                    } : m));\n        } catch (err) {\n            console.error('Translation failed:', err);\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: err.message || 'Translation failed'\n                    }\n                }));\n        }\n    };\n    const fmtTime = (s)=>new Date(s).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    const fmtDate = (s)=>{\n        const d = new Date(s), now = new Date();\n        const diff = Math.floor((now.getTime() - d.getTime()) / 86400000);\n        if (diff === 0) return 'Today';\n        if (diff === 1) return 'Yesterday';\n        return d.toLocaleDateString();\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-8 h-8 mx-auto animate-spin text-familia-400 mb-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 251,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm\",\n                            children: \"Loading conversation...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 252,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 250,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 249,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 248,\n            columnNumber: 7\n        }, this);\n    }\n    if (!chatData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center glass-card max-w-sm p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-10 h-10 mx-auto mb-3 text-muted opacity-30\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 264,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Not Found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 265,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm mb-4\",\n                            children: \"This conversation doesn't exist.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 266,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/chat\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-primary text-sm\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 267,\n                                columnNumber: 32\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 267,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 263,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 262,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 261,\n            columnNumber: 7\n        }, this);\n    }\n    const { relationship, partner, my_role, partner_role } = chatData;\n    const isConsecutive = (i)=>{\n        if (i === 0) return false;\n        return messages[i].sender_id === messages[i - 1].sender_id;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-page-container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-wrapper\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"chat-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2.5 min-w-0 flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/chat\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                        className: \"p-1.5 -ml-1 rounded-lg hover:bg-white/5 transition\",\n                                        whileTap: {\n                                            scale: 0.9\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 289,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 288,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 rounded-full bg-gradient-to-br from-familia-500 to-bond-500 flex items-center justify-center text-lg shadow-md\",\n                                            children: _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role] || \"\\uD83E\\uDD1D\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 295,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-[var(--bg-primary)] \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-500' : 'bg-gray-500')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0 flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-[15px] truncate\",\n                                                    children: (partner === null || partner === void 0 ? void 0 : partner.display_name) || 'Partner'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 305,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (partner === null || partner === void 0 ? void 0 : partner.country) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-muted\",\n                                                    children: partner.country\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 306,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 304,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[11px] text-muted flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-400' : 'bg-gray-400')\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 310,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        (partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'Online' : 'Offline'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 309,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 313,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Your \",\n                                                        partner_role\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 315,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"badge-level !text-[9px] !px-1.5 !py-0\",\n                                                    children: [\n                                                        \"Lv.\",\n                                                        relationship.level,\n                                                        \" \",\n                                                        _types__WEBPACK_IMPORTED_MODULE_6__.LEVEL_NAMES[relationship.level]\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 316,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 308,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 303,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 287,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                            className: \"p-2 rounded-lg hover:bg-white/5 transition text-muted\",\n                            whileTap: {\n                                scale: 0.9\n                            },\n                            onClick: ()=>setShowInfo(!showInfo),\n                            children: showInfo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 53\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 323,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                animate: {\n                                    height: 'auto',\n                                    opacity: 1\n                                },\n                                exit: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                className: \"absolute left-0 right-0 top-full overflow-hidden border-t border-[var(--border-color)] bg-[var(--bg-card)] backdrop-blur-xl z-30\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-3 px-4 py-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-familia-400\",\n                                                    children: relationship.care_score || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 341,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Care\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 342,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 340,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-bond-400\",\n                                                    children: relationship.bond_points || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 345,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Bond\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 346,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 344,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-orange-400 flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                            className: \"w-3.5 h-3.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 350,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \" \",\n                                                        relationship.streak_days || 0\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 349,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Streak\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 352,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 348,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-muted\",\n                                                    children: relationship.messages_exchanged || messages.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 355,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Msgs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 356,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 354,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 339,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-messages-area\",\n                    children: [\n                        relationship.matched_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[10px] text-muted\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 text-heart-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 369,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Bond started \",\n                                    fmtDate(relationship.matched_at),\n                                    \" \\xb7 \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[my_role],\n                                    \" \",\n                                    my_role,\n                                    \" & \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role],\n                                    \" \",\n                                    partner_role\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 368,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 367,\n                            columnNumber: 13\n                        }, this),\n                        messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12 px-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-familia-500/10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-8 h-8 text-familia-400 opacity-60\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 378,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold mb-1\",\n                                    children: \"Start chatting!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 380,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-muted text-xs\",\n                                    children: \"Say hello to your new family member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 381,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 376,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((msg, i)=>{\n                            var _translations_msg_id, _translations_msg_id1, _translations_msg_id2, _translations_msg_id3, _translations_msg_id4;\n                            const isMe = msg.sender_id === (user === null || user === void 0 ? void 0 : user.id);\n                            const showTrans = showTranslation[msg.id];\n                            const hasTranslation = msg.translated_text && msg.translated_text !== msg.original_text;\n                            const consecutive = isConsecutive(i);\n                            const prevMsg = i > 0 ? messages[i - 1] : null;\n                            const showDate = !prevMsg || fmtDate(msg.created_at) !== fmtDate(prevMsg.created_at);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center py-2 mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-3 py-0.5 rounded-full bg-[var(--bg-card)] text-[10px] text-muted border border-[var(--border-color)]\",\n                                            children: fmtDate(msg.created_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 397,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(isMe ? 'justify-end' : 'justify-start', \" \").concat(consecutive ? 'mt-[3px]' : 'mt-3'),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[80%]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative px-3 py-[7px] \".concat(isMe ? 'message-sent rounded-2xl rounded-br-[5px]' : 'message-received rounded-2xl rounded-bl-[5px]'),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-[13.5px] leading-[1.4] pr-14\",\n                                                            children: msg.original_text\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 410,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"absolute bottom-[5px] right-2.5 flex items-center gap-0.5 text-[10px] leading-none \".concat(isMe ? 'text-white/35' : 'text-[var(--text-muted)]'),\n                                                            style: {\n                                                                opacity: 0.6\n                                                            },\n                                                            children: [\n                                                                fmtTime(msg.created_at),\n                                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3.5 h-3.5 -mr-0.5 \".concat(msg.is_read ? 'text-blue-400' : '')\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 417,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 412,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>toggleTranslation(msg.id),\n                                                                            className: \"flex items-center gap-1 text-[10px] text-familia-400/60 hover:text-familia-400 transition\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                                    lineNumber: 428,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                showTranslation[msg.id] ? 'Hide' : \"Translate  \".concat(preferredLangName)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 424,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        ((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.loading) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-muted\",\n                                                                            children: \"Translating\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 432,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.error) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-rose-400\",\n                                                                            children: (_translations_msg_id2 = translations[msg.id]) === null || _translations_msg_id2 === void 0 ? void 0 : _translations_msg_id2.error\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 435,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 423,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                                    children: autoTranslate && ((_translations_msg_id3 = translations[msg.id]) === null || _translations_msg_id3 === void 0 ? void 0 : _translations_msg_id3.text) || showTranslation[msg.id] && ((_translations_msg_id4 = translations[msg.id]) === null || _translations_msg_id4 === void 0 ? void 0 : _translations_msg_id4.text) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                                        initial: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        animate: {\n                                                                            height: 'auto',\n                                                                            opacity: 1\n                                                                        },\n                                                                        exit: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        className: \"mt-1 pt-1 border-t border-white/10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-muted italic\",\n                                                                            children: translations[msg.id].text\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 447,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 441,\n                                                                        columnNumber: 29\n                                                                    }, this) : null\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 439,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 422,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setShowCulturalNote(showCulturalNote === msg.id ? null : msg.id),\n                                                            className: \"flex items-center gap-1 mt-1 text-[10px] text-amber-400/60 hover:text-amber-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 458,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" Culture tip\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 454,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 405,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                    children: showCulturalNote === msg.id && msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                        initial: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        animate: {\n                                                            opacity: 1,\n                                                            scale: 1\n                                                        },\n                                                        exit: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        className: \"mt-1 mx-0.5 p-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-[11px] leading-relaxed\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1 font-semibold text-amber-300 mb-0.5 text-[10px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 472,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" Cultural Note\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 471,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-amber-200/70\",\n                                                                children: msg.cultural_note\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 474,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                        lineNumber: 465,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 463,\n                                                    columnNumber: 21\n                                                }, this),\n                                                msg.has_idiom && msg.idiom_explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 mx-0.5 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[11px] text-purple-300\",\n                                                    children: msg.idiom_explanation\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 480,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 404,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 403,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 5\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0\n                                },\n                                className: \"flex items-end gap-1.5 mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"typing-indicator !py-2 !px-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 499,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 499,\n                                            columnNumber: 27\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 499,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 498,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 492,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 490,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messagesEndRef,\n                            className: \"h-1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 505,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 365,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"chat-footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-actions-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/contests?relationship=\".concat(relationshipId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-amber-500/10 text-amber-400 hover:bg-amber-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 513,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Challenge\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 512,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 511,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/games\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-purple-500/10 text-purple-400 hover:bg-purple-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 518,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Game\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 516,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill bg-heart-500/10 text-heart-400 hover:bg-heart-500/20\",\n                                    onClick: ()=>(0,react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('Coming soon!', {\n                                            icon: \"\\uD83C\\uDF81\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 525,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Gift\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill \".concat(autoTranslate ? 'bg-familia-500/15 text-familia-400' : 'bg-white/5 text-muted'),\n                                    onClick: ()=>setAutoTranslate(!autoTranslate),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 531,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" \",\n                                        autoTranslate ? 'Auto \\u2713' : 'Auto \\u2717'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 527,\n                                    columnNumber: 13\n                                }, this),\n                                translationApiStatus === 'bad' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-rose-400 text-[11px] ml-2\",\n                                    children: \"Translate key invalid\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 534,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 510,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-input-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    className: \"p-1.5 text-muted hover:text-[var(--text-primary)] transition\",\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 540,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 539,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>e.key === 'Enter' && !e.shiftKey && sendMessage(),\n                                            placeholder: \"Type a message...\",\n                                            className: \"chat-text-input\",\n                                            disabled: isSending\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 544,\n                                            columnNumber: 15\n                                        }, this),\n                                        autoTranslate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-muted/40 flex items-center gap-0.5 pointer-events-none\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 555,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 554,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 543,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    onClick: sendMessage,\n                                    disabled: !input.trim() || isSending,\n                                    className: \"p-2.5 rounded-full transition-all \".concat(input.trim() && !isSending ? 'bg-gradient-to-br from-familia-500 to-heart-500 text-white shadow-lg shadow-familia-500/30' : 'bg-white/5 text-muted'),\n                                    whileTap: {\n                                        scale: 0.85\n                                    },\n                                    children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-5 h-5 animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 570,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 570,\n                                        columnNumber: 75\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 560,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 538,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 509,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 283,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n        lineNumber: 282,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"0Az1FiFYSx9bemcerOQBOhH8McI=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9bcmVsYXRpb25zaGlwSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV3RDtBQUMzQjtBQUN1QjtBQUNSO0FBSXRCO0FBQ1U7QUFDWTtBQUN1RDtBQUMvRDtBQVVyQixTQUFTMkI7UUFpSitDLGlCQUUzQ0M7O0lBbEoxQixNQUFNQyxTQUFTdkIsMERBQVNBO0lBQ3hCLE1BQU13QixpQkFBaUJELE9BQU9DLGNBQWM7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR1IseURBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1MsVUFBVUMsWUFBWSxHQUFHOUIsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUMrQixPQUFPQyxTQUFTLEdBQUdoQywrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNpQyxVQUFVQyxZQUFZLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNtQyxXQUFXQyxhQUFhLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNxQyxXQUFXQyxhQUFhLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN1QyxVQUFVQyxZQUFZLEdBQUd4QywrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDeUMsaUJBQWlCQyxtQkFBbUIsR0FBRzFDLCtDQUFRQSxDQUEwQixDQUFDO0lBQ2pGLE1BQU0sQ0FBQzJDLGtCQUFrQkMsb0JBQW9CLEdBQUc1QywrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxDQUFDNkMsVUFBVUMsWUFBWSxHQUFHOUMsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDK0MsZUFBZUMsaUJBQWlCLEdBQUdoRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNpRCxjQUFjQyxnQkFBZ0IsR0FBR2xELCtDQUFRQSxDQUF1RSxDQUFDO0lBQ3hILE1BQU0sQ0FBQ21ELHNCQUFzQkMsd0JBQXdCLEdB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b0NBQUNILFdBQVU7b0NBQStEVyxVQUFVO3dDQUFFQyxPQUFPO29DQUFJOzhDQUM3Ryw0RUFBQ25LLHFMQUFLQTt3Q0FBQ3VKLFdBQVU7Ozs7Ozs7Ozs7OzhDQUduQiw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDaEk7NENBQ0NzSyxLQUFLNUk7NENBQ0wrSSxPQUFPeks7NENBQ1AwSyxVQUFVLENBQUNDLElBQU0xSyxTQUFTMEssRUFBRW5FLE1BQU0sQ0FBQ2lFLEtBQUs7NENBQ3hDRyxXQUFXLENBQUNELElBQU1BLEVBQUVFLEdBQUcsS0FBSyxXQUFXLENBQUNGLEVBQUVHLFFBQVEsSUFBSXBIOzRDQUN0RHFILGFBQVk7NENBQ1ovQyxXQUFVOzRDQUNWZ0QsVUFBVTVLOzs7Ozs7d0NBRVhZLCtCQUNDLDhEQUFDK0c7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUNuSixxTEFBU0E7Z0RBQUNtSixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FLM0IsOERBQUNsSyxrREFBTUEsQ0FBQ3FLLE1BQU07b0NBQ1plLFNBQVN4RjtvQ0FDVHNILFVBQVUsQ0FBQ2hMLE1BQU0yRCxJQUFJLE1BQU12RDtvQ0FDM0I0SCxXQUFXLHFDQUlWLE9BSENoSSxNQUFNMkQsSUFBSSxNQUFNLENBQUN2RCxZQUNiLCtGQUNBO29DQUVOdUksVUFBVTt3Q0FBRUMsT0FBTztvQ0FBSzs4Q0FFdkJ4SSwwQkFBWSw4REFBQ25CLG9MQUFPQTt3Q0FBQytJLFdBQVU7Ozs7OzZEQUE0Qiw4REFBQzFKLHFMQUFJQTt3Q0FBQzBKLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPMUY7R0F6aUJ3QnZJOztRQUNQckIsc0RBQVNBO1FBRVBpQixxREFBT0E7OztLQUhGSSIsInNvdXJjZXMiOlsiL1VzZXJzL2xpa2hpdGguL2NmY19GYW1pbHlhXzEvZnJvbnRlbmQvc3JjL2FwcC9jaGF0L1tyZWxhdGlvbnNoaXBJZF0vcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQge1xuICBBcnJvd0xlZnQsIFNlbmQsIEdsb2JlLCBIZWFydCwgU21pbGUsIEdhbWVwYWQyLCBUcm9waHksIEluZm8sXG4gIExhbmd1YWdlcywgU3BhcmtsZXMsIEZsYW1lLCBHaWZ0LCBMb2FkZXIyLCBYLCBDaGVja0NoZWNrXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvbGliL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFJPTEVfRU1PSklTLCBMRVZFTF9OQU1FUywgTEVWRUxfRkVBVFVSRVMsIE1lc3NhZ2UsIFJlbGF0aW9uc2hpcCwgUHJvZmlsZSB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmludGVyZmFjZSBDaGF0RGF0YSB7XG4gIHJlbGF0aW9uc2hpcDogUmVsYXRpb25zaGlwO1xuICBwYXJ0bmVyOiBQcm9maWxlO1xuICBteV9yb2xlOiBzdHJpbmc7XG4gIHBhcnRuZXJfcm9sZTogc3RyaW5nO1xuICBmZWF0dXJlc191bmxvY2tlZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3QgcmVsYXRpb25zaGlwSWQgPSBwYXJhbXMucmVsYXRpb25zaGlwSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjaGF0RGF0YSwgc2V0Q2hhdERhdGFdID0gdXNlU3RhdGU8Q2hhdERhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dUcmFuc2xhdGlvbiwgc2V0U2hvd1RyYW5zbGF0aW9uXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtzaG93Q3VsdHVyYWxOb3RlLCBzZXRTaG93Q3VsdHVyYWxOb3RlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0luZm8sIHNldFNob3dJbmZvXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dG9UcmFuc2xhdGUsIHNldEF1dG9UcmFuc2xhdGVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmFuc2xhdGlvbnMsIHNldFRyYW5zbGF0aW9uc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB7IHRleHQ/OiBzdHJpbmc7IGxvYWRpbmc/OiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9Pj4oe30pO1xuICBjb25zdCBbdHJhbnNsYXRpb25BcGlTdGF0dXMsIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzXSA9IHVzZVN0YXRlPCd1bmtub3duJyB8ICdvaycgfCAnYmFkJz4oJ3Vua25vd24nKTtcbiAgY29uc3QgW3RyYW5zbGF0aW9uQXBpRXJyb3IsIHNldFRyYW5zbGF0aW9uQXBpRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzdXBwb3J0ZWRMYW5ndWFnZXMsIHNldFN1cHBvcnRlZExhbmd1YWdlc10gPSB1c2VTdGF0ZTxBcnJheTx7IGNvZGU6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBmbGFnPzogc3RyaW5nIH0+PihbXSk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkQ2hhdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgY29uc3QgW3JlbERhdGEsIG1zZ0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGFwaS5nZXRSZWxhdGlvbnNoaXAocmVsYXRpb25zaGlwSWQpLFxuICAgICAgICAgIGFwaS5nZXRNZXNzYWdlcyhyZWxhdGlvbnNoaXBJZCwgNTApXG4gICAgICAgIF0pO1xuICAgICAgICBzZXRDaGF0RGF0YShyZWxEYXRhKTtcbiAgICAgICAgc2V0TWVzc2FnZXMobXNnRGF0YS5tZXNzYWdlcyB8fCBbXSk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBjaGF0OicsIGVycik7XG4gICAgICAgIHRvYXN0LmVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBjaGF0Jyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlbGF0aW9uc2hpcElkICYmIHVzZXIpIGxvYWRDaGF0KCk7XG4gIH0sIFtyZWxhdGlvbnNoaXBJZCwgdXNlcl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZWxhdGlvbnNoaXBJZCB8fCAhdXNlciB8fCBpc0xvYWRpbmcpIHJldHVybjtcbiAgICBjb25zdCBwb2xsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbXNnRGF0YSA9IGF3YWl0IGFwaS5nZXRNZXNzYWdlcyhyZWxhdGlvbnNoaXBJZCwgNTApO1xuICAgICAgICBjb25zdCBmcmVzaCA9IG1zZ0RhdGEubWVzc2FnZXMgfHwgW107XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICAgIGlmIChmcmVzaC5sZW5ndGggIT09IHByZXYubGVuZ3RoIHx8XG4gICAgICAgICAgICAgIChmcmVzaC5sZW5ndGggPiAwICYmIHByZXYubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgZnJlc2hbZnJlc2gubGVuZ3RoIC0gMV0/LmlkICE9PSBwcmV2W3ByZXYubGVuZ3RoIC0gMV0/LmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyZXNoO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHsgLyogc2lsZW50ICovIH1cbiAgICB9O1xuICAgIGNvbnN0IGlkID0gc2V0SW50ZXJ2YWwocG9sbCwgMzAwMCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xuICB9LCBbcmVsYXRpb25zaGlwSWQsIHVzZXIsIGlzTG9hZGluZ10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7IHNjcm9sbFRvQm90dG9tKCk7IH0sIFttZXNzYWdlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4geyBpZiAoIWlzTG9hZGluZykgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTsgfSwgW2lzTG9hZGluZ10pO1xuXG4gIC8vIFByb2FjdGl2ZWx5IHZhbGlkYXRlIHRyYW5zbGF0aW9uIGJhY2tlbmQgKHdoaWNoIHVzZXMgdGhlIHNlcnZlci1zaWRlIEdvb2dsZSBrZXkpIG9uY2Ugb24gbW91bnQuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5nZXRMYW5ndWFnZXMoKTtcbiAgICAgICAgaWYgKHJlcyAmJiByZXMubGFuZ3VhZ2VzKSB7XG4gICAgICAgICAgc2V0U3VwcG9ydGVkTGFuZ3VhZ2VzKHJlcy5sYW5ndWFnZXMgfHwgW10pO1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdvaycpO1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoJ1RyYW5zbGF0aW9uIHNlcnZpY2UgdW5hdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKGVyci5tZXNzYWdlIHx8ICdUcmFuc2xhdGlvbiBzZXJ2aWNlIGVycm9yJyk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICAvLyBBdXRvLXRyYW5zbGF0ZSBpbmNvbWluZyBwYXJ0bmVyIG1lc3NhZ2VzIHdoZW4gZW5hYmxlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b1RyYW5zbGF0ZSB8fCAhdXNlcikgcmV0dXJuO1xuICAgIGZvciAoY29uc3QgbXNnIG9mIG1lc3NhZ2VzKSB7XG4gICAgICBpZiAobXNnLnNlbmRlcl9pZCA9PT0gdXNlci5pZCkgY29udGludWU7XG4gICAgICBpZiAodHJhbnNsYXRpb25zW21zZy5pZF0/LnRleHQgfHwgdHJhbnNsYXRpb25zW21zZy5pZF0/LmxvYWRpbmcpIGNvbnRpbnVlO1xuICAgICAgdm9pZCB0cmFuc2xhdGVNZXNzYWdlQnlJZChtc2cuaWQpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFttZXNzYWdlcywgYXV0b1RyYW5zbGF0ZSwgdXNlcj8uaWRdKTtcblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlucHV0LnRyaW0oKSB8fCBpc1NlbmRpbmcgfHwgIXVzZXIpIHJldHVybjtcbiAgICBjb25zdCB0ZXh0ID0gaW5wdXQudHJpbSgpO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRJc1NlbmRpbmcodHJ1ZSk7XG5cbiAgICBjb25zdCB0ZW1wOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IGB0ZW1wLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgcmVsYXRpb25zaGlwX2lkOiByZWxhdGlvbnNoaXBJZCxcbiAgICAgIHNlbmRlcl9pZDogdXNlci5pZCxcbiAgICAgIGNvbnRlbnRfdHlwZTogJ3RleHQnLFxuICAgICAgb3JpZ2luYWxfdGV4dDogdGV4dCxcbiAgICAgIG9yaWdpbmFsX2xhbmd1YWdlOiAnZW4nLFxuICAgICAgaGFzX2lkaW9tOiBmYWxzZSxcbiAgICAgIGlzX3JlYWQ6IGZhbHNlLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdGVtcF0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHJlbGF0aW9uc2hpcF9pZDogcmVsYXRpb25zaGlwSWQsXG4gICAgICAgIG9yaWdpbmFsX3RleHQ6IHRleHQsXG4gICAgICAgIGNvbnRlbnRfdHlwZTogJ3RleHQnLFxuICAgICAgfSk7XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG0gPT4gbS5pZCA9PT0gdGVtcC5pZCA/IHJlcy5tZXNzYWdlIDogbSkpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0b2FzdC5lcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQnKTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIobSA9PiBtLmlkICE9PSB0ZW1wLmlkKSk7XG4gICAgICBzZXRJbnB1dCh0ZXh0KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVRyYW5zbGF0aW9uID0gKG1zZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTaG93VHJhbnNsYXRpb24ocCA9PiAoeyAuLi5wLCBbbXNnSWRdOiAhcFttc2dJZF0gfSkpO1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjYWNoZWQgdHJhbnNsYXRpb24sIHRyaWdnZXIgb25lIHdoZW4gdXNlciBvcGVuc1xuICAgIGlmICghdHJhbnNsYXRpb25zW21zZ0lkXSkge1xuICAgICAgdm9pZCB0cmFuc2xhdGVNZXNzYWdlQnlJZChtc2dJZCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFByZWZlcnJlZCB0cmFuc2xhdGlvbiB0YXJnZXQgZGVyaXZlZCBmcm9tIHVzZXIgc2V0dGluZ3MgKGRlZmF1bHQgRW5nbGlzaClcbiAgY29uc3QgcHJlZmVycmVkTGFuZ1NldHRpbmdSYXcgPSAodXNlciBhcyBhbnkpPy5wcmVmZXJyZWRfbGFuZ3VhZ2UgfHwgKHVzZXIgYXMgYW55KT8ubGFuZ3VhZ2VzPy5bMF0gfHwgJ0VuZ2xpc2gnO1xuICBjb25zdCBwcmVmZXJyZWRMYW5nQ29kZSA9IG1hcExhbmd1YWdlVG9Db2RlKHByZWZlcnJlZExhbmdTZXR0aW5nUmF3KSB8fCAnZW4nO1xuICBjb25zdCBwcmVmZXJyZWRMYW5nTmFtZSA9IHN1cHBvcnRlZExhbmd1YWdlcy5maW5kKHMgPT4gcy5jb2RlID09PSBwcmVmZXJyZWRMYW5nQ29kZSk/Lm5hbWUgfHwgcHJlZmVycmVkTGFuZ1NldHRpbmdSYXcgfHwgJ0VuZ2xpc2gnO1xuXG4gIC8vIE1hcCBjb21tb24gbGFuZ3VhZ2UgbmFtZXMgdG8gSVNPIGNvZGVzIChmYWxsYmFja3MpLlxuICBjb25zdCBtYXBMYW5ndWFnZVRvQ29kZSA9IChsYW5nOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICBpZiAoIWxhbmcpIHJldHVybiAnZW4nO1xuICAgIGNvbnN0IGwgPSBsYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgZW5nbGlzaDogJ2VuJywgc3BhbmlzaDogJ2VzJywgZnJlbmNoOiAnZnInLCBnZXJtYW46ICdkZScsIGl0YWxpYW46ICdpdCcsIHBvcnR1Z3Vlc2U6ICdwdCcsIHJ1c3NpYW46ICdydScsIGNoaW5lc2U6ICd6aCcsICdzaW1wbGlmaWVkIGNoaW5lc2UnOiAnemgtQ04nLCBoaW5kaTogJ2hpJywgYXJhYmljOiAnYXInLCBqYXBhbmVzZTogJ2phJywga29yZWFuOiAna28nXG4gICAgfTtcbiAgICBpZiAobWFwW2xdKSByZXR1cm4gbWFwW2xdO1xuICAgIC8vIElmIGFscmVhZHkgbG9va3MgbGlrZSBhIGNvZGUgKDIgb3IgNSBjaGFycyBsaWtlIHpoLUNOKSwgcmV0dXJuIGl0XG4gICAgaWYgKC9eW2Etel17Mn0oLVtBLVpdezJ9KT8kLy50ZXN0KGxhbmcpKSByZXR1cm4gbGFuZztcbiAgICByZXR1cm4gJ2VuJztcbiAgfTtcblxuICBjb25zdCB0cmFuc2xhdGVNZXNzYWdlQnlJZCA9IGFzeW5jIChtc2dJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZXMuZmluZChtID0+IG0uaWQgPT09IG1zZ0lkKTtcbiAgICBpZiAoIW1zZyB8fCAhdXNlcikgcmV0dXJuO1xuICAgIC8vIEF2b2lkIHJlLXRyYW5zbGF0aW9uIGlmIGFscmVhZHkgbG9hZGluZy90cmFuc2xhdGVkXG4gICAgaWYgKHRyYW5zbGF0aW9uc1ttc2dJZF0/LmxvYWRpbmcgfHwgdHJhbnNsYXRpb25zW21zZ0lkXT8udGV4dCkgcmV0dXJuO1xuXG4gICAgLy8gRW5zdXJlIGJhY2tlbmQgdHJhbnNsYXRpb24gc2VydmljZSBpcyBhdmFpbGFibGVcbiAgICBpZiAodHJhbnNsYXRpb25BcGlTdGF0dXMgPT09ICd1bmtub3duJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGFuZ3MgPSBhd2FpdCBhcGkuZ2V0TGFuZ3VhZ2VzKCk7XG4gICAgICAgIGlmIChsYW5ncyAmJiBsYW5ncy5sYW5ndWFnZXMpIHtcbiAgICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnb2snKTtcbiAgICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdiYWQnKTtcbiAgICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKCdUcmFuc2xhdGlvbiBzZXJ2aWNlIHVuYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdiYWQnKTtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlFcnJvcihlcnIubWVzc2FnZSB8fCAnVHJhbnNsYXRpb24gc2VydmljZSBlcnJvcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0cmFuc2xhdGlvbkFwaVN0YXR1cyA9PT0gJ2JhZCcpIHtcbiAgICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgZXJyb3I6IHRyYW5zbGF0aW9uQXBpRXJyb3IgfHwgJ1RyYW5zbGF0aW9uIEFQSSB1bmF2YWlsYWJsZScgfSB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRhcmdldCBsYW5ndWFnZTogcHJlZmVyIGV4cGxpY2l0IHVzZXIucHJlZmVycmVkX2xhbmd1YWdlLCB0aGVuIGZpcnN0IHVzZXIubGFuZ3VhZ2VzIGVudHJ5XG4gICAgY29uc3QgcHJlZmVycmVkTGFuZ1JhdyA9ICh1c2VyIGFzIGFueSk/LnByZWZlcnJlZF9sYW5ndWFnZSB8fCAodXNlciBhcyBhbnkpPy5sYW5ndWFnZXM/LlswXTtcbiAgICBjb25zdCB0YXJnZXQgPSBtYXBMYW5ndWFnZVRvQ29kZShwcmVmZXJyZWRMYW5nUmF3KSB8fCAnZW4nO1xuXG4gICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyBsb2FkaW5nOiB0cnVlIH0gfSkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkudHJhbnNsYXRlKG1zZy5vcmlnaW5hbF90ZXh0LCB1bmRlZmluZWQsIHRhcmdldCk7XG4gICAgICBjb25zdCB0cmFuc2xhdGVkID0gcmVzPy50cmFuc2xhdGVkX3RleHQgfHwgcmVzPy50cmFuc2xhdGVkVGV4dCB8fCByZXM/LmRhdGE/LnRyYW5zbGF0aW9ucz8uWzBdPy50cmFuc2xhdGVkVGV4dDtcbiAgICAgIGNvbnN0IGN1bHR1cmFsX25vdGUgPSByZXM/LmN1bHR1cmFsX25vdGUgfHwgcmVzPy5jdWx0dXJhbE5vdGUgfHwgbnVsbDtcbiAgICAgIGNvbnN0IGhhc19pZGlvbSA9IHJlcz8uaGFzX2lkaW9tIHx8IGZhbHNlO1xuICAgICAgY29uc3QgaWRpb21fZXhwbGFuYXRpb24gPSByZXM/LmlkaW9tX2V4cGxhbmF0aW9uIHx8IHJlcz8uaWRpb21FeHBsYW5hdGlvbiB8fCBudWxsO1xuXG4gICAgICBpZiAoIXRyYW5zbGF0ZWQpIHRocm93IG5ldyBFcnJvcignTm8gdHJhbnNsYXRpb24gcmV0dXJuZWQnKTtcblxuICAgICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyB0ZXh0OiB0cmFuc2xhdGVkIH0gfSkpO1xuICAgICAgLy8gTWVyZ2UgdHJhbnNsYXRlZCBmaWVsZHMgYmFjayBpbnRvIG1lc3NhZ2Ugc3RhdGUgc28gZXhpc3RpbmcgVUkgKGN1bHR1cmFsIG5vdGUsIGlkaW9tKSB3b3Jrc1xuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtID0+IG0uaWQgPT09IG1zZ0lkID8geyAuLi5tLCB0cmFuc2xhdGVkX3RleHQ6IHRyYW5zbGF0ZWQsIGN1bHR1cmFsX25vdGUsIGhhc19pZGlvbSwgaWRpb21fZXhwbGFuYXRpb24gfSA6IG0pKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignVHJhbnNsYXRpb24gZmFpbGVkOicsIGVycik7XG4gICAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IGVycm9yOiBlcnIubWVzc2FnZSB8fCAnVHJhbnNsYXRpb24gZmFpbGVkJyB9IH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm10VGltZSA9IChzOiBzdHJpbmcpID0+IG5ldyBEYXRlKHMpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICBjb25zdCBmbXREYXRlID0gKHM6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShzKSwgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGQuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKTtcbiAgICBpZiAoZGlmZiA9PT0gMCkgcmV0dXJuICdUb2RheSc7XG4gICAgaWYgKGRpZmYgPT09IDEpIHJldHVybiAnWWVzdGVyZGF5JztcbiAgICByZXR1cm4gZC50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgfTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1wYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtd3JhcHBlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IG14LWF1dG8gYW5pbWF0ZS1zcGluIHRleHQtZmFtaWxpYS00MDAgbWItM1wiIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQtc21cIj5Mb2FkaW5nIGNvbnZlcnNhdGlvbi4uLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFjaGF0RGF0YSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFnZS1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXdyYXBwZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGdsYXNzLWNhcmQgbWF4LXctc20gcC02XCI+XG4gICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy0xMCBoLTEwIG14LWF1dG8gbWItMyB0ZXh0LW11dGVkIG9wYWNpdHktMzBcIiAvPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIG1iLTFcIj5Ob3QgRm91bmQ8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCB0ZXh0LXNtIG1iLTRcIj5UaGlzIGNvbnZlcnNhdGlvbiBkb2VzbiZhcG9zO3QgZXhpc3QuPC9wPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9jaGF0XCI+PGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSB0ZXh0LXNtXCI+QmFjazwvYnV0dG9uPjwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgeyByZWxhdGlvbnNoaXAsIHBhcnRuZXIsIG15X3JvbGUsIHBhcnRuZXJfcm9sZSB9ID0gY2hhdERhdGE7XG5cbiAgY29uc3QgaXNDb25zZWN1dGl2ZSA9IChpOiBudW1iZXIpID0+IHtcbiAgICBpZiAoaSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBtZXNzYWdlc1tpXS5zZW5kZXJfaWQgPT09IG1lc3NhZ2VzW2kgLSAxXS5zZW5kZXJfaWQ7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFnZS1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC13cmFwcGVyXCI+XG5cbiAgICAgICAgey8qIOKUgOKUgCBIZWFkZXIg4pSA4pSAICovfVxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMi41IG1pbi13LTAgZmxleC0xXCI+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2NoYXRcIj5cbiAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b24gY2xhc3NOYW1lPVwicC0xLjUgLW1sLTEgcm91bmRlZC1sZyBob3ZlcjpiZy13aGl0ZS81IHRyYW5zaXRpb25cIiB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19PlxuICAgICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLWZhbWlsaWEtNTAwIHRvLWJvbmQtNTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbGcgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgICAge1JPTEVfRU1PSklTW3BhcnRuZXJfcm9sZV0gfHwgJ1xcdXsxRjkxRH0nfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSAtYm90dG9tLTAuNSAtcmlnaHQtMC41IHctMyBoLTMgcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1bdmFyKC0tYmctcHJpbWFyeSldICR7XG4gICAgICAgICAgICAgICAgcGFydG5lcj8uc3RhdHVzID09PSAnYWN0aXZlJyA/ICdiZy1ncmVlbi01MDAnIDogJ2JnLWdyYXktNTAwJ1xuICAgICAgICAgICAgICB9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTAgZmxleC0xXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1bMTVweF0gdHJ1bmNhdGVcIj57cGFydG5lcj8uZGlzcGxheV9uYW1lIHx8ICdQYXJ0bmVyJ308L3NwYW4+XG4gICAgICAgICAgICAgICAge3BhcnRuZXI/LmNvdW50cnkgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1tdXRlZFwiPntwYXJ0bmVyLmNvdW50cnl9PC9zcGFuPn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bMTFweF0gdGV4dC1tdXRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHctMS41IGgtMS41IHJvdW5kZWQtZnVsbCAke3BhcnRuZXI/LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmctZ3JlZW4tNDAwJyA6ICdiZy1ncmF5LTQwMCd9YH0gLz5cbiAgICAgICAgICAgICAgICAgIHtwYXJ0bmVyPy5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ09ubGluZScgOiAnT2ZmbGluZSd9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9wYWNpdHktNDBcIj4mbWlkZG90Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5Zb3VyIHtwYXJ0bmVyX3JvbGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9wYWNpdHktNDBcIj4mbWlkZG90Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZS1sZXZlbCAhdGV4dC1bOXB4XSAhcHgtMS41ICFweS0wXCI+XG4gICAgICAgICAgICAgICAgICBMdi57cmVsYXRpb25zaGlwLmxldmVsfSB7TEVWRUxfTkFNRVNbcmVsYXRpb25zaGlwLmxldmVsXX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtbGcgaG92ZXI6Ymctd2hpdGUvNSB0cmFuc2l0aW9uIHRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0luZm8oIXNob3dJbmZvKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c2hvd0luZm8gPyA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz4gOiA8SW5mbyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtzaG93SW5mbyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7IGhlaWdodDogJ2F1dG8nLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTAgcmlnaHQtMCB0b3AtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXQgYm9yZGVyLVt2YXIoLS1ib3JkZXItY29sb3IpXSBiZy1bdmFyKC0tYmctY2FyZCldIGJhY2tkcm9wLWJsdXIteGwgei0zMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTQgZ2FwLTMgcHgtNCBweS0zIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1mYW1pbGlhLTQwMFwiPntyZWxhdGlvbnNoaXAuY2FyZV9zY29yZSB8fCAwfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPkNhcmU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtYm9uZC00MDBcIj57cmVsYXRpb25zaGlwLmJvbmRfcG9pbnRzIHx8IDB9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+Qm9uZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LWJvbGQgdGV4dC1vcmFuZ2UtNDAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZsYW1lIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz4ge3JlbGF0aW9uc2hpcC5zdHJlYWtfZGF5cyB8fCAwfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5TdHJlYWs8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtbXV0ZWRcIj57cmVsYXRpb25zaGlwLm1lc3NhZ2VzX2V4Y2hhbmdlZCB8fCBtZXNzYWdlcy5sZW5ndGh9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+TXNnczwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIHsvKiDilIDilIAgTWVzc2FnZXMg4pSA4pSAICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbWVzc2FnZXMtYXJlYVwiPlxuICAgICAgICAgIHtyZWxhdGlvbnNoaXAubWF0Y2hlZF9hdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgcHgtMyBweS0xIHJvdW5kZWQtZnVsbCBiZy1bdmFyKC0tYmctY2FyZCldIGJvcmRlciBib3JkZXItW3ZhcigtLWJvcmRlci1jb2xvcildIHRleHQtWzEwcHhdIHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWhlYXJ0LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgQm9uZCBzdGFydGVkIHtmbXREYXRlKHJlbGF0aW9uc2hpcC5tYXRjaGVkX2F0KX0gJm1pZGRvdDsge1JPTEVfRU1PSklTW215X3JvbGVdfSB7bXlfcm9sZX0gJiB7Uk9MRV9FTU9KSVNbcGFydG5lcl9yb2xlXX0ge3BhcnRuZXJfcm9sZX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMiBweC02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCByb3VuZGVkLWZ1bGwgYmctZmFtaWxpYS01MDAvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWZhbWlsaWEtNDAwIG9wYWNpdHktNjBcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIG1iLTFcIj5TdGFydCBjaGF0dGluZyE8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQteHNcIj5TYXkgaGVsbG8gdG8geW91ciBuZXcgZmFtaWx5IG1lbWJlcjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2csIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzTWUgPSBtc2cuc2VuZGVyX2lkID09PSB1c2VyPy5pZDtcbiAgICAgICAgICAgIGNvbnN0IHNob3dUcmFucyA9IHNob3dUcmFuc2xhdGlvblttc2cuaWRdO1xuICAgICAgICAgICAgY29uc3QgaGFzVHJhbnNsYXRpb24gPSBtc2cudHJhbnNsYXRlZF90ZXh0ICYmIG1zZy50cmFuc2xhdGVkX3RleHQgIT09IG1zZy5vcmlnaW5hbF90ZXh0O1xuICAgICAgICAgICAgY29uc3QgY29uc2VjdXRpdmUgPSBpc0NvbnNlY3V0aXZlKGkpO1xuICAgICAgICAgICAgY29uc3QgcHJldk1zZyA9IGkgPiAwID8gbWVzc2FnZXNbaSAtIDFdIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNob3dEYXRlID0gIXByZXZNc2cgfHwgZm10RGF0ZShtc2cuY3JlYXRlZF9hdCkgIT09IGZtdERhdGUocHJldk1zZy5jcmVhdGVkX2F0KTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e21zZy5pZH0+XG4gICAgICAgICAgICAgICAge3Nob3dEYXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBweS0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMyBweS0wLjUgcm91bmRlZC1mdWxsIGJnLVt2YXIoLS1iZy1jYXJkKV0gdGV4dC1bMTBweF0gdGV4dC1tdXRlZCBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXItY29sb3IpXVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmbXREYXRlKG1zZy5jcmVhdGVkX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke2lzTWUgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSAke2NvbnNlY3V0aXZlID8gJ210LVszcHhdJyA6ICdtdC0zJ31gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctWzgwJV1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSBweC0zIHB5LVs3cHhdICR7XG4gICAgICAgICAgICAgICAgICAgICAgaXNNZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnbWVzc2FnZS1zZW50IHJvdW5kZWQtMnhsIHJvdW5kZWQtYnItWzVweF0nXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdtZXNzYWdlLXJlY2VpdmVkIHJvdW5kZWQtMnhsIHJvdW5kZWQtYmwtWzVweF0nXG4gICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMy41cHhdIGxlYWRpbmctWzEuNF0gcHItMTRcIj57bXNnLm9yaWdpbmFsX3RleHR9PC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYWJzb2x1dGUgYm90dG9tLVs1cHhdIHJpZ2h0LTIuNSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMC41IHRleHQtWzEwcHhdIGxlYWRpbmctbm9uZSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNNZSA/ICd0ZXh0LXdoaXRlLzM1JyA6ICd0ZXh0LVt2YXIoLS10ZXh0LW11dGVkKV0nXG4gICAgICAgICAgICAgICAgICAgICAgfWB9IHN0eWxlPXt7IG9wYWNpdHk6IDAuNiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmbXRUaW1lKG1zZy5jcmVhdGVkX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc01lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2hlY2sgY2xhc3NOYW1lPXtgdy0zLjUgaC0zLjUgLW1yLTAuNSAke21zZy5pc19yZWFkID8gJ3RleHQtYmx1ZS00MDAnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFRyYW5zbGF0aW9uIFVJOiBhbHdheXMgb2ZmZXIgdHJhbnNsYXRlIGZvciBwYXJ0bmVyIG1lc3NhZ2VzLiBVc2UgY2FjaGVkIHRyYW5zbGF0aW9ucywgc2hvdyBsb2FkaW5nL2Vycm9yLCBzdXBwb3J0IGF1dG8tdHJhbnNsYXRlLiAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRyYW5zbGF0aW9uKG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bMTBweF0gdGV4dC1mYW1pbGlhLTQwMC82MCBob3Zlcjp0ZXh0LWZhbWlsaWEtNDAwIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1RyYW5zbGF0aW9uW21zZy5pZF0gPyAnSGlkZScgOiBgVHJhbnNsYXRlIOKGkiAke3ByZWZlcnJlZExhbmdOYW1lfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRpb25zW21zZy5pZF0/LmxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtbXV0ZWRcIj5UcmFuc2xhdGluZ+KApjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RyYW5zbGF0aW9uc1ttc2cuaWRdPy5lcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1yb3NlLTQwMFwiPnt0cmFuc2xhdGlvbnNbbXNnLmlkXT8uZXJyb3J9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsoYXV0b1RyYW5zbGF0ZSAmJiB0cmFuc2xhdGlvbnNbbXNnLmlkXT8udGV4dCkgfHwgKHNob3dUcmFuc2xhdGlvblttc2cuaWRdICYmIHRyYW5zbGF0aW9uc1ttc2cuaWRdPy50ZXh0KSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiAnYXV0bycsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHB0LTEgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQgaXRhbGljXCI+e3RyYW5zbGF0aW9uc1ttc2cuaWRdLnRleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDdWx0dXJhbE5vdGUoc2hvd0N1bHR1cmFsTm90ZSA9PT0gbXNnLmlkID8gbnVsbCA6IG1zZy5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIG10LTEgdGV4dC1bMTBweF0gdGV4dC1hbWJlci00MDAvNjAgaG92ZXI6dGV4dC1hbWJlci00MDAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyZSB0aXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dDdWx0dXJhbE5vdGUgPT09IG1zZy5pZCAmJiBtc2cuY3VsdHVyYWxfbm90ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC14bCBiZy1hbWJlci01MDAvMTAgYm9yZGVyIGJvcmRlci1hbWJlci01MDAvMjAgdGV4dC1bMTFweF0gbGVhZGluZy1yZWxheGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBmb250LXNlbWlib2xkIHRleHQtYW1iZXItMzAwIG1iLTAuNSB0ZXh0LVsxMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz4gQ3VsdHVyYWwgTm90ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1hbWJlci0yMDAvNzBcIj57bXNnLmN1bHR1cmFsX25vdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICAgICAgICAgICAgICAgIHttc2cuaGFzX2lkaW9tICYmIG1zZy5pZGlvbV9leHBsYW5hdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIG14LTAuNSBwLTIgcm91bmRlZC1sZyBiZy1wdXJwbGUtNTAwLzEwIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8yMCB0ZXh0LVsxMXB4XSB0ZXh0LXB1cnBsZS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuaWRpb21fZXhwbGFuYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1IH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgZ2FwLTEuNSBtdC0yXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwaW5nLWluZGljYXRvciAhcHktMiAhcHgtM1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gLz48c3BhbiAvPjxzcGFuIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IGNsYXNzTmFtZT1cImgtMVwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDilIDilIAgRm9vdGVyIOKUgOKUgCAqL31cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJjaGF0LWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb25zLWJhclwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj17YC9jb250ZXN0cz9yZWxhdGlvbnNoaXA9JHtyZWxhdGlvbnNoaXBJZH1gfT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTQwMCBob3ZlcjpiZy1hbWJlci01MDAvMjBcIj5cbiAgICAgICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDaGFsbGVuZ2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8TGluayBocmVmPVwiL2dhbWVzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2hhdC1hY3Rpb24tcGlsbCBiZy1wdXJwbGUtNTAwLzEwIHRleHQtcHVycGxlLTQwMCBob3ZlcjpiZy1wdXJwbGUtNTAwLzIwXCI+XG4gICAgICAgICAgICAgICAgPEdhbWVwYWQyIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHYW1lXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLWhlYXJ0LTUwMC8xMCB0ZXh0LWhlYXJ0LTQwMCBob3ZlcjpiZy1oZWFydC01MDAvMjBcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2FzdCgnQ29taW5nIHNvb24hJywgeyBpY29uOiAnXFx1ezFGMzgxfScgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBHaWZ0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgY2hhdC1hY3Rpb24tcGlsbCAke2F1dG9UcmFuc2xhdGUgPyAnYmctZmFtaWxpYS01MDAvMTUgdGV4dC1mYW1pbGlhLTQwMCcgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ31gfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBdXRvVHJhbnNsYXRlKCFhdXRvVHJhbnNsYXRlKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiB7YXV0b1RyYW5zbGF0ZSA/ICdBdXRvIFxcdTI3MTMnIDogJ0F1dG8gXFx1MjcxNyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIHt0cmFuc2xhdGlvbkFwaVN0YXR1cyA9PT0gJ2JhZCcgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJvc2UtNDAwIHRleHQtWzExcHhdIG1sLTJcIj5UcmFuc2xhdGUga2V5IGludmFsaWQ8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWlucHV0LWJhclwiPlxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b24gY2xhc3NOYW1lPVwicC0xLjUgdGV4dC1tdXRlZCBob3Zlcjp0ZXh0LVt2YXIoLS10ZXh0LXByaW1hcnkpXSB0cmFuc2l0aW9uXCIgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fT5cbiAgICAgICAgICAgICAgPFNtaWxlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiBlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSAmJiBzZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBhIG1lc3NhZ2UuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtdGV4dC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge2F1dG9UcmFuc2xhdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMi41IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkLzQwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0wLjUgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgPExhbmd1YWdlcyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtzZW5kTWVzc2FnZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dC50cmltKCkgfHwgaXNTZW5kaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIuNSByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICBpbnB1dC50cmltKCkgJiYgIWlzU2VuZGluZ1xuICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1mYW1pbGlhLTUwMCB0by1oZWFydC01MDAgdGV4dC13aGl0ZSBzaGFkb3ctbGcgc2hhZG93LWZhbWlsaWEtNTAwLzMwJ1xuICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUvNSB0ZXh0LW11dGVkJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuODUgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzU2VuZGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNSBoLTUgYW5pbWF0ZS1zcGluXCIgLz4gOiA8U2VuZCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsibW90aW9uIiwiQW5pbWF0ZVByZXNlbmNlIiwiTGluayIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUGFyYW1zIiwiQXJyb3dMZWZ0IiwiU2VuZCIsIkdsb2JlIiwiSGVhcnQiLCJTbWlsZSIsIkdhbWVwYWQyIiwiVHJvcGh5IiwiSW5mbyIsIkxhbmd1YWdlcyIsIlNwYXJrbGVzIiwiRmxhbWUiLCJHaWZ0IiwiTG9hZGVyMiIsIlgiLCJDaGVja0NoZWNrIiwiYXBpIiwidXNlQXV0aCIsIlJPTEVfRU1PSklTIiwiTEVWRUxfTkFNRVMiLCJ0b2FzdCIsIkNoYXRQYWdlIiwic3VwcG9ydGVkTGFuZ3VhZ2VzIiwicGFyYW1zIiwicmVsYXRpb25zaGlwSWQiLCJ1c2VyIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlucHV0Iiwic2V0SW5wdXQiLCJpc1R5cGluZyIsInNldElzVHlwaW5nIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiY2hhdERhdGEiLCJzZXRDaGF0RGF0YSIsInNob3dUcmFuc2xhdGlvbiIsInNldFNob3dUcmFuc2xhdGlvbiIsInNob3dDdWx0dXJhbE5vdGUiLCJzZXRTaG93Q3VsdHVyYWxOb3RlIiwic2hvd0luZm8iLCJzZXRTaG93SW5mbyIsImF1dG9UcmFuc2xhdGUiLCJzZXRBdXRvVHJhbnNsYXRlIiwidHJhbnNsYXRpb25zIiwic2V0VHJhbnNsYXRpb25zIiwidHJhbnNsYXRpb25BcGlTdGF0dXMiLCJzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cyIsInRyYW5zbGF0aW9uQXBpRXJyb3IiLCJzZXRUcmFuc2xhdGlvbkFwaUVycm9yIiwic2V0U3VwcG9ydGVkTGFuZ3VhZ2VzIiwibWVzc2FnZXNFbmRSZWYiLCJpbnB1dFJlZiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJsb2FkQ2hhdCIsInJlbERhdGEiLCJtc2dEYXRhIiwiUHJvbWlzZSIsImFsbCIsImdldFJlbGF0aW9uc2hpcCIsImdldE1lc3NhZ2VzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsInBvbGwiLCJmcmVzaCIsInByZXYiLCJsZW5ndGgiLCJpZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImZvY3VzIiwicmVzIiwiZ2V0TGFuZ3VhZ2VzIiwibGFuZ3VhZ2VzIiwibXNnIiwic2VuZGVyX2lkIiwidGV4dCIsImxvYWRpbmciLCJ0cmFuc2xhdGVNZXNzYWdlQnlJZCIsInNlbmRNZXNzYWdlIiwidHJpbSIsInRlbXAiLCJEYXRlIiwibm93IiwicmVsYXRpb25zaGlwX2lkIiwiY29udGVudF90eXBlIiwib3JpZ2luYWxfdGV4dCIsIm9yaWdpbmFsX2xhbmd1YWdlIiwiaGFzX2lkaW9tIiwiaXNfcmVhZCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsIm1hcCIsIm0iLCJmaWx0ZXIiLCJ0b2dnbGVUcmFuc2xhdGlvbiIsIm1zZ0lkIiwicCIsInByZWZlcnJlZExhbmdTZXR0aW5nUmF3IiwicHJlZmVycmVkX2xhbmd1YWdlIiwicHJlZmVycmVkTGFuZ0NvZGUiLCJtYXBMYW5ndWFnZVRvQ29kZSIsInByZWZlcnJlZExhbmdOYW1lIiwiZmluZCIsInMiLCJjb2RlIiwibmFtZSIsImxhbmciLCJsIiwidG9Mb3dlckNhc2UiLCJlbmdsaXNoIiwic3BhbmlzaCIsImZyZW5jaCIsImdlcm1hbiIsIml0YWxpYW4iLCJwb3J0dWd1ZXNlIiwicnVzc2lhbiIsImNoaW5lc2UiLCJoaW5kaSIsImFyYWJpYyIsImphcGFuZXNlIiwia29yZWFuIiwidGVzdCIsImxhbmdzIiwicHJlZmVycmVkTGFuZ1JhdyIsInRhcmdldCIsInRyYW5zbGF0ZSIsInVuZGVmaW5lZCIsInRyYW5zbGF0ZWQiLCJ0cmFuc2xhdGVkX3RleHQiLCJ0cmFuc2xhdGVkVGV4dCIsImRhdGEiLCJjdWx0dXJhbF9ub3RlIiwiY3VsdHVyYWxOb3RlIiwiaWRpb21fZXhwbGFuYXRpb24iLCJpZGlvbUV4cGxhbmF0aW9uIiwiRXJyb3IiLCJmbXRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImZtdERhdGUiLCJkIiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImhyZWYiLCJidXR0b24iLCJyZWxhdGlvbnNoaXAiLCJwYXJ0bmVyIiwibXlfcm9sZSIsInBhcnRuZXJfcm9sZSIsImlzQ29uc2VjdXRpdmUiLCJpIiwiaGVhZGVyIiwid2hpbGVUYXAiLCJzY2FsZSIsInN0YXR1cyIsInNwYW4iLCJkaXNwbGF5X25hbWUiLCJjb3VudHJ5IiwibGV2ZWwiLCJvbkNsaWNrIiwiaW5pdGlhbCIsImhlaWdodCIsIm9wYWNpdHkiLCJhbmltYXRlIiwiZXhpdCIsImNhcmVfc2NvcmUiLCJib25kX3BvaW50cyIsInN0cmVha19kYXlzIiwibWVzc2FnZXNfZXhjaGFuZ2VkIiwibWF0Y2hlZF9hdCIsImgzIiwiaXNNZSIsInNob3dUcmFucyIsImhhc1RyYW5zbGF0aW9uIiwiY29uc2VjdXRpdmUiLCJwcmV2TXNnIiwic2hvd0RhdGUiLCJzdHlsZSIsInkiLCJyZWYiLCJmb290ZXIiLCJpY29uIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJvbktleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx\n"));

/***/ })

});