"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[relationshipId]/page",{

/***/ "(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx":
/*!************************************************!*\
  !*** ./src/app/chat/[relationshipId]/page.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/info.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/flame.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gamepad-2.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCheck,Flame,Gamepad2,Gift,Globe,Heart,Info,Languages,Loader2,Send,Smile,Sparkles,Trophy,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/AuthContext */ \"(app-pages-browser)/./src/lib/AuthContext.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/types */ \"(app-pages-browser)/./src/types/index.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction ChatPage() {\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const relationshipId = params.relationshipId;\n    const { user } = (0,_lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [chatData, setChatData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showTranslation, setShowTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [showCulturalNote, setShowCulturalNote] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [translations, setTranslations] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [translationApiStatus, setTranslationApiStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('unknown');\n    const [translationApiError, setTranslationApiError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const loadChat = {\n                \"ChatPage.useEffect.loadChat\": async ()=>{\n                    try {\n                        setIsLoading(true);\n                        const [relData, msgData] = await Promise.all([\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getRelationship(relationshipId),\n                            _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50)\n                        ]);\n                        setChatData(relData);\n                        setMessages(msgData.messages || []);\n                    } catch (err) {\n                        console.error('Failed to load chat:', err);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to load chat');\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"ChatPage.useEffect.loadChat\"];\n            if (relationshipId && user) loadChat();\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!relationshipId || !user || isLoading) return;\n            const poll = {\n                \"ChatPage.useEffect.poll\": async ()=>{\n                    try {\n                        const msgData = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getMessages(relationshipId, 50);\n                        const fresh = msgData.messages || [];\n                        setMessages({\n                            \"ChatPage.useEffect.poll\": (prev)=>{\n                                var _fresh_, _prev_;\n                                if (fresh.length !== prev.length || fresh.length > 0 && prev.length > 0 && ((_fresh_ = fresh[fresh.length - 1]) === null || _fresh_ === void 0 ? void 0 : _fresh_.id) !== ((_prev_ = prev[prev.length - 1]) === null || _prev_ === void 0 ? void 0 : _prev_.id)) {\n                                    return fresh;\n                                }\n                                return prev;\n                            }\n                        }[\"ChatPage.useEffect.poll\"]);\n                    } catch (e) {}\n                }\n            }[\"ChatPage.useEffect.poll\"];\n            const id = setInterval(poll, 3000);\n            return ({\n                \"ChatPage.useEffect\": ()=>clearInterval(id)\n            })[\"ChatPage.useEffect\"];\n        }\n    }[\"ChatPage.useEffect\"], [\n        relationshipId,\n        user,\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            var _inputRef_current;\n            if (!isLoading) (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    }[\"ChatPage.useEffect\"], [\n        isLoading\n    ]);\n    // Proactively validate Google Translate API key once on mount.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            if (!key) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError('Missing Google API key');\n                return;\n            }\n            ({\n                \"ChatPage.useEffect\": async ()=>{\n                    try {\n                        const r = await fetch(\"https://translation.googleapis.com/language/translate/v2/languages?key=\".concat(encodeURIComponent(key)));\n                        if (!r.ok) {\n                            const txt = await r.text().catch({\n                                \"ChatPage.useEffect\": ()=>''\n                            }[\"ChatPage.useEffect\"]);\n                            throw new Error(txt || \"status \".concat(r.status));\n                        }\n                        setTranslationApiStatus('ok');\n                        setTranslationApiError(null);\n                    } catch (err) {\n                        setTranslationApiStatus('bad');\n                        setTranslationApiError(err.message || 'Invalid API key');\n                    }\n                }\n            })[\"ChatPage.useEffect\"]();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], []);\n    // Auto-translate incoming partner messages when enabled\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ChatPage.useEffect\": ()=>{\n            if (!autoTranslate || !user) return;\n            for (const msg of messages){\n                var _translations_msg_id, _translations_msg_id1;\n                if (msg.sender_id === user.id) continue;\n                if (((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.text) || ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.loading)) continue;\n                void translateMessageById(msg.id);\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"ChatPage.useEffect\"], [\n        messages,\n        autoTranslate,\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const sendMessage = async ()=>{\n        if (!input.trim() || isSending || !user) return;\n        const text = input.trim();\n        setInput('');\n        setIsSending(true);\n        const temp = {\n            id: \"temp-\".concat(Date.now()),\n            relationship_id: relationshipId,\n            sender_id: user.id,\n            content_type: 'text',\n            original_text: text,\n            original_language: 'en',\n            has_idiom: false,\n            is_read: false,\n            created_at: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                temp\n            ]);\n        try {\n            const res = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage({\n                relationship_id: relationshipId,\n                original_text: text,\n                content_type: 'text'\n            });\n            setMessages((prev)=>prev.map((m)=>m.id === temp.id ? res.message : m));\n        } catch (err) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(err.message || 'Failed to send');\n            setMessages((prev)=>prev.filter((m)=>m.id !== temp.id));\n            setInput(text);\n        } finally{\n            var _inputRef_current;\n            setIsSending(false);\n            (_inputRef_current = inputRef.current) === null || _inputRef_current === void 0 ? void 0 : _inputRef_current.focus();\n        }\n    };\n    const toggleTranslation = (msgId)=>{\n        setShowTranslation((p)=>({\n                ...p,\n                [msgId]: !p[msgId]\n            }));\n        // If we don't have a cached translation, trigger one when user opens\n        if (!translations[msgId]) {\n            void translateMessageById(msgId);\n        }\n    };\n    // Map common language names to ISO codes (fallbacks).\n    const mapLanguageToCode = (lang)=>{\n        if (!lang) return 'en';\n        const l = lang.toLowerCase();\n        const map = {\n            english: 'en',\n            spanish: 'es',\n            french: 'fr',\n            german: 'de',\n            italian: 'it',\n            portuguese: 'pt',\n            russian: 'ru',\n            chinese: 'zh',\n            'simplified chinese': 'zh-CN',\n            hindi: 'hi',\n            arabic: 'ar',\n            japanese: 'ja',\n            korean: 'ko'\n        };\n        if (map[l]) return map[l];\n        // If already looks like a code (2 or 5 chars like zh-CN), return it\n        if (/^[a-z]{2}(-[A-Z]{2})?$/.test(lang)) return lang;\n        return 'en';\n    };\n    const translateMessageById = async (msgId)=>{\n        var _translations_msgId, _translations_msgId1, _user_languages;\n        const msg = messages.find((m)=>m.id === msgId);\n        if (!msg || !user) return;\n        // Avoid re-translation if already loading/translated\n        if (((_translations_msgId = translations[msgId]) === null || _translations_msgId === void 0 ? void 0 : _translations_msgId.loading) || ((_translations_msgId1 = translations[msgId]) === null || _translations_msgId1 === void 0 ? void 0 : _translations_msgId1.text)) return;\n        // Ensure API key works (checked once on mount); if unknown, perform a quick validation\n        const ensureKeyValid = async ()=>{\n            if (translationApiStatus !== 'unknown') return;\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            if (!key) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError('Missing Google API key');\n                return;\n            }\n            try {\n                const r = await fetch(\"https://translation.googleapis.com/language/translate/v2/languages?key=\".concat(encodeURIComponent(key)));\n                if (!r.ok) {\n                    const txt = await r.text().catch(()=>'');\n                    throw new Error(txt || \"status \".concat(r.status));\n                }\n                setTranslationApiStatus('ok');\n                setTranslationApiError(null);\n            } catch (err) {\n                setTranslationApiStatus('bad');\n                setTranslationApiError(err.message || 'Invalid API key');\n            }\n        };\n        if (translationApiStatus === 'unknown') {\n            await ensureKeyValid();\n        }\n        if (translationApiStatus === 'bad') {\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: translationApiError || 'Translation API key invalid'\n                    }\n                }));\n            return;\n        }\n        // Determine target language: prefer explicit user.preferred_language, then first user.languages entry\n        const preferredLangRaw = (user === null || user === void 0 ? void 0 : user.preferred_language) || (user === null || user === void 0 ? void 0 : (_user_languages = user.languages) === null || _user_languages === void 0 ? void 0 : _user_languages[0]);\n        const target = mapLanguageToCode(preferredLangRaw) || 'en';\n        setTranslations((prev)=>({\n                ...prev,\n                [msgId]: {\n                    loading: true\n                }\n            }));\n        try {\n            var _data_data_translations_, _data_data_translations, _data_data;\n            const key = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;\n            const res = await fetch(\"https://translation.googleapis.com/language/translate/v2?key=\".concat(encodeURIComponent(key)), {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    q: msg.original_text,\n                    target\n                })\n            });\n            if (!res.ok) throw new Error(\"Translate API error \".concat(res.status));\n            const data = await res.json();\n            const translated = data === null || data === void 0 ? void 0 : (_data_data = data.data) === null || _data_data === void 0 ? void 0 : (_data_data_translations = _data_data.translations) === null || _data_data_translations === void 0 ? void 0 : (_data_data_translations_ = _data_data_translations[0]) === null || _data_data_translations_ === void 0 ? void 0 : _data_data_translations_.translatedText;\n            if (!translated) throw new Error('No translation returned');\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        text: translated\n                    }\n                }));\n        } catch (err) {\n            console.error('Translation failed:', err);\n            setTranslations((prev)=>({\n                    ...prev,\n                    [msgId]: {\n                        error: err.message || 'Translation failed'\n                    }\n                }));\n        }\n    };\n    const fmtTime = (s)=>new Date(s).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    const fmtDate = (s)=>{\n        const d = new Date(s), now = new Date();\n        const diff = Math.floor((now.getTime() - d.getTime()) / 86400000);\n        if (diff === 0) return 'Today';\n        if (diff === 1) return 'Yesterday';\n        return d.toLocaleDateString();\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            className: \"w-8 h-8 mx-auto animate-spin text-familia-400 mb-3\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 259,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm\",\n                            children: \"Loading conversation...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 260,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 258,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 257,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 256,\n            columnNumber: 7\n        }, this);\n    }\n    if (!chatData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-page-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-wrapper items-center justify-center px-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center glass-card max-w-sm p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-10 h-10 mx-auto mb-3 text-muted opacity-30\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 272,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Not Found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 273,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-sm mb-4\",\n                            children: \"This conversation doesn't exist.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/chat\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-primary text-sm\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 32\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 275,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 271,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 269,\n            columnNumber: 7\n        }, this);\n    }\n    const { relationship, partner, my_role, partner_role } = chatData;\n    const isConsecutive = (i)=>{\n        if (i === 0) return false;\n        return messages[i].sender_id === messages[i - 1].sender_id;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-page-container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"chat-wrapper\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"chat-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2.5 min-w-0 flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/chat\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                        className: \"p-1.5 -ml-1 rounded-lg hover:bg-white/5 transition\",\n                                        whileTap: {\n                                            scale: 0.9\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 298,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-shrink-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 rounded-full bg-gradient-to-br from-familia-500 to-bond-500 flex items-center justify-center text-lg shadow-md\",\n                                            children: _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role] || \"\\uD83E\\uDD1D\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-[var(--bg-primary)] \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-500' : 'bg-gray-500')\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 306,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 302,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0 flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-[15px] truncate\",\n                                                    children: (partner === null || partner === void 0 ? void 0 : partner.display_name) || 'Partner'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 313,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (partner === null || partner === void 0 ? void 0 : partner.country) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-[11px] text-muted\",\n                                                    children: partner.country\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 38\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 312,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-[11px] text-muted flex items-center gap-1.5\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"w-1.5 h-1.5 rounded-full \".concat((partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'bg-green-400' : 'bg-gray-400')\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 318,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        (partner === null || partner === void 0 ? void 0 : partner.status) === 'active' ? 'Online' : 'Offline'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 317,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 321,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Your \",\n                                                        partner_role\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 322,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"opacity-40\",\n                                                    children: \"\\xb7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 323,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"badge-level !text-[9px] !px-1.5 !py-0\",\n                                                    children: [\n                                                        \"Lv.\",\n                                                        relationship.level,\n                                                        \" \",\n                                                        _types__WEBPACK_IMPORTED_MODULE_6__.LEVEL_NAMES[relationship.level]\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 324,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 316,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 311,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 295,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                            className: \"p-2 rounded-lg hover:bg-white/5 transition text-muted\",\n                            whileTap: {\n                                scale: 0.9\n                            },\n                            onClick: ()=>setShowInfo(!showInfo),\n                            children: showInfo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 53\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                animate: {\n                                    height: 'auto',\n                                    opacity: 1\n                                },\n                                exit: {\n                                    height: 0,\n                                    opacity: 0\n                                },\n                                className: \"absolute left-0 right-0 top-full overflow-hidden border-t border-[var(--border-color)] bg-[var(--bg-card)] backdrop-blur-xl z-30\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-4 gap-3 px-4 py-3 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-familia-400\",\n                                                    children: relationship.care_score || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 349,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Care\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 348,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-bond-400\",\n                                                    children: relationship.bond_points || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 353,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Bond\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 354,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 352,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-orange-400 flex items-center justify-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                            className: \"w-3.5 h-3.5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 358,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \" \",\n                                                        relationship.streak_days || 0\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 357,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Streak\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 360,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 356,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-base font-bold text-muted\",\n                                                    children: relationship.messages_exchanged || messages.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 363,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-[9px] text-muted\",\n                                                    children: \"Msgs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 364,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 362,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 341,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 339,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 294,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"chat-messages-area\",\n                    children: [\n                        relationship.matched_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] text-[10px] text-muted\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 text-heart-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 377,\n                                        columnNumber: 17\n                                    }, this),\n                                    \"Bond started \",\n                                    fmtDate(relationship.matched_at),\n                                    \" \\xb7 \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[my_role],\n                                    \" \",\n                                    my_role,\n                                    \" & \",\n                                    _types__WEBPACK_IMPORTED_MODULE_6__.ROLE_EMOJIS[partner_role],\n                                    \" \",\n                                    partner_role\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 376,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 13\n                        }, this),\n                        messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-12 px-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 rounded-full bg-familia-500/10 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-8 h-8 text-familia-400 opacity-60\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 386,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 385,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-base font-semibold mb-1\",\n                                    children: \"Start chatting!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 388,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-muted text-xs\",\n                                    children: \"Say hello to your new family member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 389,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 384,\n                            columnNumber: 13\n                        }, this),\n                        messages.map((msg, i)=>{\n                            var _translations_msg_id, _translations_msg_id1, _translations_msg_id2, _translations_msg_id3, _translations_msg_id4;\n                            const isMe = msg.sender_id === (user === null || user === void 0 ? void 0 : user.id);\n                            const showTrans = showTranslation[msg.id];\n                            const hasTranslation = msg.translated_text && msg.translated_text !== msg.original_text;\n                            const consecutive = isConsecutive(i);\n                            const prevMsg = i > 0 ? messages[i - 1] : null;\n                            const showDate = !prevMsg || fmtDate(msg.created_at) !== fmtDate(prevMsg.created_at);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center py-2 mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-3 py-0.5 rounded-full bg-[var(--bg-card)] text-[10px] text-muted border border-[var(--border-color)]\",\n                                            children: fmtDate(msg.created_at)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 404,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex \".concat(isMe ? 'justify-end' : 'justify-start', \" \").concat(consecutive ? 'mt-[3px]' : 'mt-3'),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"max-w-[80%]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"relative px-3 py-[7px] \".concat(isMe ? 'message-sent rounded-2xl rounded-br-[5px]' : 'message-received rounded-2xl rounded-bl-[5px]'),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-[13.5px] leading-[1.4] pr-14\",\n                                                            children: msg.original_text\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 418,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"absolute bottom-[5px] right-2.5 flex items-center gap-0.5 text-[10px] leading-none \".concat(isMe ? 'text-white/35' : 'text-[var(--text-muted)]'),\n                                                            style: {\n                                                                opacity: 0.6\n                                                            },\n                                                            children: [\n                                                                fmtTime(msg.created_at),\n                                                                isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-3.5 h-3.5 -mr-0.5 \".concat(msg.is_read ? 'text-blue-400' : '')\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 425,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 420,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !isMe && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>toggleTranslation(msg.id),\n                                                                            className: \"flex items-center gap-1 text-[10px] text-familia-400/60 hover:text-familia-400 transition\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                                    lineNumber: 437,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                showTranslation[msg.id] ? 'Hide' : 'Translate'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 433,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        ((_translations_msg_id = translations[msg.id]) === null || _translations_msg_id === void 0 ? void 0 : _translations_msg_id.loading) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-muted\",\n                                                                            children: \"Translating\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 441,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        ((_translations_msg_id1 = translations[msg.id]) === null || _translations_msg_id1 === void 0 ? void 0 : _translations_msg_id1.error) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-[10px] text-rose-400\",\n                                                                            children: (_translations_msg_id2 = translations[msg.id]) === null || _translations_msg_id2 === void 0 ? void 0 : _translations_msg_id2.error\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 444,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 432,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                                    children: autoTranslate && ((_translations_msg_id3 = translations[msg.id]) === null || _translations_msg_id3 === void 0 ? void 0 : _translations_msg_id3.text) || showTranslation[msg.id] && ((_translations_msg_id4 = translations[msg.id]) === null || _translations_msg_id4 === void 0 ? void 0 : _translations_msg_id4.text) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                                        initial: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        animate: {\n                                                                            height: 'auto',\n                                                                            opacity: 1\n                                                                        },\n                                                                        exit: {\n                                                                            height: 0,\n                                                                            opacity: 0\n                                                                        },\n                                                                        className: \"mt-1 pt-1 border-t border-white/10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-muted italic\",\n                                                                            children: translations[msg.id].text\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                            lineNumber: 456,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 450,\n                                                                        columnNumber: 31\n                                                                    }, this) : null\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 448,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 431,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setShowCulturalNote(showCulturalNote === msg.id ? null : msg.id),\n                                                            className: \"flex items-center gap-1 mt-1 text-[10px] text-amber-400/60 hover:text-amber-400 transition\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                    lineNumber: 468,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \" Culture tip\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                            lineNumber: 464,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 413,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                    children: showCulturalNote === msg.id && msg.cultural_note && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                                        initial: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        animate: {\n                                                            opacity: 1,\n                                                            scale: 1\n                                                        },\n                                                        exit: {\n                                                            opacity: 0,\n                                                            scale: 0.95\n                                                        },\n                                                        className: \"mt-1 mx-0.5 p-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-[11px] leading-relaxed\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-1 font-semibold text-amber-300 mb-0.5 text-[10px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                        lineNumber: 482,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" Cultural Note\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 481,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-amber-200/70\",\n                                                                children: msg.cultural_note\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                                lineNumber: 484,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                        lineNumber: 475,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 473,\n                                                    columnNumber: 21\n                                                }, this),\n                                                msg.has_idiom && msg.idiom_explanation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-1 mx-0.5 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[11px] text-purple-300\",\n                                                    children: msg.idiom_explanation\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                    lineNumber: 490,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 411,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 402,\n                                columnNumber: 15\n                            }, this);\n                        }),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                            children: isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 5\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                exit: {\n                                    opacity: 0\n                                },\n                                className: \"flex items-end gap-1.5 mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"typing-indicator !py-2 !px-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 27\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {}, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 509,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 508,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                lineNumber: 502,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 500,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messagesEndRef,\n                            className: \"h-1\"\n                        }, void 0, false, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 515,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 373,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                    className: \"chat-footer\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-actions-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/contests?relationship=\".concat(relationshipId),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-amber-500/10 text-amber-400 hover:bg-amber-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 523,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Challenge\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 522,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 521,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/games\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"chat-action-pill bg-purple-500/10 text-purple-400 hover:bg-purple-500/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 528,\n                                                columnNumber: 17\n                                            }, this),\n                                            \" Game\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 527,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 526,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill bg-heart-500/10 text-heart-400 hover:bg-heart-500/20\",\n                                    onClick: ()=>(0,react_hot_toast__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('Coming soon!', {\n                                            icon: \"\\uD83C\\uDF81\"\n                                        }),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 535,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" Gift\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 531,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"chat-action-pill \".concat(autoTranslate ? 'bg-familia-500/15 text-familia-400' : 'bg-white/5 text-muted'),\n                                    onClick: ()=>setAutoTranslate(!autoTranslate),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"w-3 h-3\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 541,\n                                            columnNumber: 15\n                                        }, this),\n                                        \" \",\n                                        autoTranslate ? 'Auto \\u2713' : 'Auto \\u2717'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 13\n                                }, this),\n                                translationApiStatus === 'bad' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-rose-400 text-[11px] ml-2\",\n                                    children: \"Translate key invalid\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 544,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"chat-input-bar\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    className: \"p-1.5 text-muted hover:text-[var(--text-primary)] transition\",\n                                    whileTap: {\n                                        scale: 0.9\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 550,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 549,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            value: input,\n                                            onChange: (e)=>setInput(e.target.value),\n                                            onKeyDown: (e)=>e.key === 'Enter' && !e.shiftKey && sendMessage(),\n                                            placeholder: \"Type a message...\",\n                                            className: \"chat-text-input\",\n                                            disabled: isSending\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 554,\n                                            columnNumber: 15\n                                        }, this),\n                                        autoTranslate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-muted/40 flex items-center gap-0.5 pointer-events-none\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-3 h-3\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                                lineNumber: 565,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                            lineNumber: 564,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.button, {\n                                    onClick: sendMessage,\n                                    disabled: !input.trim() || isSending,\n                                    className: \"p-2.5 rounded-full transition-all \".concat(input.trim() && !isSending ? 'bg-gradient-to-br from-familia-500 to-heart-500 text-white shadow-lg shadow-familia-500/30' : 'bg-white/5 text-muted'),\n                                    whileTap: {\n                                        scale: 0.85\n                                    },\n                                    children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                        className: \"w-5 h-5 animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 580,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCheck_Flame_Gamepad2_Gift_Globe_Heart_Info_Languages_Loader2_Send_Smile_Sparkles_Trophy_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                        lineNumber: 580,\n                                        columnNumber: 75\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                            lineNumber: 548,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n                    lineNumber: 519,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n            lineNumber: 291,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/likhith./cfc_Familya_1/frontend/src/app/chat/[relationshipId]/page.tsx\",\n        lineNumber: 290,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"F4aJR6sCf3NAu31TPJBGtivwJsM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        _lib_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY2hhdC9bcmVsYXRpb25zaGlwSWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFd0Q7QUFDM0I7QUFDdUI7QUFDUjtBQUl0QjtBQUNVO0FBQ1k7QUFDdUQ7QUFDL0Q7QUFVckIsU0FBUzJCOztJQUN0QixNQUFNQyxTQUFTdEIsMERBQVNBO0lBQ3hCLE1BQU11QixpQkFBaUJELE9BQU9DLGNBQWM7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR1AseURBQU9BO0lBQ3hCLE1BQU0sQ0FBQ1EsVUFBVUMsWUFBWSxHQUFHN0IsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUM4QixPQUFPQyxTQUFTLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxXQUFXQyxhQUFhLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQyxVQUFVQyxZQUFZLEdBQUd2QywrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDd0MsaUJBQWlCQyxtQkFBbUIsR0FBR3pDLCtDQUFRQSxDQUEwQixDQUFDO0lBQ2pGLE1BQU0sQ0FBQzBDLGtCQUFrQkMsb0JBQW9CLEdBQUczQywrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxDQUFDNEMsVUFBVUMsWUFBWSxHQUFHN0MsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDOEMsZUFBZUMsaUJBQWlCLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNnRCxjQUFjQyxnQkFBZ0IsR0FBR2pELCtDQUFRQSxDQUF1RSxDQUFDO0lBQ3hILE1BQU0sQ0FBQ2tELHNCQUFzQkMsd0JBQXdCLEdBQUduRCwrQ0FBUUEsQ0FB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Q1BnTCxVQUFVLENBQUNDLElBQU1oTCxTQUFTZ0wsRUFBRXJFLE1BQU0sQ0FBQ21FLEtBQUs7NENBQ3hDRyxXQUFXLENBQUNELElBQU1BLEVBQUVoSSxHQUFHLEtBQUssV0FBVyxDQUFDZ0ksRUFBRUUsUUFBUSxJQUFJakg7NENBQ3REa0gsYUFBWTs0Q0FDWmhELFdBQVU7NENBQ1ZpRCxVQUFVakw7Ozs7Ozt3Q0FFWFksK0JBQ0MsOERBQUNtSDs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ3RKLHFMQUFTQTtnREFBQ3NKLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OzhDQUszQiw4REFBQ3JLLGtEQUFNQSxDQUFDd0ssTUFBTTtvQ0FDWmMsU0FBU25GO29DQUNUbUgsVUFBVSxDQUFDckwsTUFBTW1FLElBQUksTUFBTS9EO29DQUMzQmdJLFdBQVcscUNBSVYsT0FIQ3BJLE1BQU1tRSxJQUFJLE1BQU0sQ0FBQy9ELFlBQ2IsK0ZBQ0E7b0NBRU4ySSxVQUFVO3dDQUFFQyxPQUFPO29DQUFLOzhDQUV2QjVJLDBCQUFZLDhEQUFDbEIsb0xBQU9BO3dDQUFDa0osV0FBVTs7Ozs7NkRBQTRCLDhEQUFDN0oscUxBQUlBO3dDQUFDNkosV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU8xRjtHQW5qQndCMUk7O1FBQ1ByQixzREFBU0E7UUFFUGlCLHFEQUFPQTs7O0tBSEZJIiwic291cmNlcyI6WyIvVXNlcnMvbGlraGl0aC4vY2ZjX0ZhbWlseWFfMS9mcm9udGVuZC9zcmMvYXBwL2NoYXQvW3JlbGF0aW9uc2hpcElkXS9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7XG4gIEFycm93TGVmdCwgU2VuZCwgR2xvYmUsIEhlYXJ0LCBTbWlsZSwgR2FtZXBhZDIsIFRyb3BoeSwgSW5mbyxcbiAgTGFuZ3VhZ2VzLCBTcGFya2xlcywgRmxhbWUsIEdpZnQsIExvYWRlcjIsIFgsIENoZWNrQ2hlY2tcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGFwaSB9IGZyb20gJ0AvbGliL2FwaSc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9saWIvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgUk9MRV9FTU9KSVMsIExFVkVMX05BTUVTLCBMRVZFTF9GRUFUVVJFUywgTWVzc2FnZSwgUmVsYXRpb25zaGlwLCBQcm9maWxlIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgdG9hc3QgZnJvbSAncmVhY3QtaG90LXRvYXN0JztcblxuaW50ZXJmYWNlIENoYXREYXRhIHtcbiAgcmVsYXRpb25zaGlwOiBSZWxhdGlvbnNoaXA7XG4gIHBhcnRuZXI6IFByb2ZpbGU7XG4gIG15X3JvbGU6IHN0cmluZztcbiAgcGFydG5lcl9yb2xlOiBzdHJpbmc7XG4gIGZlYXR1cmVzX3VubG9ja2VkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByZWxhdGlvbnNoaXBJZCA9IHBhcmFtcy5yZWxhdGlvbnNoaXBJZCBhcyBzdHJpbmc7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzVHlwaW5nLCBzZXRJc1R5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2NoYXREYXRhLCBzZXRDaGF0RGF0YV0gPSB1c2VTdGF0ZTxDaGF0RGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1RyYW5zbGF0aW9uLCBzZXRTaG93VHJhbnNsYXRpb25dID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcbiAgY29uc3QgW3Nob3dDdWx0dXJhbE5vdGUsIHNldFNob3dDdWx0dXJhbE5vdGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93SW5mbywgc2V0U2hvd0luZm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXV0b1RyYW5zbGF0ZSwgc2V0QXV0b1RyYW5zbGF0ZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3RyYW5zbGF0aW9ucywgc2V0VHJhbnNsYXRpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHsgdGV4dD86IHN0cmluZzsgbG9hZGluZz86IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+Pih7fSk7XG4gIGNvbnN0IFt0cmFuc2xhdGlvbkFwaVN0YXR1cywgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXNdID0gdXNlU3RhdGU8J3Vua25vd24nIHwgJ29rJyB8ICdiYWQnPigndW5rbm93bicpO1xuICBjb25zdCBbdHJhbnNsYXRpb25BcGlFcnJvciwgc2V0VHJhbnNsYXRpb25BcGlFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRDaGF0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCBbcmVsRGF0YSwgbXNnRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgYXBpLmdldFJlbGF0aW9uc2hpcChyZWxhdGlvbnNoaXBJZCksXG4gICAgICAgICAgYXBpLmdldE1lc3NhZ2VzKHJlbGF0aW9uc2hpcElkLCA1MClcbiAgICAgICAgXSk7XG4gICAgICAgIHNldENoYXREYXRhKHJlbERhdGEpO1xuICAgICAgICBzZXRNZXNzYWdlcyhtc2dEYXRhLm1lc3NhZ2VzIHx8IFtdKTtcbiAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNoYXQ6JywgZXJyKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGNoYXQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocmVsYXRpb25zaGlwSWQgJiYgdXNlcikgbG9hZENoYXQoKTtcbiAgfSwgW3JlbGF0aW9uc2hpcElkLCB1c2VyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJlbGF0aW9uc2hpcElkIHx8ICF1c2VyIHx8IGlzTG9hZGluZykgcmV0dXJuO1xuICAgIGNvbnN0IHBvbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtc2dEYXRhID0gYXdhaXQgYXBpLmdldE1lc3NhZ2VzKHJlbGF0aW9uc2hpcElkLCA1MCk7XG4gICAgICAgIGNvbnN0IGZyZXNoID0gbXNnRGF0YS5tZXNzYWdlcyB8fCBbXTtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgaWYgKGZyZXNoLmxlbmd0aCAhPT0gcHJldi5sZW5ndGggfHxcbiAgICAgICAgICAgICAgKGZyZXNoLmxlbmd0aCA+IDAgJiYgcHJldi5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICBmcmVzaFtmcmVzaC5sZW5ndGggLSAxXT8uaWQgIT09IHByZXZbcHJldi5sZW5ndGggLSAxXT8uaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJlc2g7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggeyAvKiBzaWxlbnQgKi8gfVxuICAgIH07XG4gICAgY29uc3QgaWQgPSBzZXRJbnRlcnZhbChwb2xsLCAzMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpZCk7XG4gIH0sIFtyZWxhdGlvbnNoaXBJZCwgdXNlciwgaXNMb2FkaW5nXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHsgc2Nyb2xsVG9Cb3R0b20oKTsgfSwgW21lc3NhZ2VzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7IGlmICghaXNMb2FkaW5nKSBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpOyB9LCBbaXNMb2FkaW5nXSk7XG5cbiAgLy8gUHJvYWN0aXZlbHkgdmFsaWRhdGUgR29vZ2xlIFRyYW5zbGF0ZSBBUEkga2V5IG9uY2Ugb24gbW91bnQuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX0FQSV9LRVk7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHNldFRyYW5zbGF0aW9uQXBpU3RhdHVzKCdiYWQnKTtcbiAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoJ01pc3NpbmcgR29vZ2xlIEFQSSBrZXknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly90cmFuc2xhdGlvbi5nb29nbGVhcGlzLmNvbS9sYW5ndWFnZS90cmFuc2xhdGUvdjIvbGFuZ3VhZ2VzP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfWApO1xuICAgICAgICBpZiAoIXIub2spIHtcbiAgICAgICAgICBjb25zdCB0eHQgPSBhd2FpdCByLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR4dCB8fCBgc3RhdHVzICR7ci5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ29rJyk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IobnVsbCk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnYmFkJyk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ludmFsaWQgQVBJIGtleScpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgLy8gQXV0by10cmFuc2xhdGUgaW5jb21pbmcgcGFydG5lciBtZXNzYWdlcyB3aGVuIGVuYWJsZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWF1dG9UcmFuc2xhdGUgfHwgIXVzZXIpIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IG1zZyBvZiBtZXNzYWdlcykge1xuICAgICAgaWYgKG1zZy5zZW5kZXJfaWQgPT09IHVzZXIuaWQpIGNvbnRpbnVlO1xuICAgICAgaWYgKHRyYW5zbGF0aW9uc1ttc2cuaWRdPy50ZXh0IHx8IHRyYW5zbGF0aW9uc1ttc2cuaWRdPy5sb2FkaW5nKSBjb250aW51ZTtcbiAgICAgIHZvaWQgdHJhbnNsYXRlTWVzc2FnZUJ5SWQobXNnLmlkKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbbWVzc2FnZXMsIGF1dG9UcmFuc2xhdGUsIHVzZXI/LmlkXSk7XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dC50cmltKCkgfHwgaXNTZW5kaW5nIHx8ICF1c2VyKSByZXR1cm47XG4gICAgY29uc3QgdGV4dCA9IGlucHV0LnRyaW0oKTtcbiAgICBzZXRJbnB1dCgnJyk7XG4gICAgc2V0SXNTZW5kaW5nKHRydWUpO1xuXG4gICAgY29uc3QgdGVtcDogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgdGVtcC0ke0RhdGUubm93KCl9YCxcbiAgICAgIHJlbGF0aW9uc2hpcF9pZDogcmVsYXRpb25zaGlwSWQsXG4gICAgICBzZW5kZXJfaWQ6IHVzZXIuaWQsXG4gICAgICBjb250ZW50X3R5cGU6ICd0ZXh0JyxcbiAgICAgIG9yaWdpbmFsX3RleHQ6IHRleHQsXG4gICAgICBvcmlnaW5hbF9sYW5ndWFnZTogJ2VuJyxcbiAgICAgIGhhc19pZGlvbTogZmFsc2UsXG4gICAgICBpc19yZWFkOiBmYWxzZSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHRlbXBdKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICByZWxhdGlvbnNoaXBfaWQ6IHJlbGF0aW9uc2hpcElkLFxuICAgICAgICBvcmlnaW5hbF90ZXh0OiB0ZXh0LFxuICAgICAgICBjb250ZW50X3R5cGU6ICd0ZXh0JyxcbiAgICAgIH0pO1xuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtID0+IG0uaWQgPT09IHRlbXAuaWQgPyByZXMubWVzc2FnZSA6IG0pKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgdG9hc3QuZXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kJyk7XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG0gPT4gbS5pZCAhPT0gdGVtcC5pZCkpO1xuICAgICAgc2V0SW5wdXQodGV4dCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0b2dnbGVUcmFuc2xhdGlvbiA9IChtc2dJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2hvd1RyYW5zbGF0aW9uKHAgPT4gKHsgLi4ucCwgW21zZ0lkXTogIXBbbXNnSWRdIH0pKTtcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgY2FjaGVkIHRyYW5zbGF0aW9uLCB0cmlnZ2VyIG9uZSB3aGVuIHVzZXIgb3BlbnNcbiAgICBpZiAoIXRyYW5zbGF0aW9uc1ttc2dJZF0pIHtcbiAgICAgIHZvaWQgdHJhbnNsYXRlTWVzc2FnZUJ5SWQobXNnSWQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBNYXAgY29tbW9uIGxhbmd1YWdlIG5hbWVzIHRvIElTTyBjb2RlcyAoZmFsbGJhY2tzKS5cbiAgY29uc3QgbWFwTGFuZ3VhZ2VUb0NvZGUgPSAobGFuZzogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFsYW5nKSByZXR1cm4gJ2VuJztcbiAgICBjb25zdCBsID0gbGFuZy50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIGVuZ2xpc2g6ICdlbicsIHNwYW5pc2g6ICdlcycsIGZyZW5jaDogJ2ZyJywgZ2VybWFuOiAnZGUnLCBpdGFsaWFuOiAnaXQnLCBwb3J0dWd1ZXNlOiAncHQnLCBydXNzaWFuOiAncnUnLCBjaGluZXNlOiAnemgnLCAnc2ltcGxpZmllZCBjaGluZXNlJzogJ3poLUNOJywgaGluZGk6ICdoaScsIGFyYWJpYzogJ2FyJywgamFwYW5lc2U6ICdqYScsIGtvcmVhbjogJ2tvJ1xuICAgIH07XG4gICAgaWYgKG1hcFtsXSkgcmV0dXJuIG1hcFtsXTtcbiAgICAvLyBJZiBhbHJlYWR5IGxvb2tzIGxpa2UgYSBjb2RlICgyIG9yIDUgY2hhcnMgbGlrZSB6aC1DTiksIHJldHVybiBpdFxuICAgIGlmICgvXlthLXpdezJ9KC1bQS1aXXsyfSk/JC8udGVzdChsYW5nKSkgcmV0dXJuIGxhbmc7XG4gICAgcmV0dXJuICdlbic7XG4gIH07XG5cbiAgY29uc3QgdHJhbnNsYXRlTWVzc2FnZUJ5SWQgPSBhc3luYyAobXNnSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2VzLmZpbmQobSA9PiBtLmlkID09PSBtc2dJZCk7XG4gICAgaWYgKCFtc2cgfHwgIXVzZXIpIHJldHVybjtcbiAgICAvLyBBdm9pZCByZS10cmFuc2xhdGlvbiBpZiBhbHJlYWR5IGxvYWRpbmcvdHJhbnNsYXRlZFxuICAgIGlmICh0cmFuc2xhdGlvbnNbbXNnSWRdPy5sb2FkaW5nIHx8IHRyYW5zbGF0aW9uc1ttc2dJZF0/LnRleHQpIHJldHVybjtcblxuICAgIC8vIEVuc3VyZSBBUEkga2V5IHdvcmtzIChjaGVja2VkIG9uY2Ugb24gbW91bnQpOyBpZiB1bmtub3duLCBwZXJmb3JtIGEgcXVpY2sgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVuc3VyZUtleVZhbGlkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRyYW5zbGF0aW9uQXBpU3RhdHVzICE9PSAndW5rbm93bicpIHJldHVybjtcbiAgICAgIGNvbnN0IGtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9BUElfS0VZO1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ2JhZCcpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaUVycm9yKCdNaXNzaW5nIEdvb2dsZSBBUEkga2V5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly90cmFuc2xhdGlvbi5nb29nbGVhcGlzLmNvbS9sYW5ndWFnZS90cmFuc2xhdGUvdjIvbGFuZ3VhZ2VzP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfWApO1xuICAgICAgICBpZiAoIXIub2spIHtcbiAgICAgICAgICBjb25zdCB0eHQgPSBhd2FpdCByLnRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR4dCB8fCBgc3RhdHVzICR7ci5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VHJhbnNsYXRpb25BcGlTdGF0dXMoJ29rJyk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IobnVsbCk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBzZXRUcmFuc2xhdGlvbkFwaVN0YXR1cygnYmFkJyk7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uQXBpRXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ludmFsaWQgQVBJIGtleScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHJhbnNsYXRpb25BcGlTdGF0dXMgPT09ICd1bmtub3duJykge1xuICAgICAgYXdhaXQgZW5zdXJlS2V5VmFsaWQoKTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNsYXRpb25BcGlTdGF0dXMgPT09ICdiYWQnKSB7XG4gICAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IGVycm9yOiB0cmFuc2xhdGlvbkFwaUVycm9yIHx8ICdUcmFuc2xhdGlvbiBBUEkga2V5IGludmFsaWQnIH0gfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSB0YXJnZXQgbGFuZ3VhZ2U6IHByZWZlciBleHBsaWNpdCB1c2VyLnByZWZlcnJlZF9sYW5ndWFnZSwgdGhlbiBmaXJzdCB1c2VyLmxhbmd1YWdlcyBlbnRyeVxuICAgIGNvbnN0IHByZWZlcnJlZExhbmdSYXcgPSAodXNlciBhcyBhbnkpPy5wcmVmZXJyZWRfbGFuZ3VhZ2UgfHwgKHVzZXIgYXMgYW55KT8ubGFuZ3VhZ2VzPy5bMF07XG4gICAgY29uc3QgdGFyZ2V0ID0gbWFwTGFuZ3VhZ2VUb0NvZGUocHJlZmVycmVkTGFuZ1JhdykgfHwgJ2VuJztcblxuICAgIHNldFRyYW5zbGF0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIFttc2dJZF06IHsgbG9hZGluZzogdHJ1ZSB9IH0pKTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX0FQSV9LRVkgYXMgc3RyaW5nO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vdHJhbnNsYXRpb24uZ29vZ2xlYXBpcy5jb20vbGFuZ3VhZ2UvdHJhbnNsYXRlL3YyP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHE6IG1zZy5vcmlnaW5hbF90ZXh0LCB0YXJnZXQgfSksXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFRyYW5zbGF0ZSBBUEkgZXJyb3IgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBjb25zdCB0cmFuc2xhdGVkID0gZGF0YT8uZGF0YT8udHJhbnNsYXRpb25zPy5bMF0/LnRyYW5zbGF0ZWRUZXh0O1xuICAgICAgaWYgKCF0cmFuc2xhdGVkKSB0aHJvdyBuZXcgRXJyb3IoJ05vIHRyYW5zbGF0aW9uIHJldHVybmVkJyk7XG4gICAgICBzZXRUcmFuc2xhdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBbbXNnSWRdOiB7IHRleHQ6IHRyYW5zbGF0ZWQgfSB9KSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zbGF0aW9uIGZhaWxlZDonLCBlcnIpO1xuICAgICAgc2V0VHJhbnNsYXRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgW21zZ0lkXTogeyBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ1RyYW5zbGF0aW9uIGZhaWxlZCcgfSB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZtdFRpbWUgPSAoczogc3RyaW5nKSA9PiBuZXcgRGF0ZShzKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KTtcbiAgY29uc3QgZm10RGF0ZSA9IChzOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkID0gbmV3IERhdGUocyksIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGlmZiA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBkLmdldFRpbWUoKSkgLyA4NjQwMDAwMCk7XG4gICAgaWYgKGRpZmYgPT09IDApIHJldHVybiAnVG9kYXknO1xuICAgIGlmIChkaWZmID09PSAxKSByZXR1cm4gJ1llc3RlcmRheSc7XG4gICAgcmV0dXJuIGQudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gIH07XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtcGFnZS1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXdyYXBwZXIgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBteC1hdXRvIGFuaW1hdGUtc3BpbiB0ZXh0LWZhbWlsaWEtNDAwIG1iLTNcIiAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCB0ZXh0LXNtXCI+TG9hZGluZyBjb252ZXJzYXRpb24uLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghY2hhdERhdGEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXBhZ2UtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC13cmFwcGVyIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBnbGFzcy1jYXJkIG1heC13LXNtIHAtNlwiPlxuICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInctMTAgaC0xMCBteC1hdXRvIG1iLTMgdGV4dC1tdXRlZCBvcGFjaXR5LTMwXCIgLz5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCBtYi0xXCI+Tm90IEZvdW5kPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC1zbSBtYi00XCI+VGhpcyBjb252ZXJzYXRpb24gZG9lc24mYXBvczt0IGV4aXN0LjwvcD5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvY2hhdFwiPjxidXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgdGV4dC1zbVwiPkJhY2s8L2J1dHRvbj48L0xpbms+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHsgcmVsYXRpb25zaGlwLCBwYXJ0bmVyLCBteV9yb2xlLCBwYXJ0bmVyX3JvbGUgfSA9IGNoYXREYXRhO1xuXG4gIGNvbnN0IGlzQ29uc2VjdXRpdmUgPSAoaTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGkgPT09IDApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbWVzc2FnZXNbaV0uc2VuZGVyX2lkID09PSBtZXNzYWdlc1tpIC0gMV0uc2VuZGVyX2lkO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXBhZ2UtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtd3JhcHBlclwiPlxuXG4gICAgICAgIHsvKiDilIDilIAgSGVhZGVyIOKUgOKUgCAqL31cbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJjaGF0LWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIuNSBtaW4tdy0wIGZsZXgtMVwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9jaGF0XCI+XG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uIGNsYXNzTmFtZT1cInAtMS41IC1tbC0xIHJvdW5kZWQtbGcgaG92ZXI6Ymctd2hpdGUvNSB0cmFuc2l0aW9uXCIgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fT5cbiAgICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1mYW1pbGlhLTUwMCB0by1ib25kLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWxnIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgICAgIHtST0xFX0VNT0pJU1twYXJ0bmVyX3JvbGVdIHx8ICdcXHV7MUY5MUR9J31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgLWJvdHRvbS0wLjUgLXJpZ2h0LTAuNSB3LTMgaC0zIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItW3ZhcigtLWJnLXByaW1hcnkpXSAke1xuICAgICAgICAgICAgICAgIHBhcnRuZXI/LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmctZ3JlZW4tNTAwJyA6ICdiZy1ncmF5LTUwMCdcbiAgICAgICAgICAgICAgfWB9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wIGZsZXgtMVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtWzE1cHhdIHRydW5jYXRlXCI+e3BhcnRuZXI/LmRpc3BsYXlfbmFtZSB8fCAnUGFydG5lcid9PC9zcGFuPlxuICAgICAgICAgICAgICAgIHtwYXJ0bmVyPy5jb3VudHJ5ICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtbXV0ZWRcIj57cGFydG5lci5jb3VudHJ5fTwvc3Bhbj59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzExcHhdIHRleHQtbXV0ZWQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B3LTEuNSBoLTEuNSByb3VuZGVkLWZ1bGwgJHtwYXJ0bmVyPy5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2JnLWdyZWVuLTQwMCcgOiAnYmctZ3JheS00MDAnfWB9IC8+XG4gICAgICAgICAgICAgICAgICB7cGFydG5lcj8uc3RhdHVzID09PSAnYWN0aXZlJyA/ICdPbmxpbmUnIDogJ09mZmxpbmUnfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvcGFjaXR5LTQwXCI+Jm1pZGRvdDs8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+WW91ciB7cGFydG5lcl9yb2xlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvcGFjaXR5LTQwXCI+Jm1pZGRvdDs8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2UtbGV2ZWwgIXRleHQtWzlweF0gIXB4LTEuNSAhcHktMFwiPlxuICAgICAgICAgICAgICAgICAgTHYue3JlbGF0aW9uc2hpcC5sZXZlbH0ge0xFVkVMX05BTUVTW3JlbGF0aW9uc2hpcC5sZXZlbF19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWxnIGhvdmVyOmJnLXdoaXRlLzUgdHJhbnNpdGlvbiB0ZXh0LW11dGVkXCJcbiAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dJbmZvKCFzaG93SW5mbyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dJbmZvID8gPFggY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+IDogPEluZm8gY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+fVxuICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cblxuICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICB7c2hvd0luZm8gJiYgKFxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgIGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIHJpZ2h0LTAgdG9wLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci10IGJvcmRlci1bdmFyKC0tYm9yZGVyLWNvbG9yKV0gYmctW3ZhcigtLWJnLWNhcmQpXSBiYWNrZHJvcC1ibHVyLXhsIHotMzBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy00IGdhcC0zIHB4LTQgcHktMyB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtZmFtaWxpYS00MDBcIj57cmVsYXRpb25zaGlwLmNhcmVfc2NvcmUgfHwgMH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIHRleHQtbXV0ZWRcIj5DYXJlPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LWJvbmQtNDAwXCI+e3JlbGF0aW9uc2hpcC5ib25kX3BvaW50cyB8fCAwfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPkJvbmQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkIHRleHQtb3JhbmdlLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGbGFtZSBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+IHtyZWxhdGlvbnNoaXAuc3RyZWFrX2RheXMgfHwgMH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSB0ZXh0LW11dGVkXCI+U3RyZWFrPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtYm9sZCB0ZXh0LW11dGVkXCI+e3JlbGF0aW9uc2hpcC5tZXNzYWdlc19leGNoYW5nZWQgfHwgbWVzc2FnZXMubGVuZ3RofTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtWzlweF0gdGV4dC1tdXRlZFwiPk1zZ3M8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICB7Lyog4pSA4pSAIE1lc3NhZ2VzIOKUgOKUgCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LW1lc3NhZ2VzLWFyZWFcIj5cbiAgICAgICAgICB7cmVsYXRpb25zaGlwLm1hdGNoZWRfYXQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgYmctW3ZhcigtLWJnLWNhcmQpXSBib3JkZXIgYm9yZGVyLVt2YXIoLS1ib3JkZXItY29sb3IpXSB0ZXh0LVsxMHB4XSB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC1oZWFydC00MDBcIiAvPlxuICAgICAgICAgICAgICAgIEJvbmQgc3RhcnRlZCB7Zm10RGF0ZShyZWxhdGlvbnNoaXAubWF0Y2hlZF9hdCl9ICZtaWRkb3Q7IHtST0xFX0VNT0pJU1tteV9yb2xlXX0ge215X3JvbGV9ICYge1JPTEVfRU1PSklTW3BhcnRuZXJfcm9sZV19IHtwYXJ0bmVyX3JvbGV9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7bWVzc2FnZXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTIgcHgtNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBteC1hdXRvIG1iLTQgcm91bmRlZC1mdWxsIGJnLWZhbWlsaWEtNTAwLzEwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1mYW1pbGlhLTQwMCBvcGFjaXR5LTYwXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCBtYi0xXCI+U3RhcnQgY2hhdHRpbmchPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCB0ZXh0LXhzXCI+U2F5IGhlbGxvIHRvIHlvdXIgbmV3IGZhbWlseSBtZW1iZXI8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge21lc3NhZ2VzLm1hcCgobXNnLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc01lID0gbXNnLnNlbmRlcl9pZCA9PT0gdXNlcj8uaWQ7XG4gICAgICAgICAgICBjb25zdCBzaG93VHJhbnMgPSBzaG93VHJhbnNsYXRpb25bbXNnLmlkXTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1RyYW5zbGF0aW9uID0gbXNnLnRyYW5zbGF0ZWRfdGV4dCAmJiBtc2cudHJhbnNsYXRlZF90ZXh0ICE9PSBtc2cub3JpZ2luYWxfdGV4dDtcbiAgICAgICAgICAgIGNvbnN0IGNvbnNlY3V0aXZlID0gaXNDb25zZWN1dGl2ZShpKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZNc2cgPSBpID4gMCA/IG1lc3NhZ2VzW2kgLSAxXSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzaG93RGF0ZSA9ICFwcmV2TXNnIHx8IGZtdERhdGUobXNnLmNyZWF0ZWRfYXQpICE9PSBmbXREYXRlKHByZXZNc2cuY3JlYXRlZF9hdCk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXttc2cuaWR9PlxuICAgICAgICAgICAgICAgIHtzaG93RGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgcHktMiBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTMgcHktMC41IHJvdW5kZWQtZnVsbCBiZy1bdmFyKC0tYmctY2FyZCldIHRleHQtWzEwcHhdIHRleHQtbXV0ZWQgYm9yZGVyIGJvcmRlci1bdmFyKC0tYm9yZGVyLWNvbG9yKV1cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm10RGF0ZShtc2cuY3JlYXRlZF9hdCl9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggJHtpc01lID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J30gJHtjb25zZWN1dGl2ZSA/ICdtdC1bM3B4XScgOiAnbXQtMyd9YH0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LVs4MCVdXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgcHgtMyBweS1bN3B4XSAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzTWVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ21lc3NhZ2Utc2VudCByb3VuZGVkLTJ4bCByb3VuZGVkLWJyLVs1cHhdJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnbWVzc2FnZS1yZWNlaXZlZCByb3VuZGVkLTJ4bCByb3VuZGVkLWJsLVs1cHhdJ1xuICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTMuNXB4XSBsZWFkaW5nLVsxLjRdIHByLTE0XCI+e21zZy5vcmlnaW5hbF90ZXh0fTwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGFic29sdXRlIGJvdHRvbS1bNXB4XSByaWdodC0yLjUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTAuNSB0ZXh0LVsxMHB4XSBsZWFkaW5nLW5vbmUgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWUgPyAndGV4dC13aGl0ZS8zNScgOiAndGV4dC1bdmFyKC0tdGV4dC1tdXRlZCldJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfSBzdHlsZT17eyBvcGFjaXR5OiAwLjYgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm10VGltZShtc2cuY3JlYXRlZF9hdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNNZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NoZWNrIGNsYXNzTmFtZT17YHctMy41IGgtMy41IC1tci0wLjUgJHttc2cuaXNfcmVhZCA/ICd0ZXh0LWJsdWUtNDAwJyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBUcmFuc2xhdGlvbiBVSTogYWx3YXlzIG9mZmVyIHRyYW5zbGF0ZSBmb3IgcGFydG5lciBtZXNzYWdlcy4gVXNlIGNhY2hlZCB0cmFuc2xhdGlvbnMsIHNob3cgbG9hZGluZy9lcnJvciwgc3VwcG9ydCBhdXRvLXRyYW5zbGF0ZS4gKi99XG4gICAgICAgICAgICAgICAgICAgICAgeyFpc01lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVHJhbnNsYXRpb24obXNnLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtWzEwcHhdIHRleHQtZmFtaWxpYS00MDAvNjAgaG92ZXI6dGV4dC1mYW1pbGlhLTQwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFuZ3VhZ2VzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dUcmFuc2xhdGlvblttc2cuaWRdID8gJ0hpZGUnIDogJ1RyYW5zbGF0ZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RyYW5zbGF0aW9uc1ttc2cuaWRdPy5sb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtbXV0ZWRcIj5UcmFuc2xhdGluZ+KApjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGlvbnNbbXNnLmlkXT8uZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1yb3NlLTQwMFwiPnt0cmFuc2xhdGlvbnNbbXNnLmlkXT8uZXJyb3J9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhhdXRvVHJhbnNsYXRlICYmIHRyYW5zbGF0aW9uc1ttc2cuaWRdPy50ZXh0KSB8fCAoc2hvd1RyYW5zbGF0aW9uW21zZy5pZF0gJiYgdHJhbnNsYXRpb25zW21zZy5pZF0/LnRleHQpID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBoZWlnaHQ6ICdhdXRvJywgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIHB0LTEgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkIGl0YWxpY1wiPnt0cmFuc2xhdGlvbnNbbXNnLmlkXS50ZXh0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAge21zZy5jdWx0dXJhbF9ub3RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0N1bHR1cmFsTm90ZShzaG93Q3VsdHVyYWxOb3RlID09PSBtc2cuaWQgPyBudWxsIDogbXNnLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgbXQtMSB0ZXh0LVsxMHB4XSB0ZXh0LWFtYmVyLTQwMC82MCBob3Zlcjp0ZXh0LWFtYmVyLTQwMCB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDdWx0dXJlIHRpcFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICAgICAgICB7c2hvd0N1bHR1cmFsTm90ZSA9PT0gbXNnLmlkICYmIG1zZy5jdWx0dXJhbF9ub3RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgc2NhbGU6IDAuOTUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCBzY2FsZTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgbXgtMC41IHAtMiByb3VuZGVkLXhsIGJnLWFtYmVyLTUwMC8xMCBib3JkZXIgYm9yZGVyLWFtYmVyLTUwMC8yMCB0ZXh0LVsxMXB4XSBsZWFkaW5nLXJlbGF4ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIGZvbnQtc2VtaWJvbGQgdGV4dC1hbWJlci0zMDAgbWItMC41IHRleHQtWzEwcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPiBDdWx0dXJhbCBOb3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWFtYmVyLTIwMC83MFwiPnttc2cuY3VsdHVyYWxfbm90ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG5cbiAgICAgICAgICAgICAgICAgICAge21zZy5oYXNfaWRpb20gJiYgbXNnLmlkaW9tX2V4cGxhbmF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgbXgtMC41IHAtMiByb3VuZGVkLWxnIGJnLXB1cnBsZS01MDAvMTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtNTAwLzIwIHRleHQtWzExcHhdIHRleHQtcHVycGxlLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pZGlvbV9leHBsYW5hdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG5cbiAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAge2lzVHlwaW5nICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDUgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBnYXAtMS41IG10LTJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0eXBpbmctaW5kaWNhdG9yICFweS0yICFweC0zXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiAvPjxzcGFuIC8+PHNwYW4gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gY2xhc3NOYW1lPVwiaC0xXCIgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIOKUgOKUgCBGb290ZXIg4pSA4pSAICovfVxuICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cImNoYXQtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbnMtYmFyXCI+XG4gICAgICAgICAgICA8TGluayBocmVmPXtgL2NvbnRlc3RzP3JlbGF0aW9uc2hpcD0ke3JlbGF0aW9uc2hpcElkfWB9PlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNoYXQtYWN0aW9uLXBpbGwgYmctYW1iZXItNTAwLzEwIHRleHQtYW1iZXItNDAwIGhvdmVyOmJnLWFtYmVyLTUwMC8yMFwiPlxuICAgICAgICAgICAgICAgIDxUcm9waHkgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IENoYWxsZW5nZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvZ2FtZXNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjaGF0LWFjdGlvbi1waWxsIGJnLXB1cnBsZS01MDAvMTAgdGV4dC1wdXJwbGUtNDAwIGhvdmVyOmJnLXB1cnBsZS01MDAvMjBcIj5cbiAgICAgICAgICAgICAgICA8R2FtZXBhZDIgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEdhbWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNoYXQtYWN0aW9uLXBpbGwgYmctaGVhcnQtNTAwLzEwIHRleHQtaGVhcnQtNDAwIGhvdmVyOmJnLWhlYXJ0LTUwMC8yMFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvYXN0KCdDb21pbmcgc29vbiEnLCB7IGljb246ICdcXHV7MUYzODF9JyB9KX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEdpZnQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IEdpZnRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjaGF0LWFjdGlvbi1waWxsICR7YXV0b1RyYW5zbGF0ZSA/ICdiZy1mYW1pbGlhLTUwMC8xNSB0ZXh0LWZhbWlsaWEtNDAwJyA6ICdiZy13aGl0ZS81IHRleHQtbXV0ZWQnfWB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEF1dG9UcmFuc2xhdGUoIWF1dG9UcmFuc2xhdGUpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8R2xvYmUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+IHthdXRvVHJhbnNsYXRlID8gJ0F1dG8gXFx1MjcxMycgOiAnQXV0byBcXHUyNzE3J31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge3RyYW5zbGF0aW9uQXBpU3RhdHVzID09PSAnYmFkJyAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcm9zZS00MDAgdGV4dC1bMTFweF0gbWwtMlwiPlRyYW5zbGF0ZSBrZXkgaW52YWxpZDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaW5wdXQtYmFyXCI+XG4gICAgICAgICAgICA8bW90aW9uLmJ1dHRvbiBjbGFzc05hbWU9XCJwLTEuNSB0ZXh0LW11dGVkIGhvdmVyOnRleHQtW3ZhcigtLXRleHQtcHJpbWFyeSldIHRyYW5zaXRpb25cIiB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19PlxuICAgICAgICAgICAgICA8U21pbGUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5ICYmIHNlbmRNZXNzYWdlKCl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIGEgbWVzc2FnZS4uLlwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC10ZXh0LWlucHV0XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7YXV0b1RyYW5zbGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yLjUgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtWzEwcHhdIHRleHQtbXV0ZWQvNDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTAuNSBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgICA8TGFuZ3VhZ2VzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWlucHV0LnRyaW0oKSB8fCBpc1NlbmRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMi41IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgIGlucHV0LnRyaW0oKSAmJiAhaXNTZW5kaW5nXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ncmFkaWVudC10by1iciBmcm9tLWZhbWlsaWEtNTAwIHRvLWhlYXJ0LTUwMCB0ZXh0LXdoaXRlIHNoYWRvdy1sZyBzaGFkb3ctZmFtaWxpYS01MDAvMzAnXG4gICAgICAgICAgICAgICAgICA6ICdiZy13aGl0ZS81IHRleHQtbXV0ZWQnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC44NSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNTZW5kaW5nID8gPExvYWRlcjIgY2xhc3NOYW1lPVwidy01IGgtNSBhbmltYXRlLXNwaW5cIiAvPiA6IDxTZW5kIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPn1cbiAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJMaW5rIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VQYXJhbXMiLCJBcnJvd0xlZnQiLCJTZW5kIiwiR2xvYmUiLCJIZWFydCIsIlNtaWxlIiwiR2FtZXBhZDIiLCJUcm9waHkiLCJJbmZvIiwiTGFuZ3VhZ2VzIiwiU3BhcmtsZXMiLCJGbGFtZSIsIkdpZnQiLCJMb2FkZXIyIiwiWCIsIkNoZWNrQ2hlY2siLCJhcGkiLCJ1c2VBdXRoIiwiUk9MRV9FTU9KSVMiLCJMRVZFTF9OQU1FUyIsInRvYXN0IiwiQ2hhdFBhZ2UiLCJwYXJhbXMiLCJyZWxhdGlvbnNoaXBJZCIsInVzZXIiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsImlzVHlwaW5nIiwic2V0SXNUeXBpbmciLCJpc1NlbmRpbmciLCJzZXRJc1NlbmRpbmciLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJjaGF0RGF0YSIsInNldENoYXREYXRhIiwic2hvd1RyYW5zbGF0aW9uIiwic2V0U2hvd1RyYW5zbGF0aW9uIiwic2hvd0N1bHR1cmFsTm90ZSIsInNldFNob3dDdWx0dXJhbE5vdGUiLCJzaG93SW5mbyIsInNldFNob3dJbmZvIiwiYXV0b1RyYW5zbGF0ZSIsInNldEF1dG9UcmFuc2xhdGUiLCJ0cmFuc2xhdGlvbnMiLCJzZXRUcmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbkFwaVN0YXR1cyIsInNldFRyYW5zbGF0aW9uQXBpU3RhdHVzIiwidHJhbnNsYXRpb25BcGlFcnJvciIsInNldFRyYW5zbGF0aW9uQXBpRXJyb3IiLCJtZXNzYWdlc0VuZFJlZiIsImlucHV0UmVmIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImxvYWRDaGF0IiwicmVsRGF0YSIsIm1zZ0RhdGEiLCJQcm9taXNlIiwiYWxsIiwiZ2V0UmVsYXRpb25zaGlwIiwiZ2V0TWVzc2FnZXMiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwicG9sbCIsImZyZXNoIiwicHJldiIsImxlbmd0aCIsImlkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZm9jdXMiLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX0FQSV9LRVkiLCJyIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJvayIsInR4dCIsInRleHQiLCJjYXRjaCIsIkVycm9yIiwic3RhdHVzIiwibXNnIiwic2VuZGVyX2lkIiwibG9hZGluZyIsInRyYW5zbGF0ZU1lc3NhZ2VCeUlkIiwic2VuZE1lc3NhZ2UiLCJ0cmltIiwidGVtcCIsIkRhdGUiLCJub3ciLCJyZWxhdGlvbnNoaXBfaWQiLCJjb250ZW50X3R5cGUiLCJvcmlnaW5hbF90ZXh0Iiwib3JpZ2luYWxfbGFuZ3VhZ2UiLCJoYXNfaWRpb20iLCJpc19yZWFkIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwicmVzIiwibWFwIiwibSIsImZpbHRlciIsInRvZ2dsZVRyYW5zbGF0aW9uIiwibXNnSWQiLCJwIiwibWFwTGFuZ3VhZ2VUb0NvZGUiLCJsYW5nIiwibCIsInRvTG93ZXJDYXNlIiwiZW5nbGlzaCIsInNwYW5pc2giLCJmcmVuY2giLCJnZXJtYW4iLCJpdGFsaWFuIiwicG9ydHVndWVzZSIsInJ1c3NpYW4iLCJjaGluZXNlIiwiaGluZGkiLCJhcmFiaWMiLCJqYXBhbmVzZSIsImtvcmVhbiIsInRlc3QiLCJmaW5kIiwiZW5zdXJlS2V5VmFsaWQiLCJwcmVmZXJyZWRMYW5nUmF3IiwicHJlZmVycmVkX2xhbmd1YWdlIiwibGFuZ3VhZ2VzIiwidGFyZ2V0IiwiZGF0YSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInEiLCJqc29uIiwidHJhbnNsYXRlZCIsInRyYW5zbGF0ZWRUZXh0IiwiZm10VGltZSIsInMiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiZm10RGF0ZSIsImQiLCJkaWZmIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiaHJlZiIsImJ1dHRvbiIsInJlbGF0aW9uc2hpcCIsInBhcnRuZXIiLCJteV9yb2xlIiwicGFydG5lcl9yb2xlIiwiaXNDb25zZWN1dGl2ZSIsImkiLCJoZWFkZXIiLCJ3aGlsZVRhcCIsInNjYWxlIiwic3BhbiIsImRpc3BsYXlfbmFtZSIsImNvdW50cnkiLCJsZXZlbCIsIm9uQ2xpY2siLCJpbml0aWFsIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImFuaW1hdGUiLCJleGl0IiwiY2FyZV9zY29yZSIsImJvbmRfcG9pbnRzIiwic3RyZWFrX2RheXMiLCJtZXNzYWdlc19leGNoYW5nZWQiLCJtYXRjaGVkX2F0IiwiaDMiLCJpc01lIiwic2hvd1RyYW5zIiwiaGFzVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVkX3RleHQiLCJjb25zZWN1dGl2ZSIsInByZXZNc2ciLCJzaG93RGF0ZSIsInN0eWxlIiwiY3VsdHVyYWxfbm90ZSIsImlkaW9tX2V4cGxhbmF0aW9uIiwieSIsInJlZiIsImZvb3RlciIsImljb24iLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsIm9uS2V5RG93biIsInNoaWZ0S2V5IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/chat/[relationshipId]/page.tsx\n"));

/***/ })

});